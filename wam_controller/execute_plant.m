
x(:,1) = statespace5(transpose([-0.110600000000000,-1.94900000000000,-0.192000000000000,3.18400000000000,0.282500000000000,0.0969000000000000,-0.279800000000000]),zeros(7,1),[4;0;0;0;0;0;0]);
q(1,:) = transpose(x(1:7));
qd(1,:) = transpose(x(8:14));

if q(1,1)<-2.6
   qd(1,1)=0;
    q(1,1) = -2.6;
end 
if q(1,1)>2.6
   qd(1,1)=0;
    q(1,1) = 2.6;
end 
if q(1,2)<-2
   qd(1,2)=0;
    q(1,2) = -2;
end 
if q(1,2)>2
   qd(1,2)=0;
    q(1,2) = 2;
end 

if q(1,3)<-2.8
    q(1,3) = -2.8;
    qd(1,3)=0;
end 
if q(1,3)>2.8
    q(1,3) = 2.8;
    qd(1,3)=0;
end 

if q(1,4)>3.1
    q(1,4) = 3.1;
    qd(1,4)=0;
end 
if q(1,4)<-0.9
    q(1,4) = -0.9;
    qd(1,4)=0;
end

if q(1,5)<-4.8
    q(1,5) = -4.8;
    qd(1,5)=0;
end 
if q(1,5)>1.3
    q(1,5) = 1.3;
    qd(1,5)=0;
end 

if q(1,6)<-1.6
    q(1,6) = -1.6;
    qd(1,6)=0;
end 

if q(1,6)>1.6
    q(1,6) = 1.6;
    qd(1,6)=0;
end 
if q(1,7)>2.2
    q(1,7) = 2.2;
    qd(1,7)=0;
end 
if q(1,7)<-2.2
    q(1,7) = -2.2;
    qd(1,7)=0;
end 
for i=2:663,
    x(:,i)= statespace5(transpose(q(i-1,:)),transpose(qd(i-1,:)),[4;0;0;0;0;0;0]);
    q(i,:)= transpose(x((1:7),i));
    qd(i,:)= transpose(x((8:14),i));

  if q(i,1)<-2.6
   qd(i,1)=0;
    q(i,1) = -2.6;
end 
if q(i,1)>2.6
   qd(i,1)=0;
    q(i,1) = 2.6;
end 
if q(i,2)<-2
   qd(i,2)=0;
    q(i,2) = -2;
end 
if q(i,2)>2
   qd(i,2)=0;
    q(i,2) = 2;
end 

if q(i,3)<-2.8
    q(i,3) = -2.8;
    qd(i,3)=0;
end 
if q(i,3)>2.8
    q(i,3) = 2.8;
    qd(i,3)=0;
end 

if q(i,4)>3.1
    q(i,4) = 3.1;
    qd(i,4)=0;
end 
if q(i,4)<-0.9
    q(i,4) = -0.9;
    qd(i,4)=0;
    
end 

if q(i,5)<-4.8
    q(i,5) = -4.8;
    qd(i,5)=0;
end 
if q(i,5)>1.3
    q(i,5) = 1.3;
    qd(i,5)=0;
end 

if q(i,6)<-1.6
    q(i,6) = -1.6;
    qd(i,6)=0;
end 

if q(i,6)>1.6
    q(i,6) = 1.6;
    qd(i,6)=0;
end 

if q(i,7)>2.2
    q(i,7) = 2.2;
    qd(i,7)=0;
end 
if q(i,7)<-2.2
    q(i,7) = -2.2;
    qd(i,7)=0;
end 
   
end 
