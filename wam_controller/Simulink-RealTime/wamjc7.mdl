Model {
  Name			  "wamjc7"
  Version		  8.3
  MdlSubVersion		  0
  SavedCharacterEncoding  "windows-1252"
  GraphicalInterface {
    NumRootInports	    0
    NumRootOutports	    0
    ParameterArgumentNames  ""
    ComputedModelVersion    "1.3984"
    NumModelReferences	    0
    NumTestPointedSignals   0
  }
  SaveDefaultBlockParams  on
  ScopeRefreshTime	  0.035000
  OverrideScopeRefreshTime on
  DisableAllScopes	  off
  DataTypeOverride	  "UseLocalSettings"
  DataTypeOverrideAppliesTo "AllNumericTypes"
  MinMaxOverflowLogging	  "UseLocalSettings"
  MinMaxOverflowArchiveMode "Overwrite"
  FPTRunName		  "Run 1"
  MaxMDLFileLineLength	  120
  UserBdParams		  "xpc_rtwmakecfg_data"
  Object {
    $PropName		    "BdWindowsInfo"
    $ObjectID		    1
    $ClassName		    "Simulink.BDWindowsInfo"
    Array {
      Type		      "Simulink.WindowInfo"
      Dimension		      2
      Object {
	$ObjectID		2
	IsActive		[0]
	Location		[16.0, 52.0, 1300.0, 1044.0]
	Object {
	  $PropName		  "ModelBrowserInfo"
	  $ObjectID		  3
	  $ClassName		  "Simulink.ModelBrowserInfo"
	  Visible		  [0]
	  DockPosition		  "Left"
	  Width			  [50]
	  Height		  [50]
	  Filter		  [8]
	}
	Object {
	  $PropName		  "ExplorerBarInfo"
	  $ObjectID		  4
	  $ClassName		  "Simulink.ExplorerBarInfo"
	  Visible		  [1]
	}
	Object {
	  $PropName		  "EditorsInfo"
	  $ObjectID		  5
	  $ClassName		  "Simulink.EditorInfo"
	  IsActive		  [1]
	  ViewObjType		  "SimulinkSubsys"
	  LoadSaveID		  "1233"
	  Extents		  [1250.0, 870.0]
	  ZoomFactor		  [1.5]
	  Offset		  [999.25420620619525, 20.470234771582653]
	}
      }
      Object {
	$ObjectID		6
	IsActive		[1]
	Location		[160.0, 20.0, 1300.0, 1044.0]
	Object {
	  $PropName		  "ModelBrowserInfo"
	  $ObjectID		  7
	  $ClassName		  "Simulink.ModelBrowserInfo"
	  Visible		  [0]
	  DockPosition		  "Left"
	  Width			  [50]
	  Height		  [50]
	  Filter		  [8]
	}
	Object {
	  $PropName		  "ExplorerBarInfo"
	  $ObjectID		  8
	  $ClassName		  "Simulink.ExplorerBarInfo"
	  Visible		  [1]
	}
	Object {
	  $PropName		  "EditorsInfo"
	  $ObjectID		  9
	  $ClassName		  "Simulink.EditorInfo"
	  IsActive		  [1]
	  ViewObjType		  "SimulinkSubsys"
	  LoadSaveID		  "166"
	  Extents		  [1250.0, 870.0]
	  ZoomFactor		  [1.25]
	  Offset		  [179.02760276523259, -102.69523809523798]
	}
      }
      PropName		      "WindowsInfo"
    }
  }
  xpc_rtwmakecfg_data	  "_xpccanac2pci_"
  Created		  "Mon Aug 11 12:03:38 2008"
  Creator		  "Matt Courtney"
  UpdateHistory		  "UpdateHistoryNever"
  ModifiedByFormat	  "%<Auto>"
  LastModifiedBy	  "paulghanem"
  ModifiedDateFormat	  "%<Auto>"
  LastModifiedDate	  "Mon Feb 08 10:34:31 2016"
  RTWModifiedTimeStamp	  376828175
  ModelVersionFormat	  "1.%<AutoIncrement:3984>"
  ConfigurationManager	  "none"
  SampleTimeColors	  off
  SampleTimeAnnotations	  off
  LibraryLinkDisplay	  "none"
  WideLines		  off
  ShowLineDimensions	  on
  ShowPortDataTypes	  off
  ShowDesignRanges	  off
  ShowLoopsOnError	  on
  IgnoreBidirectionalLines off
  ShowStorageClass	  off
  ShowTestPointIcons	  on
  ShowSignalResolutionIcons on
  ShowViewerIcons	  on
  SortedOrder		  off
  ExecutionContextIcon	  off
  ShowLinearizationAnnotations on
  BlockNameDataTip	  off
  BlockParametersDataTip  off
  BlockDescriptionStringDataTip	off
  ToolBar		  on
  StatusBar		  on
  BrowserShowLibraryLinks off
  BrowserLookUnderMasks	  off
  SimulationMode	  "normal"
  PauseTimes		  "5"
  NumberOfSteps		  1
  SnapshotBufferSize	  10
  SnapshotInterval	  10
  NumberOfLastSnapshots	  0
  LinearizationMsg	  "none"
  Profile		  off
  ParamWorkspaceSource	  "MATLABWorkspace"
  AccelSystemTargetFile	  "accel.tlc"
  AccelTemplateMakefile	  "accel_default_tmf"
  AccelMakeCommand	  "make_rtw"
  TryForcingSFcnDF	  off
  Object {
    $PropName		    "DataLoggingOverride"
    $ObjectID		    10
    $ClassName		    "Simulink.SimulationData.ModelLoggingInfo"
    model_		    "wamjc7"
    Array {
      Type		      "Cell"
      Dimension		      1
      Cell		      "wamjc7"
      PropName		      "logAsSpecifiedByModels_"
    }
    Array {
      Type		      "Cell"
      Dimension		      1
      Cell		      ""
      PropName		      "logAsSpecifiedByModelsSSIDs_"
    }
  }
  RecordCoverage	  off
  CovPath		  "/"
  CovSaveName		  "covdata"
  CovMetricSettings	  "dw"
  CovNameIncrementing	  off
  CovHtmlReporting	  on
  CovForceBlockReductionOff on
  CovEnableCumulative	  on
  covSaveCumulativeToWorkspaceVar on
  CovSaveSingleToWorkspaceVar on
  CovCumulativeVarName	  "covCumulativeData"
  CovCumulativeReport	  off
  CovReportOnPause	  on
  CovModelRefEnable	  "Off"
  CovExternalEMLEnable	  off
  CovSFcnEnable		  off
  CovBoundaryAbsTol	  0.000010
  CovBoundaryRelTol	  0.010000
  ExtModeBatchMode	  off
  ExtModeEnableFloating	  on
  ExtModeTrigType	  "manual"
  ExtModeTrigMode	  "normal"
  ExtModeTrigPort	  "1"
  ExtModeTrigElement	  "any"
  ExtModeTrigDuration	  1000
  ExtModeTrigDurationFloating "auto"
  ExtModeTrigHoldOff	  0
  ExtModeTrigDelay	  0
  ExtModeTrigDirection	  "rising"
  ExtModeTrigLevel	  0
  ExtModeArchiveMode	  "off"
  ExtModeAutoIncOneShot	  off
  ExtModeIncDirWhenArm	  off
  ExtModeAddSuffixToVar	  off
  ExtModeWriteAllDataToWs off
  ExtModeArmWhenConnect	  on
  ExtModeSkipDownloadWhenConnect off
  ExtModeLogAll		  on
  ExtModeAutoUpdateStatusClock on
  BufferReuse		  off
  ShowModelReferenceBlockVersion off
  ShowModelReferenceBlockIO off
  Array {
    Type		    "Handle"
    Dimension		    1
    Simulink.ConfigSet {
      $ObjectID		      11
      Version		      "1.14.2"
      Array {
	Type			"Handle"
	Dimension		8
	Simulink.SolverCC {
	  $ObjectID		  12
	  Version		  "1.14.2"
	  StartTime		  "0.0"
	  StopTime		  "inf"
	  AbsTol		  "auto"
	  FixedStep		  "sample_time"
	  InitialStep		  "auto"
	  MaxNumMinSteps	  "-1"
	  MaxOrder		  5
	  ZcThreshold		  "auto"
	  ConsecutiveZCsStepRelTol "10*128*eps"
	  MaxConsecutiveZCs	  "1000"
	  ExtrapolationOrder	  4
	  NumberNewtonIterations  1
	  MaxStep		  "auto"
	  MinStep		  "auto"
	  MaxConsecutiveMinStep	  "1"
	  RelTol		  "1e-3"
	  SolverMode		  "SingleTasking"
	  EnableConcurrentExecution off
	  ConcurrentTasks	  off
	  Solver		  "ode4"
	  SolverName		  "ode4"
	  SolverJacobianMethodControl "auto"
	  ShapePreserveControl	  "DisableAll"
	  ZeroCrossControl	  "UseLocalSettings"
	  ZeroCrossAlgorithm	  "Nonadaptive"
	  AlgebraicLoopSolver	  "TrustRegion"
	  SolverResetMethod	  "Fast"
	  PositivePriorityOrder	  off
	  AutoInsertRateTranBlk	  off
	  SampleTimeConstraint	  "Unconstrained"
	  InsertRTBMode		  "Whenever possible"
	}
	Simulink.DataIOCC {
	  $ObjectID		  13
	  Version		  "1.14.2"
	  Decimation		  "1"
	  ExternalInput		  "[t, u]"
	  FinalStateName	  "xFinal"
	  InitialState		  "xInitial"
	  LimitDataPoints	  on
	  MaxDataPoints		  "1000"
	  LoadExternalInput	  off
	  LoadInitialState	  off
	  SaveFinalState	  off
	  SaveCompleteFinalSimState off
	  SaveFormat		  "Array"
	  SignalLoggingSaveFormat "ModelDataLogs"
	  SaveOutput		  on
	  SaveState		  off
	  SignalLogging		  on
	  DSMLogging		  on
	  InspectSignalLogs	  off
	  VisualizeSimOutput	  on
	  SaveTime		  on
	  ReturnWorkspaceOutputs  off
	  StateSaveName		  "xout"
	  TimeSaveName		  "tout"
	  OutputSaveName	  "yout"
	  SignalLoggingName	  "logsout"
	  DSMLoggingName	  "dsmout"
	  OutputOption		  "RefineOutputTimes"
	  OutputTimes		  "[]"
	  ReturnWorkspaceOutputsName "out"
	  Refine		  "1"
	}
	Simulink.OptimizationCC {
	  $ObjectID		  14
	  Version		  "1.14.2"
	  Array {
	    Type		    "Cell"
	    Dimension		    8
	    Cell		    "ZeroExternalMemoryAtStartup"
	    Cell		    "ZeroInternalMemoryAtStartup"
	    Cell		    "NoFixptDivByZeroProtection"
	    Cell		    "OptimizeModelRefInitCode"
	    Cell		    "PassReuseOutputArgsAs"
	    Cell		    "PassReuseOutputArgsThreshold"
	    Cell		    "BooleansAsBitfields"
	    Cell		    "UseSpecifiedMinMax"
	    PropName		    "DisabledProps"
	  }
	  BlockReduction	  off
	  BooleanDataType	  off
	  ConditionallyExecuteInputs on
	  InlineParams		  off
	  UseIntDivNetSlope	  off
	  UseFloatMulNetSlope	  off
	  DefaultUnderspecifiedDataType	"double"
	  UseSpecifiedMinMax	  off
	  InlineInvariantSignals  off
	  OptimizeBlockIOStorage  off
	  BufferReuse		  off
	  EnhancedBackFolding	  off
	  CachingGlobalReferences off
	  GlobalBufferReuse	  off
	  StrengthReduction	  off
	  ExpressionFolding	  off
	  BooleansAsBitfields	  off
	  BitfieldContainerType	  "uint_T"
	  EnableMemcpy		  on
	  MemcpyThreshold	  64
	  PassReuseOutputArgsAs	  "Structure reference"
	  ExpressionDepthLimit	  2147483647
	  FoldNonRolledExpr	  on
	  LocalBlockOutputs	  off
	  RollThreshold		  5
	  SystemCodeInlineAuto	  off
	  StateBitsets		  off
	  DataBitsets		  off
	  ActiveStateOutputEnumStorageType "Native Integer"
	  UseTempVars		  off
	  ZeroExternalMemoryAtStartup on
	  ZeroInternalMemoryAtStartup on
	  InitFltsAndDblsToZero	  on
	  NoFixptDivByZeroProtection off
	  EfficientFloat2IntCast  off
	  EfficientMapNaN2IntZero on
	  OptimizeModelRefInitCode off
	  LifeSpan		  "inf"
	  MaxStackSize		  "Inherit from target"
	  BufferReusableBoundary  on
	  SimCompilerOptimization "Off"
	  AccelVerboseBuild	  off
	  ParallelExecutionInRapidAccelerator on
	}
	Simulink.DebuggingCC {
	  $ObjectID		  15
	  Version		  "1.14.2"
	  RTPrefix		  "error"
	  ConsistencyChecking	  "none"
	  ArrayBoundsChecking	  "none"
	  SignalInfNanChecking	  "none"
	  SignalRangeChecking	  "none"
	  ReadBeforeWriteMsg	  "UseLocalSettings"
	  WriteAfterWriteMsg	  "UseLocalSettings"
	  WriteAfterReadMsg	  "UseLocalSettings"
	  AlgebraicLoopMsg	  "warning"
	  ArtificialAlgebraicLoopMsg "warning"
	  SaveWithDisabledLinksMsg "warning"
	  SaveWithParameterizedLinksMsg	"warning"
	  CheckSSInitialOutputMsg on
	  UnderspecifiedInitializationDetection	"Classic"
	  MergeDetectMultiDrivingBlocksExec "none"
	  CheckExecutionContextPreStartOutputMsg off
	  CheckExecutionContextRuntimeOutputMsg	off
	  SignalResolutionControl "UseLocalSettings"
	  BlockPriorityViolationMsg "warning"
	  MinStepSizeMsg	  "warning"
	  TimeAdjustmentMsg	  "none"
	  MaxConsecutiveZCsMsg	  "error"
	  MaskedZcDiagnostic	  "warning"
	  IgnoredZcDiagnostic	  "warning"
	  SolverPrmCheckMsg	  "warning"
	  InheritedTsInSrcMsg	  "warning"
	  DiscreteInheritContinuousMsg "warning"
	  MultiTaskDSMMsg	  "error"
	  MultiTaskCondExecSysMsg "error"
	  MultiTaskRateTransMsg	  "error"
	  SingleTaskRateTransMsg  "none"
	  TasksWithSamePriorityMsg "warning"
	  SigSpecEnsureSampleTimeMsg "warning"
	  CheckMatrixSingularityMsg "none"
	  IntegerOverflowMsg	  "warning"
	  Int32ToFloatConvMsg	  "warning"
	  ParameterDowncastMsg	  "error"
	  ParameterOverflowMsg	  "error"
	  ParameterUnderflowMsg	  "none"
	  ParameterPrecisionLossMsg "warning"
	  ParameterTunabilityLossMsg "warning"
	  FixptConstUnderflowMsg  "none"
	  FixptConstOverflowMsg	  "none"
	  FixptConstPrecisionLossMsg "none"
	  UnderSpecifiedDataTypeMsg "none"
	  UnnecessaryDatatypeConvMsg "none"
	  VectorMatrixConversionMsg "none"
	  InvalidFcnCallConnMsg	  "error"
	  FcnCallInpInsideContextMsg "UseLocalSettings"
	  SignalLabelMismatchMsg  "none"
	  UnconnectedInputMsg	  "warning"
	  UnconnectedOutputMsg	  "warning"
	  UnconnectedLineMsg	  "warning"
	  SFcnCompatibilityMsg	  "none"
	  FrameProcessingCompatibilityMsg "warning"
	  UniqueDataStoreMsg	  "none"
	  BusObjectLabelMismatch  "warning"
	  RootOutportRequireBusObject "warning"
	  AssertControl		  "UseLocalSettings"
	  EnableOverflowDetection off
	  ModelReferenceIOMsg	  "none"
	  ModelReferenceMultiInstanceNormalModeStructChecksumCheck "error"
	  ModelReferenceVersionMismatchMessage "none"
	  ModelReferenceIOMismatchMessage "none"
	  ModelReferenceCSMismatchMessage "none"
	  UnknownTsInhSupMsg	  "warning"
	  ModelReferenceDataLoggingMessage "warning"
	  ModelReferenceSymbolNameMessage "warning"
	  ModelReferenceExtraNoncontSigs "error"
	  StateNameClashWarn	  "warning"
	  SimStateInterfaceChecksumMismatchMsg "warning"
	  SimStateOlderReleaseMsg "error"
	  InitInArrayFormatMsg	  "warning"
	  StrictBusMsg		  "Warning"
	  BusNameAdapt		  "WarnAndRepair"
	  NonBusSignalsTreatedAsBus "none"
	  LoggingUnavailableSignals "error"
	  BlockIODiagnostic	  "none"
	  SFUnusedDataAndEventsDiag "warning"
	  SFUnexpectedBacktrackingDiag "warning"
	  SFInvalidInputDataAccessInChartInitDiag "warning"
	  SFNoUnconditionalDefaultTransitionDiag "warning"
	  SFTransitionOutsideNaturalParentDiag "warning"
	  SFUnconditionalTransitionShadowingDiag "warning"
	  SFUndirectedBroadcastEventsDiag "warning"
	  SFTransitionActionBeforeConditionDiag	"warning"
	}
	Simulink.HardwareCC {
	  $ObjectID		  16
	  Version		  "1.14.2"
	  ProdBitPerChar	  8
	  ProdBitPerShort	  16
	  ProdBitPerInt		  32
	  ProdBitPerLong	  32
	  ProdBitPerLongLong	  64
	  ProdBitPerFloat	  32
	  ProdBitPerDouble	  64
	  ProdBitPerPointer	  32
	  ProdLargestAtomicInteger "Char"
	  ProdLargestAtomicFloat  "None"
	  ProdIntDivRoundTo	  "Zero"
	  ProdEndianess		  "LittleEndian"
	  ProdWordSize		  32
	  ProdShiftRightIntArith  on
	  ProdLongLongMode	  off
	  ProdHWDeviceType	  "Generic->32-bit x86 compatible"
	  TargetBitPerChar	  8
	  TargetBitPerShort	  16
	  TargetBitPerInt	  32
	  TargetBitPerLong	  32
	  TargetBitPerLongLong	  64
	  TargetBitPerFloat	  32
	  TargetBitPerDouble	  64
	  TargetBitPerPointer	  32
	  TargetLargestAtomicInteger "Char"
	  TargetLargestAtomicFloat "None"
	  TargetShiftRightIntArith on
	  TargetLongLongMode	  off
	  TargetIntDivRoundTo	  "Undefined"
	  TargetEndianess	  "Unspecified"
	  TargetWordSize	  32
	  TargetTypeEmulationWarnSuppressLevel 0
	  TargetPreprocMaxBitsSint 32
	  TargetPreprocMaxBitsUint 32
	  TargetHWDeviceType	  "Specified"
	  TargetUnknown		  off
	  ProdEqTarget		  on
	}
	Simulink.ModelReferenceCC {
	  $ObjectID		  17
	  Version		  "1.14.2"
	  UpdateModelReferenceTargets "IfOutOfDateOrStructuralChange"
	  CheckModelReferenceTargetMessage "error"
	  EnableParallelModelReferenceBuilds off
	  ParallelModelReferenceErrorOnInvalidPool on
	  ParallelModelReferenceMATLABWorkerInit "None"
	  ModelReferenceNumInstancesAllowed "Multi"
	  PropagateVarSize	  "Infer from blocks in model"
	  ModelReferencePassRootInputsByReference on
	  ModelReferenceMinAlgLoopOccurrences off
	  PropagateSignalLabelsOutOfModel off
	  SupportModelReferenceSimTargetCustomCode off
	}
	Simulink.SFSimCC {
	  $ObjectID		  18
	  Version		  "1.14.2"
	  SFSimEnableDebug	  on
	  SFSimOverflowDetection  on
	  SFSimEcho		  on
	  SimBlas		  on
	  SimCtrlC		  on
	  SimExtrinsic		  on
	  SimIntegrity		  on
	  SimUseLocalCustomCode	  off
	  SimParseCustomCode	  off
	  SimBuildMode		  "sf_incremental_build"
	  SimGenImportedTypeDefs  off
	}
	Simulink.RTWCC {
	  $BackupClass		  "Simulink.RTWCC"
	  $ObjectID		  19
	  Version		  "1.14.2"
	  Array {
	    Type		    "Cell"
	    Dimension		    9
	    Cell		    "IncludeHyperlinkInReport"
	    Cell		    "GenerateTraceInfo"
	    Cell		    "GenerateTraceReport"
	    Cell		    "GenerateTraceReportSl"
	    Cell		    "GenerateTraceReportSf"
	    Cell		    "GenerateTraceReportEml"
	    Cell		    "TargetLang"
	    Cell		    "GenerateSLWebview"
	    Cell		    "GenerateCodeMetricsReport"
	    PropName		    "DisabledProps"
	  }
	  SystemTargetFile	  "xpctarget.tlc"
	  TLCOptions		  ""
	  GenCodeOnly		  off
	  MakeCommand		  "make_rtw"
	  GenerateMakefile	  on
	  PackageGeneratedCodeAndArtifacts off
	  PackageName		  ""
	  TemplateMakefile	  "xpc_default_tmf"
	  PostCodeGenCommand	  ""
	  Description		  "xPC Target"
	  GenerateReport	  off
	  SaveLog		  off
	  RTWVerbose		  on
	  RetainRTWFile		  off
	  ProfileTLC		  off
	  TLCDebug		  off
	  TLCCoverage		  off
	  TLCAssert		  off
	  ProcessScriptMode	  "Default"
	  ConfigurationMode	  "Optimized"
	  ProcessScript		  "xpctarget_make_rtw_hook"
	  ConfigurationScript	  ""
	  ConfigAtBuild		  off
	  RTWUseLocalCustomCode	  off
	  RTWUseSimCustomCode	  off
	  CustomSourceCode	  ""
	  CustomHeaderCode	  ""
	  CustomInclude		  ""
	  CustomSource		  ""
	  CustomLibrary		  ""
	  CustomInitializer	  ""
	  CustomTerminator	  ""
	  Toolchain		  "Automatically locate an installed toolchain"
	  BuildConfiguration	  "Faster Builds"
	  IncludeHyperlinkInReport off
	  LaunchReport		  off
	  PortableWordSizes	  off
	  CreateSILPILBlock	  "None"
	  CodeExecutionProfiling  off
	  CodeExecutionProfileVariable "executionProfile"
	  CodeProfilingSaveOptions "SummaryOnly"
	  CodeProfilingInstrumentation off
	  SILDebugging		  off
	  TargetLang		  "C"
	  IncludeBusHierarchyInRTWFileBlockHierarchyMap	off
	  IncludeERTFirstTime	  off
	  GenerateTraceInfo	  off
	  GenerateTraceReport	  off
	  GenerateTraceReportSl	  off
	  GenerateTraceReportSf	  off
	  GenerateTraceReportEml  off
	  GenerateCodeInfo	  off
	  GenerateWebview	  off
	  GenerateCodeMetricsReport off
	  GenerateCodeReplacementReport	off
	  RTWCompilerOptimization "On"
	  RTWCustomCompilerOptimizations ""
	  CheckMdlBeforeBuild	  "Off"
	  CustomRebuildMode	  "OnUpdate"
	  DataInitializer	  ""
	  SharedConstantsCachingThreshold 1024
	  Array {
	    Type		    "Handle"
	    Dimension		    2
	    Simulink.CodeAppCC {
	      $ObjectID		      20
	      Version		      "1.14.2"
	      Array {
		Type			"Cell"
		Dimension		21
		Cell			"IgnoreCustomStorageClasses"
		Cell			"InsertBlockDesc"
		Cell			"SFDataObjDesc"
		Cell			"SimulinkDataObjDesc"
		Cell			"DefineNamingRule"
		Cell			"SignalNamingRule"
		Cell			"ParamNamingRule"
		Cell			"InlinedPrmAccess"
		Cell			"CustomSymbolStr"
		Cell			"CustomSymbolStrGlobalVar"
		Cell			"CustomSymbolStrType"
		Cell			"CustomSymbolStrField"
		Cell			"CustomSymbolStrFcn"
		Cell			"CustomSymbolStrBlkIO"
		Cell			"CustomSymbolStrTmpVar"
		Cell			"CustomSymbolStrMacro"
		Cell			"IgnoreTestpoints"
		Cell			"CustomSymbolStrFcnArg"
		Cell			"ReqsInCode"
		Cell			"InsertPolySpaceComments"
		Cell			"MATLABFcnDesc"
		PropName		"DisabledProps"
	      }
	      ForceParamTrailComments off
	      GenerateComments	      on
	      CommentStyle	      "Auto"
	      IgnoreCustomStorageClasses on
	      IgnoreTestpoints	      off
	      IncHierarchyInIds	      off
	      MaxIdLength	      31
	      PreserveName	      off
	      PreserveNameWithParent  off
	      ShowEliminatedStatement off
	      OperatorAnnotations     off
	      IncAutoGenComments      off
	      SimulinkDataObjDesc     off
	      SFDataObjDesc	      off
	      MATLABFcnDesc	      off
	      IncDataTypeInIds	      off
	      MangleLength	      1
	      CustomSymbolStrGlobalVar "$R$N$M"
	      CustomSymbolStrType     "$N$R$M_T"
	      CustomSymbolStrField    "$N$M"
	      CustomSymbolStrFcn      "$R$N$M$F"
	      CustomSymbolStrFcnArg   "rt$I$N$M"
	      CustomSymbolStrBlkIO    "rtb_$N$M"
	      CustomSymbolStrTmpVar   "$N$M"
	      CustomSymbolStrMacro    "$R$N$M"
	      CustomSymbolStrUtil     "$N$C"
	      DefineNamingRule	      "None"
	      ParamNamingRule	      "None"
	      SignalNamingRule	      "None"
	      InsertBlockDesc	      off
	      InsertPolySpaceComments off
	      SimulinkBlockComments   on
	      MATLABSourceComments    off
	      EnableCustomComments    off
	      InternalIdentifier      "Shortened"
	      InlinedPrmAccess	      "Literals"
	      ReqsInCode	      off
	      UseSimReservedNames     off
	    }
	    Simulink.TargetCC {
	      $BackupClass	      "Simulink.TargetCC"
	      $ObjectID		      21
	      Version		      "1.14.2"
	      Array {
		Type			"Cell"
		Dimension		16
		Cell			"IncludeMdlTerminateFcn"
		Cell			"CombineOutputUpdateFcns"
		Cell			"SuppressErrorStatus"
		Cell			"ERTCustomFileBanners"
		Cell			"GenerateSampleERTMain"
		Cell			"GenerateTestInterfaces"
		Cell			"ModelStepFunctionPrototypeControlCompliant"
		Cell			"CPPClassGenCompliant"
		Cell			"PortableWordSizes"
		Cell			"PurelyIntegerCode"
		Cell			"GeneratePreprocessorConditionals"
		Cell			"SupportComplex"
		Cell			"SupportAbsoluteTime"
		Cell			"SupportContinuousTime"
		Cell			"SupportNonInlinedSFcns"
		Cell			"GenerateAllocFcn"
		PropName		"DisabledProps"
	      }
	      TargetFcnLib	      "ansi_tfl_table_tmw.mat"
	      TargetLibSuffix	      ""
	      TargetPreCompLibLocation ""
	      GenFloatMathFcnCalls    "NOT IN USE"
	      TargetLangStandard      "C89/C90 (ANSI)"
	      CodeReplacementLibrary  "XPC_BLAS"
	      UtilityFuncGeneration   "Auto"
	      ERTMultiwordTypeDef     "System defined"
	      ERTMultiwordLength      256
	      MultiwordLength	      2048
	      GenerateFullHeader      on
	      GenerateSampleERTMain   off
	      GenerateTestInterfaces  off
	      ModelReferenceCompliant on
	      ParMdlRefBuildCompliant on
	      CompOptLevelCompliant   on
	      ConcurrentExecutionCompliant on
	      IncludeMdlTerminateFcn  on
	      GeneratePreprocessorConditionals "Disable all"
	      CombineOutputUpdateFcns off
	      CombineSignalStateStructs	off
	      SuppressErrorStatus     off
	      ERTFirstTimeCompliant   off
	      IncludeFileDelimiter    "Auto"
	      ERTCustomFileBanners    off
	      SupportAbsoluteTime     on
	      LogVarNameModifier      "rt_"
	      MatFileLogging	      on
	      MultiInstanceERTCode    off
	      CodeInterfacePackaging  "Nonreusable function"
	      SupportNonFinite	      on
	      SupportComplex	      on
	      PurelyIntegerCode	      off
	      SupportContinuousTime   on
	      SupportNonInlinedSFcns  on
	      SupportVariableSizeSignals off
	      EnableShiftOperators    on
	      ParenthesesLevel	      "Nominal"
	      MATLABClassNameForMDSCustomization "Simulink.SoftwareTarget.TargetSpecificTriggerConfigurationBase"
	      ModelStepFunctionPrototypeControlCompliant off
	      CPPClassGenCompliant    off
	      AutosarCompliant	      off
	      GRTInterface	      on
	      GenerateAllocFcn	      off
	      CustomProperty {
		DataType		"string"
		Name			"RL32ModeModifier"
		Value			"Real-Time"
	      }
	      CustomProperty {
		DataType		"string"
		Name			"ExtMode"
		Value			"on"
	      }
	      CustomProperty {
		DataType		"string"
		Name			"ExtModeMexFile"
		Value			"ext_xpc"
	      }
	      CustomProperty {
		DataType		"string"
		Name			"ExtModeIntrfLevel"
		Value			"Level2 - Open"
	      }
	      CustomProperty {
		DataType		"string"
		Name			"ExtModeArmWhenConnect"
		Value			"off"
	      }
	      CustomProperty {
		DataType		"string"
		Name			"RL32LogTETModifier"
		Value			"on"
	      }
	      CustomProperty {
		DataType		"string"
		Name			"RL32LogBufSizeModifier"
		Value			"100000"
	      }
	      CustomProperty {
		DataType		"string"
		Name			"xPCTaskExecutionProfile"
		Value			"off"
	      }
	      CustomProperty {
		DataType		"string"
		Name			"xPCRL32EventNumber"
		Value			"5000"
	      }
	      CustomProperty {
		DataType		"string"
		Name			"RL32IRQSourceModifier"
		Value			"Timer"
	      }
	      CustomProperty {
		DataType		"string"
		Name			"xPCIRQSourceBoard"
		Value			"None/Other"
	      }
	      CustomProperty {
		DataType		"string"
		Name			"xPCIOIRQSlot"
		Value			"-1"
	      }
	      CustomProperty {
		DataType		"string"
		Name			"xpcDblBuff"
		Value			"off"
	      }
	      CustomProperty {
		DataType		"string"
		Name			"xpcObjCom"
		Value			"off"
	      }
	      CustomProperty {
		DataType		"string"
		Name			"xPCGenerateASAP2"
		Value			"off"
	      }
	      CustomProperty {
		DataType		"string"
		Name			"xPCGenerateXML"
		Value			"off"
	      }
	      CustomProperty {
		DataType		"string"
		Name			"RL32ObjectName"
		Value			"tg"
	      }
	      CustomProperty {
		DataType		"string"
		Name			"xPCisDownloadable"
		Value			"on"
	      }
	      CustomProperty {
		DataType		"string"
		Name			"xPCisDefaultEnv"
		Value			"on"
	      }
	      CustomProperty {
		DataType		"string"
		Name			"xPCisModelTimeout"
		Value			"off"
	      }
	      CustomProperty {
		DataType		"string"
		Name			"xPCModelTimeoutSecs"
		Value			"40"
	      }
	      CustomProperty {
		DataType		"string"
		Name			"xPCLoadParamSetFile"
		Value			"off"
	      }
	      CustomProperty {
		DataType		"string"
		Name			"xPCConcurrentTasks"
		Value			"off"
	      }
	      CustomProperty {
		DataType		"string"
		Name			"xPCEnableSFAnimation"
		Value			"off"
	      }
	    }
	    PropName		    "Components"
	  }
	}
	PropName		"Components"
      }
      Name		      "Configuration"
      ExtraOptions	      "-aGenerateTraceInfo=0 -aIgnoreTestpoints=0 "
      CurrentDlgPage	      "Code Generation/xPC Target options"
      ConfigPrmDlgPosition     [ 477, 83, 1550, 928 ] 
    }
    PropName		    "ConfigurationSets"
  }
  Simulink.ConfigSet {
    $PropName		    "ActiveConfigurationSet"
    $ObjectID		    11
  }
  Object {
    $PropName		    "DataTransfer"
    $ObjectID		    22
    $ClassName		    "Simulink.GlobalDataTransfer"
    DefaultTransitionBetweenSyncTasks "Ensure deterministic transfer (maximum delay)"
    DefaultTransitionBetweenAsyncTasks "Ensure data integrity only"
    DefaultTransitionBetweenContTasks "Ensure deterministic transfer (minimum delay)"
    DefaultExtrapolationMethodBetweenContTasks "None"
    AutoInsertRateTranBlk   [0]
  }
  ExplicitPartitioning	  off
  BlockDefaults {
    ForegroundColor	    "black"
    BackgroundColor	    "white"
    DropShadow		    off
    NamePlacement	    "normal"
    FontName		    "Helvetica"
    FontSize		    10
    FontWeight		    "normal"
    FontAngle		    "normal"
    ShowName		    on
    BlockRotation	    0
    BlockMirror		    off
  }
  AnnotationDefaults {
    HorizontalAlignment	    "center"
    VerticalAlignment	    "middle"
    ForegroundColor	    "black"
    BackgroundColor	    "white"
    DropShadow		    off
    FontName		    "Helvetica"
    FontSize		    10
    FontWeight		    "normal"
    FontAngle		    "normal"
    UseDisplayTextAsClickCallback off
  }
  LineDefaults {
    FontName		    "Helvetica"
    FontSize		    9
    FontWeight		    "normal"
    FontAngle		    "normal"
  }
  MaskDefaults {
    SelfModifiable	    "off"
    IconFrame		    "on"
    IconOpaque		    "on"
    RunInitForIconRedraw    "off"
    IconRotate		    "none"
    PortRotate		    "default"
    IconUnits		    "autoscale"
  }
  MaskParameterDefaults {
    Evaluate		    "on"
    Tunable		    "on"
    NeverSave		    "off"
    Internal		    "off"
    ReadOnly		    "off"
    Enabled		    "on"
    Visible		    "on"
    ToolTip		    "on"
  }
  BlockParameterDefaults {
    Block {
      BlockType		      Abs
      ZeroCross		      on
      SampleTime	      "-1"
      OutMin		      "[]"
      OutMax		      "[]"
      OutDataTypeStr	      "Inherit: Same as input"
      LockScale		      off
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	on
    }
    Block {
      BlockType		      Concatenate
      NumInputs		      "2"
      Mode		      "Vector"
      ConcatenateDimension    "1"
    }
    Block {
      BlockType		      Constant
      Value		      "1"
      VectorParams1D	      on
      SamplingMode	      "Sample based"
      OutMin		      "[]"
      OutMax		      "[]"
      OutDataTypeStr	      "Inherit: Inherit from 'Constant value'"
      LockScale		      off
      SampleTime	      "inf"
      FramePeriod	      "inf"
      PreserveConstantTs      off
    }
    Block {
      BlockType		      DataStoreMemory
      DataStoreName	      "A"
      ReadBeforeWriteMsg      "none"
      WriteAfterWriteMsg      "none"
      WriteAfterReadMsg	      "none"
      InitialValue	      "0"
      StateMustResolveToSignalObject off
      RTWStateStorageClass    "Auto"
      VectorParams1D	      on
      ShowAdditionalParam     off
      OutMin		      "[]"
      OutMax		      "[]"
      OutDataTypeStr	      "Inherit: auto"
      LockScale		      off
      SignalType	      "auto"
      Dimensions	      "-1"
      DataLogging	      off
      DataLoggingLimitDataPoints off
      DataLoggingMaxPoints    "5000"
      DataLoggingDecimateData off
      DataLoggingDecimation   "2"
      DataLoggingNameMode     "SignalName"
    }
    Block {
      BlockType		      DataStoreRead
      DataStoreName	      "A"
      SampleTime	      "-1"
    }
    Block {
      BlockType		      DataStoreWrite
      DataStoreName	      "A"
      SampleTime	      "-1"
    }
    Block {
      BlockType		      DataTypeConversion
      OutMin		      "[]"
      OutMax		      "[]"
      OutDataTypeStr	      "Inherit: Inherit via back propagation"
      LockScale		      off
      ConvertRealWorld	      "Real World Value (RWV)"
      RndMeth		      "Zero"
      SaturateOnIntegerOverflow	on
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Demux
      Outputs		      "4"
      DisplayOption	      "none"
      BusSelectionMode	      off
    }
    Block {
      BlockType		      EnablePort
      StatesWhenEnabling      "held"
      PropagateVarSize	      "Only when enabling"
      ShowOutputPort	      off
      ZeroCross		      on
      PortDimensions	      "1"
      SampleTime	      "-1"
      OutMin		      "[]"
      OutMax		      "[]"
      OutDataTypeStr	      "double"
      Interpolate	      on
    }
    Block {
      BlockType		      Gain
      Gain		      "1"
      Multiplication	      "Element-wise(K.*u)"
      ParamMin		      "[]"
      ParamMax		      "[]"
      ParamDataTypeStr	      "Inherit: Same as input"
      OutMin		      "[]"
      OutMax		      "[]"
      OutDataTypeStr	      "Inherit: Same as input"
      LockScale		      off
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	on
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Inport
      Port		      "1"
      OutputFunctionCall      off
      OutMin		      "[]"
      OutMax		      "[]"
      OutDataTypeStr	      "Inherit: auto"
      LockScale		      off
      BusOutputAsStruct	      off
      PortDimensions	      "-1"
      VarSizeSig	      "Inherit"
      SampleTime	      "-1"
      SignalType	      "auto"
      SamplingMode	      "auto"
      LatchByDelayingOutsideSignal off
      LatchInputForFeedbackSignals off
      Interpolate	      on
    }
    Block {
      BlockType		      Integrator
      ExternalReset	      "none"
      InitialConditionSource  "internal"
      InitialCondition	      "0"
      LimitOutput	      off
      UpperSaturationLimit    "inf"
      LowerSaturationLimit    "-inf"
      ShowSaturationPort      off
      ShowStatePort	      off
      AbsoluteTolerance	      "auto"
      IgnoreLimit	      off
      ZeroCross		      on
      ContinuousStateAttributes	"''"
    }
    Block {
      BlockType		      Logic
      Operator		      "AND"
      Inputs		      "2"
      IconShape		      "rectangular"
      AllPortsSameDT	      on
      OutDataTypeStr	      "Inherit: Logical (see Configuration Parameters: Optimization)"
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Mux
      Inputs		      "4"
      DisplayOption	      "none"
      UseBusObject	      off
      BusObject		      "BusObject"
      NonVirtualBus	      off
    }
    Block {
      BlockType		      Outport
      Port		      "1"
      OutMin		      "[]"
      OutMax		      "[]"
      OutDataTypeStr	      "Inherit: auto"
      LockScale		      off
      BusOutputAsStruct	      off
      PortDimensions	      "-1"
      VarSizeSig	      "Inherit"
      SampleTime	      "-1"
      SignalType	      "auto"
      SamplingMode	      "auto"
      SourceOfInitialOutputValue "Dialog"
      OutputWhenDisabled      "held"
      InitialOutput	      "[]"
    }
    Block {
      BlockType		      Product
      Inputs		      "2"
      Multiplication	      "Element-wise(.*)"
      CollapseMode	      "All dimensions"
      CollapseDim	      "1"
      InputSameDT	      on
      OutMin		      "[]"
      OutMax		      "[]"
      OutDataTypeStr	      "Inherit: Same as first input"
      LockScale		      off
      RndMeth		      "Zero"
      SaturateOnIntegerOverflow	on
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Reshape
      OutputDimensionality    "1-D array"
      OutputDimensions	      "[1,1]"
    }
    Block {
      BlockType		      S-Function
      FunctionName	      "system"
      SFunctionModules	      "''"
      PortCounts	      "[]"
      SFunctionDeploymentMode off
    }
    Block {
      BlockType		      Selector
      NumberOfDimensions      "1"
      IndexMode		      "One-based"
      InputPortWidth	      "-1"
      SampleTime	      "-1"
      IndexOptions	      "Index vector (dialog)"
      Indices		      "1"
      OutputSizes	      "1"
    }
    Block {
      BlockType		      SubSystem
      ShowPortLabels	      "FromPortIcon"
      Permissions	      "ReadWrite"
      PermitHierarchicalResolution "All"
      TreatAsAtomicUnit	      off
      MinAlgLoopOccurrences   off
      PropExecContextOutsideSubsystem off
      CheckFcnCallInpInsideContextMsg off
      SystemSampleTime	      "-1"
      RTWSystemCode	      "Auto"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      FunctionInterfaceSpec   "void_void"
      FunctionWithSeparateData off
      RTWMemSecFuncInitTerm   "Inherit from model"
      RTWMemSecFuncExecute    "Inherit from model"
      RTWMemSecDataConstants  "Inherit from model"
      RTWMemSecDataInternal   "Inherit from model"
      RTWMemSecDataParameters "Inherit from model"
      SimViewingDevice	      off
      DataTypeOverride	      "UseLocalSettings"
      DataTypeOverrideAppliesTo	"AllNumericTypes"
      MinMaxOverflowLogging   "UseLocalSettings"
      Opaque		      off
      MaskHideContents	      off
      SFBlockType	      "NONE"
      Variant		      off
      GeneratePreprocessorConditionals off
      ContentPreviewEnabled   off
    }
    Block {
      BlockType		      Sum
      IconShape		      "rectangular"
      Inputs		      "++"
      CollapseMode	      "All dimensions"
      CollapseDim	      "1"
      InputSameDT	      on
      AccumDataTypeStr	      "Inherit: Inherit via internal rule"
      OutMin		      "[]"
      OutMax		      "[]"
      OutDataTypeStr	      "Inherit: Same as first input"
      LockScale		      off
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	on
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Switch
      Criteria		      "u2 >= Threshold"
      Threshold		      "0"
      InputSameDT	      on
      OutMin		      "[]"
      OutMax		      "[]"
      OutDataTypeStr	      "Inherit: Inherit via internal rule"
      LockScale		      off
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	on
      ZeroCross		      on
      SampleTime	      "-1"
      AllowDiffInputSizes     off
    }
    Block {
      BlockType		      Terminator
    }
    Block {
      BlockType		      TriggerPort
      TriggerType	      "rising"
      StatesWhenEnabling      "inherit"
      PropagateVarSize	      "During execution"
      ShowOutputPort	      off
      OutputDataType	      "auto"
      SampleTimeType	      "triggered"
      SampleTime	      "1"
      ZeroCross		      on
      PortDimensions	      "-1"
      TriggerSignalSampleTime "-1"
      OutMin		      "[]"
      OutMax		      "[]"
      OutDataTypeStr	      "Inherit: auto"
      Interpolate	      on
    }
    Block {
      BlockType		      UnitDelay
      InitialCondition	      "0"
      InputProcessing	      "Inherited"
      SampleTime	      "1"
      StateMustResolveToSignalObject off
      CodeGenStateStorageClass "Auto"
      HasFrameUpgradeWarning  on
    }
  }
  System {
    Name		    "wamjc7"
    Location		    [160, 20, 1460, 1064]
    Open		    off
    ModelBrowserVisibility  off
    ModelBrowserWidth	    200
    ScreenColor		    "white"
    PaperOrientation	    "landscape"
    PaperPositionMode	    "auto"
    PaperType		    "usletter"
    PaperUnits		    "inches"
    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
    TiledPageScale	    1
    ShowPageBoundaries	    off
    ZoomFactor		    "100"
    ReportName		    "simulink-default.rpt"
    SIDHighWatermark	    "1815"
    Block {
      BlockType		      Reference
      Name		      "CAN Setup "
      SID		      "1"
      Ports		      []
      Position		      [90, 35, 200, 95]
      ZOrder		      -1
      LibraryVersion	      "1.1706"
      SourceBlock	      "xpclib/CAN/Softing/CAN-AC2-PCI\nSJA 1000/Setup "
      SourceType	      "canac2pcisetup"
      board		      "1"
      can1bus		      "Highspeed (ISO 11898) "
      can1Baudrate	      "1 MBaud"
      can1UserBR	      "[1,1,4,3]"
      can2bus		      "Highspeed (ISO 11898) "
      can2Baudrate	      "1 MBaud"
      can2UserBR	      "[1,1,4,3]"
      init		      "[VL1_init,VL2_init,CAN_init,MT_init,FT_init]"
      term		      "[]"
      bus_off_out	      off
      bus_off_rec	      "Off"
      ioBaseAddress	      "-1"
    }
    Block {
      BlockType		      Reference
      Name		      "DocBlock"
      SID		      "35"
      Ports		      []
      Position		      [497, 31, 591, 96]
      ZOrder		      -2
      ShowName		      off
      LibraryVersion	      "1.287"
      UserDataPersistent      on
      UserData		      "DataTag0"
      SourceBlock	      "simulink/Model-Wide\nUtilities/DocBlock"
      SourceType	      "DocBlock"
      ContentPreviewEnabled   off
      DocumentType	      "Text"
    }
    Block {
      BlockType		      SubSystem
      Name		      "Get Arm State"
      SID		      "1438"
      Ports		      [5, 4]
      Position		      [165, 515, 270, 585]
      ZOrder		      -3
      RequestExecContextInheritance off
      System {
	Name			"Get Arm State"
	Location		[165, 83, 1645, 1126]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
	TiledPageScale		1
	ShowPageBoundaries	off
	ZoomFactor		"93"
	Block {
	  BlockType		  Inport
	  Name			  "qdddes"
	  SID			  "1439"
	  Position		  [555, 108, 585, 122]
	  ZOrder		  -1
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  Inport
	  Name			  "t"
	  SID			  "1440"
	  Position		  [200, 428, 230, 442]
	  ZOrder		  -2
	  Port			  "2"
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  Inport
	  Name			  "FTSIGNAL"
	  SID			  "1441"
	  Position		  [45, 603, 75, 617]
	  ZOrder		  -3
	  Port			  "3"
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  Inport
	  Name			  "SensorExpFT"
	  SID			  "1442"
	  Position		  [35, 823, 65, 837]
	  ZOrder		  -4
	  Port			  "4"
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  Inport
	  Name			  "Tau"
	  SID			  "1651"
	  Position		  [1240, 573, 1270, 587]
	  ZOrder		  -5
	  Port			  "5"
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Check WAM\nMODE"
	  SID			  "1443"
	  Ports			  [0, 1]
	  Position		  [130, 40, 180, 80]
	  ZOrder		  -6
	  RequestExecContextInheritance	off
	  System {
	    Name		    "Check WAM\nMODE"
	    Location		    [325, 156, 1251, 730]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Reference
	      Name		      "Bit Packing "
	      SID		      "1444"
	      Ports		      [1, 1]
	      Position		      [125, 100, 220, 150]
	      ZOrder		      -1
	      LibraryVersion	      "1.4"
	      SourceBlock	      "xpcutilitieslib/Bit Packing "
	      SourceType	      "xpcbitpacking"
	      MaskBitPatterns	      "{[0:7]}"
	      MaskPackDataType	      "double"
	      MaskPackDataSize	      "[1]"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Bit Unpacking"
	      SID		      "1445"
	      Ports		      [1, 1]
	      Position		      [580, 118, 675, 142]
	      ZOrder		      -2
	      LibraryVersion	      "1.1706"
	      SourceBlock	      "xpclib/CAN/Utilities/CAN bit-unpacking "
	      SourceType	      "double2bit"
	      bitpatterns	      "{[16:31]}"
	      dtypes		      "{ 'int16'}"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "DocBlock"
	      SID		      "1446"
	      Ports		      []
	      Position		      [212, 246, 306, 311]
	      ZOrder		      -3
	      ShowName		      off
	      LibraryVersion	      "1.256"
	      UserDataPersistent      on
	      UserData		      "DataTag1"
	      SourceBlock	      "simulink/Model-Wide\nUtilities/DocBlock"
	      SourceType	      "DocBlock"
	      DocumentType	      "Text"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Receive lower arm property"
	      SID		      "1447"
	      Ports		      [0, 1]
	      Position		      [375, 84, 560, 176]
	      ZOrder		      -4
	      LibraryVersion	      "1.1706"
	      SourceBlock	      "xpclib/CAN/Softing/CAN-AC2-PCI\nSJA 1000/Receive "
	      SourceType	      "canac2pcireceive"
	      board		      "1"
	      canPort		      "CAN 1"
	      range		      "Standard (11-bit)"
	      ids		      "[bin2dec('10010000110')]"
	      lengths		      "0"
	      output		      "Data"
	      inten		      on
	      ts		      "sample_time"
	      ididx		      "[4]"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Send to all motors 1"
	      SID		      "1448"
	      Ports		      [1]
	      Position		      [240, 70, 350, 180]
	      ZOrder		      -5
	      ShowName		      off
	      LibraryVersion	      "1.1706"
	      SourceBlock	      "xpclib/CAN/Softing/CAN-AC2-PCI\nSJA 1000/Send "
	      SourceType	      "canac2pcisend"
	      board		      "1"
	      canPort		      "CAN 1"
	      range		      "Standard (11-bit)"
	      ids		      "[1028]"
	      sizes		      "[1]"
	      output		      off
	      ts		      "sample_time"
	      ididx		      "[5]"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "get MODE"
	      SID		      "1449"
	      Position		      [65, 109, 105, 141]
	      ZOrder		      -6
	      Value		      "[8]"
	      OutDataTypeStr	      "uint8"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "MODE"
	      SID		      "1450"
	      Position		      [700, 123, 730, 137]
	      ZOrder		      -7
	      IconDisplay	      "Port number"
	    }
	    Line {
	      ZOrder		      1
	      SrcBlock		      "Bit Packing "
	      SrcPort		      1
	      DstBlock		      "Send to all motors 1"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      2
	      SrcBlock		      "Receive lower arm property"
	      SrcPort		      1
	      DstBlock		      "Bit Unpacking"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      3
	      SrcBlock		      "get MODE"
	      SrcPort		      1
	      DstBlock		      "Bit Packing "
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      4
	      SrcBlock		      "Bit Unpacking"
	      SrcPort		      1
	      DstBlock		      "MODE"
	      DstPort		      1
	    }
	    Annotation {
	      SID		      "1803"
	      Name		      "Send to lower arm "
	      Position		      [295, 187, 386, 202]
	      InternalMargins	      [0, 0, 0, 0]
	      FixedHeight	      off
	      FixedWidth	      off
	      ZOrder		      -1
	    }
	  }
	}
	Block {
	  BlockType		  Reference
	  Name			  "Compare\nTo Constant"
	  SID			  "1451"
	  Ports			  [1, 1]
	  Position		  [235, 45, 265, 75]
	  ZOrder		  -7
	  ShowName		  off
	  LibraryVersion	  "1.256"
	  SourceBlock		  "simulink/Logic and Bit\nOperations/Compare\nTo Constant"
	  SourceType		  "Compare To Constant"
	  relop			  ">="
	  const			  "2"
	  OutDataTypeStr	  "uint8"
	  ZeroCross		  off
	}
	Block {
	  BlockType		  Constant
	  Name			  "Constant"
	  SID			  "1682"
	  Position		  [555, 20, 585, 50]
	  ZOrder		  -8
	  Value			  "0"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Differentiate"
	  SID			  "1452"
	  Ports			  [2, 1]
	  Position		  [355, 404, 455, 446]
	  ZOrder		  -9
	  RequestExecContextInheritance	off
	  System {
	    Name		    "Differentiate"
	    Location		    [105, 412, 890, 963]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "q"
	      SID		      "1453"
	      Position		      [240, 63, 270, 77]
	      ZOrder		      -1
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "t"
	      SID		      "1454"
	      Position		      [240, 133, 270, 147]
	      ZOrder		      -2
	      Port		      "2"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Divide"
	      SID		      "1455"
	      Ports		      [2, 1]
	      Position		      [485, 72, 515, 103]
	      ZOrder		      -3
	      Inputs		      "*/"
	      InputSameDT	      off
	      OutDataTypeStr	      "Inherit: Inherit via internal rule"
	      RndMeth		      "Floor"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Subtract"
	      SID		      "1456"
	      Ports		      [2, 1]
	      Position		      [410, 62, 440, 93]
	      ZOrder		      -4
	      ShowName		      off
	      Inputs		      "+-"
	      InputSameDT	      off
	      OutDataTypeStr	      "Inherit: Inherit via internal rule"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Subtract3"
	      SID		      "1457"
	      Ports		      [2, 1]
	      Position		      [410, 132, 440, 163]
	      ZOrder		      -5
	      ShowName		      off
	      Inputs		      "+-"
	      InputSameDT	      off
	      OutDataTypeStr	      "Inherit: Inherit via internal rule"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      UnitDelay
	      Name		      "Unit Delay"
	      SID		      "1458"
	      Position		      [330, 83, 365, 117]
	      ZOrder		      -6
	      ShowName		      off
	      SampleTime	      "-1"
	    }
	    Block {
	      BlockType		      UnitDelay
	      Name		      "Unit Delay1"
	      SID		      "1459"
	      Position		      [330, 153, 365, 187]
	      ZOrder		      -7
	      SampleTime	      "-1"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "qd"
	      SID		      "1460"
	      Position		      [595, 83, 625, 97]
	      ZOrder		      -8
	      IconDisplay	      "Port number"
	    }
	    Line {
	      ZOrder		      1
	      SrcBlock		      "q"
	      SrcPort		      1
	      Points		      [30, 0]
	      Branch {
		ZOrder			2
		DstBlock		"Subtract"
		DstPort			1
	      }
	      Branch {
		ZOrder			3
		Points			[0, 30]
		DstBlock		"Unit Delay"
		DstPort			1
	      }
	    }
	    Line {
	      ZOrder		      4
	      SrcBlock		      "t"
	      SrcPort		      1
	      Points		      [30, 0]
	      Branch {
		ZOrder			5
		Points			[0, 30]
		DstBlock		"Unit Delay1"
		DstPort			1
	      }
	      Branch {
		ZOrder			6
		DstBlock		"Subtract3"
		DstPort			1
	      }
	    }
	    Line {
	      ZOrder		      7
	      SrcBlock		      "Unit Delay1"
	      SrcPort		      1
	      Points		      [10, 0; 0, -15]
	      DstBlock		      "Subtract3"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      8
	      SrcBlock		      "Unit Delay"
	      SrcPort		      1
	      Points		      [15, 0; 0, -15]
	      DstBlock		      "Subtract"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      9
	      SrcBlock		      "Subtract"
	      SrcPort		      1
	      DstBlock		      "Divide"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      10
	      SrcBlock		      "Divide"
	      SrcPort		      1
	      DstBlock		      "qd"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      11
	      SrcBlock		      "Subtract3"
	      SrcPort		      1
	      Points		      [10, 0; 0, -55]
	      DstBlock		      "Divide"
	      DstPort		      2
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Differentiate1"
	  SID			  "1461"
	  Ports			  [2, 1]
	  Position		  [490, 454, 570, 496]
	  ZOrder		  -10
	  RequestExecContextInheritance	off
	  System {
	    Name		    "Differentiate1"
	    Location		    [105, 412, 890, 963]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "qd"
	      SID		      "1462"
	      Position		      [240, 63, 270, 77]
	      ZOrder		      -1
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "t"
	      SID		      "1463"
	      Position		      [240, 133, 270, 147]
	      ZOrder		      -2
	      Port		      "2"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Divide"
	      SID		      "1464"
	      Ports		      [2, 1]
	      Position		      [485, 72, 515, 103]
	      ZOrder		      -3
	      Inputs		      "*/"
	      InputSameDT	      off
	      OutDataTypeStr	      "Inherit: Inherit via internal rule"
	      RndMeth		      "Floor"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Subtract"
	      SID		      "1465"
	      Ports		      [2, 1]
	      Position		      [410, 62, 440, 93]
	      ZOrder		      -4
	      ShowName		      off
	      Inputs		      "+-"
	      InputSameDT	      off
	      OutDataTypeStr	      "Inherit: Inherit via internal rule"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Subtract3"
	      SID		      "1466"
	      Ports		      [2, 1]
	      Position		      [410, 132, 440, 163]
	      ZOrder		      -5
	      ShowName		      off
	      Inputs		      "+-"
	      InputSameDT	      off
	      OutDataTypeStr	      "Inherit: Inherit via internal rule"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      UnitDelay
	      Name		      "Unit Delay"
	      SID		      "1467"
	      Position		      [330, 83, 365, 117]
	      ZOrder		      -6
	      ShowName		      off
	      SampleTime	      "-1"
	    }
	    Block {
	      BlockType		      UnitDelay
	      Name		      "Unit Delay1"
	      SID		      "1468"
	      Position		      [330, 153, 365, 187]
	      ZOrder		      -7
	      SampleTime	      "-1"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "qdd"
	      SID		      "1469"
	      Position		      [595, 83, 625, 97]
	      ZOrder		      -8
	      IconDisplay	      "Port number"
	    }
	    Line {
	      ZOrder		      1
	      SrcBlock		      "qd"
	      SrcPort		      1
	      Points		      [30, 0]
	      Branch {
		ZOrder			2
		DstBlock		"Subtract"
		DstPort			1
	      }
	      Branch {
		ZOrder			3
		Points			[0, 30]
		DstBlock		"Unit Delay"
		DstPort			1
	      }
	    }
	    Line {
	      ZOrder		      4
	      SrcBlock		      "t"
	      SrcPort		      1
	      Points		      [30, 0]
	      Branch {
		ZOrder			5
		Points			[0, 30]
		DstBlock		"Unit Delay1"
		DstPort			1
	      }
	      Branch {
		ZOrder			6
		DstBlock		"Subtract3"
		DstPort			1
	      }
	    }
	    Line {
	      ZOrder		      7
	      SrcBlock		      "Unit Delay1"
	      SrcPort		      1
	      Points		      [10, 0; 0, -15]
	      DstBlock		      "Subtract3"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      8
	      SrcBlock		      "Unit Delay"
	      SrcPort		      1
	      Points		      [15, 0; 0, -15]
	      DstBlock		      "Subtract"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      9
	      SrcBlock		      "Subtract"
	      SrcPort		      1
	      DstBlock		      "Divide"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      10
	      SrcBlock		      "Divide"
	      SrcPort		      1
	      DstBlock		      "qdd"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      11
	      SrcBlock		      "Subtract3"
	      SrcPort		      1
	      Points		      [10, 0; 0, -55]
	      DstBlock		      "Divide"
	      DstPort		      2
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Get FT"
	  SID			  "1701"
	  Ports			  [2, 3]
	  Position		  [215, 556, 345, 624]
	  ZOrder		  -11
	  RequestExecContextInheritance	off
	  System {
	    Name		    "Get FT"
	    Location		    [158, 259, 1691, 949]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "FTExp"
	      SID		      "1702"
	      Position		      [470, 193, 500, 207]
	      ZOrder		      -1
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "FTSIGNAL"
	      SID		      "1703"
	      Position		      [40, 123, 70, 137]
	      ZOrder		      -2
	      Port		      "2"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Bias FT"
	      SID		      "1704"
	      Ports		      [3, 1, 1]
	      Position		      [540, 150, 640, 210]
	      ZOrder		      -3
	      LibraryVersion	      "1.216"
	      TreatAsAtomicUnit	      on
	      RequestExecContextInheritance off
	      System {
		Name			"Bias FT"
		Location		[466, 194, 1449, 965]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "RST"
		  SID			  "1705"
		  Position		  [85, 163, 115, 177]
		  ZOrder		  -1
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "FT"
		  SID			  "1706"
		  Position		  [65, 123, 95, 137]
		  ZOrder		  -2
		  Port			  "2"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "FTExp"
		  SID			  "1707"
		  Position		  [30, 103, 60, 117]
		  ZOrder		  -3
		  Port			  "3"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  EnablePort
		  Name			  "Enable"
		  SID			  "1708"
		  Ports			  []
		  Position		  [355, 30, 375, 50]
		  ZOrder		  -4
		  StatesWhenEnabling	  "reset"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  SID			  "1709"
		  Position		  [510, 380, 540, 410]
		  ZOrder		  -5
		  Value			  "zeros(6,1)"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant1"
		  SID			  "1710"
		  Position		  [175, 330, 205, 360]
		  ZOrder		  -6
		}
		Block {
		  BlockType		  Reference
		  Name			  "Counter\nLimited"
		  SID			  "1711"
		  Ports			  [0, 1]
		  Position		  [85, 275, 115, 305]
		  ZOrder		  -7
		  LibraryVersion	  "1.256"
		  SourceBlock		  "simulink/Sources/Counter\nLimited"
		  SourceType		  "Counter Limited"
		  uplimit		  "500"
		  tsamp			  "-1"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Cumulative\nSum"
		  SID			  "1712"
		  Ports			  [2, 1]
		  Position		  [315, 142, 395, 178]
		  ZOrder		  -8
		  LibraryVersion	  "1.665"
		  UserDataPersistent	  on
		  UserData		  "DataTag2"
		  SourceBlock		  "dspmathops/Cumulative\nSum"
		  SourceType		  "Cumulative Sum"
		  dim			  "Channels (running sum)"
		  InputProcessing	  "Inherited (this choice will be removed - see release notes)"
		  reset_popup		  "Non-zero sample"
		  accumMode		  "Same as input"
		  accumWordLength	  "32"
		  accumFracLength	  "30"
		  accumDataTypeStr	  "Inherit: Same as input"
		  accumLastDataTypeStr	  "Inherit: Same as input"
		  outputMode		  "Same as accumulator"
		  outputWordLength	  "16"
		  outputFracLength	  "15"
		  outputDataTypeStr	  "Inherit: Same as accumulator"
		  outputLastDataTypeStr	  "Inherit: Same as accumulator"
		  outputMin		  "[]"
		  outputMax		  "[]"
		  roundingMode		  "Floor"
		  overflowMode		  off
		  LockScale		  off
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type Conversion"
		  SID			  "1713"
		  Position		  [165, 271, 210, 309]
		  ZOrder		  -9
		  ShowName		  off
		  OutDataTypeStr	  "double"
		  RndMeth		  "Floor"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  SID			  "1714"
		  Ports			  [2, 1]
		  Position		  [510, 152, 540, 183]
		  ZOrder		  -10
		  Inputs		  "*/"
		  InputSameDT		  off
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  SID			  "1715"
		  Ports			  [2, 1]
		  Position		  [220, 98, 250, 142]
		  ZOrder		  -11
		  ShowName		  off
		  Inputs		  "--"
		  InputSameDT		  off
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  SID			  "1716"
		  Ports			  [2, 1]
		  Position		  [315, 283, 340, 312]
		  ZOrder		  -12
		  ShowName		  off
		  InputSameDT		  off
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  SID			  "1717"
		  Position		  [680, 285, 710, 315]
		  ZOrder		  -13
		  Threshold		  "499"
		  InputSameDT		  off
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  UnitDelay
		  Name			  "Unit Delay"
		  SID			  "1718"
		  Position		  [150, 123, 185, 137]
		  ZOrder		  -14
		  ShowName		  off
		  SampleTime		  "-1"
		}
		Block {
		  BlockType		  UnitDelay
		  Name			  "Unit Delay1"
		  SID			  "1719"
		  Position		  [100, 102, 135, 118]
		  ZOrder		  -15
		  ShowName		  off
		  SampleTime		  "-1"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Bias"
		  SID			  "1720"
		  Position		  [815, 293, 845, 307]
		  ZOrder		  -16
		  IconDisplay		  "Port number"
		}
		Line {
		  ZOrder		  1
		  SrcBlock		  "RST"
		  SrcPort		  1
		  DstBlock		  "Cumulative\nSum"
		  DstPort		  2
		}
		Line {
		  ZOrder		  2
		  SrcBlock		  "Cumulative\nSum"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Line {
		  ZOrder		  3
		  SrcBlock		  "Product"
		  SrcPort		  1
		  Points		  [55, 0; 0, 120]
		  DstBlock		  "Switch"
		  DstPort		  1
		}
		Line {
		  ZOrder		  4
		  SrcBlock		  "Counter\nLimited"
		  SrcPort		  1
		  DstBlock		  "Data Type Conversion"
		  DstPort		  1
		}
		Line {
		  ZOrder		  5
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [55, 0; 0, -85]
		  DstBlock		  "Switch"
		  DstPort		  3
		}
		Line {
		  ZOrder		  6
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  Points		  [20, 0; 0, 30]
		  DstBlock		  "Cumulative\nSum"
		  DstPort		  1
		}
		Line {
		  ZOrder		  7
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  DstBlock		  "Bias"
		  DstPort		  1
		}
		Line {
		  ZOrder		  8
		  SrcBlock		  "Unit Delay"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  ZOrder		  9
		  SrcBlock		  "Unit Delay1"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  ZOrder		  10
		  SrcBlock		  "Constant1"
		  SrcPort		  1
		  Points		  [80, 0; 0, -40]
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  ZOrder		  11
		  SrcBlock		  "Data Type Conversion"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Line {
		  ZOrder		  12
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  Points		  [70, 0]
		  Branch {
		    ZOrder		    13
		    Points		    [0, -125]
		    DstBlock		    "Product"
		    DstPort		    2
		  }
		  Branch {
		    ZOrder		    14
		    DstBlock		    "Switch"
		    DstPort		    2
		  }
		}
		Line {
		  ZOrder		  15
		  SrcBlock		  "FTExp"
		  SrcPort		  1
		  DstBlock		  "Unit Delay1"
		  DstPort		  1
		}
		Line {
		  ZOrder		  16
		  SrcBlock		  "FT"
		  SrcPort		  1
		  DstBlock		  "Unit Delay"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant1"
	      SID		      "1721"
	      Position		      [785, 153, 835, 187]
	      ZOrder		      -4
	      Value		      "C"
	      VectorParams1D	      off
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant2"
	      SID		      "1722"
	      Position		      [610, 66, 640, 94]
	      ZOrder		      -5
	      Value		      "b"
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux"
	      SID		      "1723"
	      Ports		      [1, 3]
	      Position		      [115, 111, 120, 149]
	      ZOrder		      -6
	      ShowName		      off
	      Outputs		      "3"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Get Force Torque"
	      SID		      "1724"
	      Ports		      [0, 3, 1]
	      Position		      [325, 229, 425, 271]
	      ZOrder		      -7
	      RequestExecContextInheritance off
	      System {
		Name			"Get Force Torque"
		Location		[134, 441, 1704, 1127]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  EnablePort
		  Name			  "Enable"
		  SID			  "1725"
		  Ports			  []
		  Position		  [190, 20, 210, 40]
		  ZOrder		  -1
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  SID			  "1726"
		  Position		  [355, 115, 385, 145]
		  ZOrder		  -2
		  Value			  "256"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant1"
		  SID			  "1727"
		  Position		  [355, 190, 385, 220]
		  ZOrder		  -3
		  Value			  "4096"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant2"
		  SID			  "1728"
		  Position		  [560, 57, 650, 83]
		  ZOrder		  -4
		  ShowName		  off
		  Value			  "rotFT2Hand"
		}
		Block {
		  BlockType		  Product
		  Name			  "Divide"
		  SID			  "1729"
		  Ports			  [2, 1]
		  Position		  [495, 107, 525, 138]
		  ZOrder		  -5
		  Inputs		  "*/"
		  InputSameDT		  off
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		  RndMeth		  "Floor"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Product
		  Name			  "Divide1"
		  SID			  "1730"
		  Ports			  [2, 1]
		  Position		  [495, 182, 525, 213]
		  ZOrder		  -6
		  Inputs		  "*/"
		  InputSameDT		  off
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		  RndMeth		  "Floor"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Reference
		  Name			  "DocBlock"
		  SID			  "1731"
		  Ports			  []
		  Position		  [52, 16, 146, 81]
		  ZOrder		  -7
		  ShowName		  off
		  LibraryVersion	  "1.256"
		  UserDataPersistent	  on
		  UserData		  "DataTag3"
		  SourceBlock		  "simulink/Model-Wide\nUtilities/DocBlock"
		  SourceType		  "DocBlock"
		  DocumentType		  "Text"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  SID			  "1732"
		  Ports			  [2, 1]
		  Position		  [820, 79, 825, 226]
		  ZOrder		  -8
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Recieve and Unpack \nForces and Torques"
		  SID			  "1733"
		  Ports			  [0, 2]
		  Position		  [205, 75, 250, 230]
		  ZOrder		  -9
		  RequestExecContextInheritance	off
		  System {
		    Name		    "Recieve and Unpack \nForces and Torques"
		    Location		    [703, 90, 1543, 775]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Reference
		    Name		    "CAN bit-unpacking 1"
		    SID			    "1734"
		    Ports		    [1, 3]
		    Position		    [275, 155, 380, 235]
		    ZOrder		    -1
		    ShowName		    off
		    LibraryVersion	    "1.1706"
		    SourceBlock		    "xpclib/CAN/Utilities/CAN bit-unpacking "
		    SourceType		    "double2bit"
		    bitpatterns		    "{[0:15],[16:31],[32:47]}"
		    dtypes		    "{'int32','int32','int32'}"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "CAN bit-unpacking 2"
		    SID			    "1735"
		    Ports		    [1, 3]
		    Position		    [275, 40, 380, 120]
		    ZOrder		    -2
		    ShowName		    off
		    LibraryVersion	    "1.1706"
		    SourceBlock		    "xpclib/CAN/Utilities/CAN bit-unpacking "
		    SourceType		    "double2bit"
		    bitpatterns		    "{[0:15],[16:31],[32:47]}"
		    dtypes		    "{'int32','int32','int32'}"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "DocBlock"
		    SID			    "1736"
		    Ports		    []
		    Position		    [72, 326, 166, 391]
		    ZOrder		    -3
		    ShowName		    off
		    LibraryVersion	    "1.256"
		    UserDataPersistent	    on
		    UserData		    "DataTag4"
		    SourceBlock		    "simulink/Model-Wide\nUtilities/DocBlock"
		    SourceType		    "DocBlock"
		    DocumentType	    "Text"
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "ForceToDouble"
		    SID			    "1737"
		    Position		    [590, 63, 665, 97]
		    ZOrder		    -4
		    OutDataTypeStr	    "double"
		    RndMeth		    "Floor"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    SID			    "1738"
		    Ports		    [3, 1]
		    Position		    [410, 160, 415, 230]
		    ZOrder		    -5
		    ShowName		    off
		    Inputs		    "3"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux2"
		    SID			    "1739"
		    Ports		    [3, 1]
		    Position		    [410, 45, 415, 115]
		    ZOrder		    -6
		    ShowName		    off
		    Inputs		    "3"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "Receive position "
		    SID			    "1740"
		    Ports		    [0, 2]
		    Position		    [25, 20, 215, 255]
		    ZOrder		    -7
		    LibraryVersion	    "1.1706"
		    SourceBlock		    "xpclib/CAN/Softing/CAN-AC2-PCI\nSJA 1000/Receive "
		    SourceType		    "canac2pcireceive"
		    board		    "1"
		    canPort		    "CAN 1"
		    range		    "Standard (11-bit)"
		    ids			    "[bin2dec('10100001010'),bin2dec('10100001011')]"
		    lengths		    "0"
		    output		    "Data"
		    inten		    on
		    ts			    "sample_time"
		    ididx		    "[8,9]"
		    }
		    Block {
		    BlockType		    DataTypeConversion
		    Name		    "TorqueToDouble"
		    SID			    "1741"
		    Position		    [590, 178, 665, 212]
		    ZOrder		    -8
		    OutDataTypeStr	    "double"
		    RndMeth		    "Floor"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "F"
		    SID			    "1742"
		    Position		    [695, 73, 725, 87]
		    ZOrder		    -9
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Tau"
		    SID			    "1743"
		    Position		    [695, 188, 725, 202]
		    ZOrder		    -10
		    Port		    "2"
		    IconDisplay		    "Port number"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "Receive position "
		    SrcPort		    1
		    DstBlock		    "CAN bit-unpacking 2"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Receive position "
		    SrcPort		    2
		    DstBlock		    "CAN bit-unpacking 1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    3
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    DstBlock		    "TorqueToDouble"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    4
		    SrcBlock		    "CAN bit-unpacking 1"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    5
		    SrcBlock		    "CAN bit-unpacking 1"
		    SrcPort		    2
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    6
		    SrcBlock		    "CAN bit-unpacking 1"
		    SrcPort		    3
		    DstBlock		    "Mux1"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    7
		    SrcBlock		    "TorqueToDouble"
		    SrcPort		    1
		    DstBlock		    "Tau"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    8
		    SrcBlock		    "ForceToDouble"
		    SrcPort		    1
		    DstBlock		    "F"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    "CAN bit-unpacking 2"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    10
		    SrcBlock		    "CAN bit-unpacking 2"
		    SrcPort		    2
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    11
		    SrcBlock		    "CAN bit-unpacking 2"
		    SrcPort		    3
		    DstBlock		    "Mux2"
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "Mux2"
		    SrcPort		    1
		    DstBlock		    "ForceToDouble"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Product
		  Name			  "Rotate To Hand Frame"
		  SID			  "1744"
		  Ports			  [2, 1]
		  Position		  [720, 94, 775, 136]
		  ZOrder		  -10
		  Multiplication	  "Matrix(*)"
		  InputSameDT		  off
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		  RndMeth		  "Floor"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Product
		  Name			  "Rotate To Hand Frame1"
		  SID			  "1745"
		  Ports			  [2, 1]
		  Position		  [720, 169, 775, 211]
		  ZOrder		  -11
		  Multiplication	  "Matrix(*)"
		  InputSameDT		  off
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		  RndMeth		  "Floor"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Send Get FT"
		  SID			  "1746"
		  Ports			  []
		  Position		  [115, 105, 155, 165]
		  ZOrder		  -12
		  RequestExecContextInheritance	off
		  System {
		    Name		    "Send Get FT"
		    Location		    [948, 263, 1559, 793]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Reference
		    Name		    "Bit Packing"
		    SID			    "1747"
		    Ports		    [1, 1]
		    Position		    [100, 30, 195, 80]
		    ZOrder		    -1
		    LibraryVersion	    "1.4"
		    SourceBlock		    "xpcutilitieslib/Bit Packing "
		    SourceType		    "xpcbitpacking"
		    MaskBitPatterns	    "{[0:7]}"
		    MaskPackDataType	    "double"
		    MaskPackDataSize	    "[1]"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "Send to FTsensor"
		    SID			    "1748"
		    Ports		    [1]
		    Position		    [215, 27, 325, 83]
		    ZOrder		    -2
		    LibraryVersion	    "1.1706"
		    SourceBlock		    "xpclib/CAN/Softing/CAN-AC2-PCI\nSJA 1000/Send "
		    SourceType		    "canac2pcisend"
		    board		    "1"
		    canPort		    "CAN 1"
		    range		    "Standard (11-bit)"
		    ids			    "bin2dec('00000001000')"
		    sizes		    "[1]"
		    output		    off
		    ts			    "sample_time"
		    ididx		    "[0]"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "get FT"
		    SID			    "1749"
		    Position		    [30, 39, 70, 71]
		    ZOrder		    -3
		    Value		    "[54]"
		    OutDataTypeStr	    "int8"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "get FT"
		    SrcPort		    1
		    DstBlock		    "Bit Packing"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Bit Packing"
		    SrcPort		    1
		    DstBlock		    "Send to FTsensor"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "FT"
		  SID			  "1750"
		  Position		  [1260, 148, 1290, 162]
		  ZOrder		  -13
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "OriginalFilter"
		  SID			  "1751"
		  Position		  [1260, 208, 1290, 222]
		  ZOrder		  -14
		  Port			  "2"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "NewFilter"
		  SID			  "1752"
		  Position		  [1260, 298, 1290, 312]
		  ZOrder		  -15
		  Port			  "3"
		  IconDisplay		  "Port number"
		}
		Line {
		  ZOrder		  1
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  DstBlock		  "Divide"
		  DstPort		  2
		}
		Line {
		  ZOrder		  2
		  SrcBlock		  "Constant1"
		  SrcPort		  1
		  DstBlock		  "Divide1"
		  DstPort		  2
		}
		Line {
		  ZOrder		  3
		  SrcBlock		  "Rotate To Hand Frame"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  ZOrder		  4
		  SrcBlock		  "Rotate To Hand Frame1"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  ZOrder		  5
		  SrcBlock		  "Constant2"
		  SrcPort		  1
		  Points		  [25, 0; 0, 35]
		  Branch {
		    ZOrder		    6
		    Points		    [0, 75]
		    DstBlock		    "Rotate To Hand Frame1"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    7
		    DstBlock		    "Rotate To Hand Frame"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  8
		  Labels		  [0, 0]
		  SrcBlock		  "Recieve and Unpack \nForces and Torques"
		  SrcPort		  2
		  DstBlock		  "Divide1"
		  DstPort		  1
		}
		Line {
		  ZOrder		  9
		  SrcBlock		  "Recieve and Unpack \nForces and Torques"
		  SrcPort		  1
		  DstBlock		  "Divide"
		  DstPort		  1
		}
		Line {
		  ZOrder		  10
		  SrcBlock		  "Divide"
		  SrcPort		  1
		  DstBlock		  "Rotate To Hand Frame"
		  DstPort		  2
		}
		Line {
		  ZOrder		  11
		  SrcBlock		  "Divide1"
		  SrcPort		  1
		  DstBlock		  "Rotate To Hand Frame1"
		  DstPort		  2
		}
		Line {
		  ZOrder		  12
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  Points		  [155, 0]
		  Branch {
		    ZOrder		    13
		    DstBlock		    "FT"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    14
		    Points		    [0, 60]
		    Branch {
		    ZOrder		    15
		    DstBlock		    "OriginalFilter"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    16
		    Points		    [0, 90]
		    DstBlock		    "NewFilter"
		    DstPort		    1
		    }
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Matrix Multiply"
	      SID		      "1753"
	      Ports		      [2, 1]
	      Position		      [1050, 194, 1105, 236]
	      ZOrder		      -8
	      Multiplication	      "Matrix(*)"
	      InputSameDT	      off
	      OutDataTypeStr	      "Inherit: Inherit via internal rule"
	      RndMeth		      "Floor"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum"
	      SID		      "1754"
	      Ports		      [3, 1]
	      Position		      [795, 211, 820, 239]
	      ZOrder		      -9
	      ShowName		      off
	      Inputs		      "+++"
	      InputSameDT	      off
	      OutDataTypeStr	      "Inherit: Inherit via internal rule"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum1"
	      SID		      "1755"
	      Ports		      [3, 1]
	      Position		      [795, 251, 820, 279]
	      ZOrder		      -10
	      ShowName		      off
	      Inputs		      "+++"
	      InputSameDT	      off
	      OutDataTypeStr	      "Inherit: Inherit via internal rule"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum2"
	      SID		      "1756"
	      Ports		      [3, 1]
	      Position		      [795, 291, 820, 319]
	      ZOrder		      -11
	      ShowName		      off
	      Inputs		      "+++"
	      InputSameDT	      off
	      OutDataTypeStr	      "Inherit: Inherit via internal rule"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Tare FT Sensor"
	      SID		      "1757"
	      Ports		      [0, 0, 1]
	      Position		      [190, 229, 290, 271]
	      ZOrder		      -12
	      LibraryVersion	      "1.216"
	      TreatAsAtomicUnit	      on
	      RequestExecContextInheritance off
	      System {
		Name			"Tare FT Sensor"
		Location		[352, 183, 1462, 1012]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  EnablePort
		  Name			  "Enable"
		  SID			  "1758"
		  Ports			  []
		  Position		  [200, 80, 220, 100]
		  ZOrder		  -1
		}
		Block {
		  BlockType		  Constant
		  Name			  "ANY VALUE"
		  SID			  "1759"
		  Position		  [50, 244, 90, 266]
		  ZOrder		  -2
		  Value			  "[0]"
		  OutDataTypeStr	  "uint8"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Bit Packing"
		  SID			  "1760"
		  Ports			  [3, 1]
		  Position		  [350, 171, 485, 339]
		  ZOrder		  -3
		  LibraryVersion	  "1.4"
		  SourceBlock		  "xpcutilitieslib/Bit Packing "
		  SourceType		  "xpcbitpacking"
		  MaskBitPatterns	  "{[0:7] [8:39] [40:55]}"
		  MaskPackDataType	  "double"
		  MaskPackDataSize	  "[1]"
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type Conversion1"
		  SID			  "1761"
		  Position		  [175, 246, 205, 264]
		  ZOrder		  -4
		  ShowName		  off
		  OutMin		  "[-8191]"
		  OutMax		  "[8191]"
		  OutDataTypeStr	  "int32"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Reference
		  Name			  "Send To FT"
		  SID			  "1762"
		  Ports			  [1]
		  Position		  [605, 227, 715, 283]
		  ZOrder		  -5
		  LibraryVersion	  "1.1706"
		  SourceBlock		  "xpclib/CAN/Softing/CAN-AC2-PCI\nSJA 1000/Send "
		  SourceType		  "canac2pcisend"
		  board			  "1"
		  canPort		  "CAN 1"
		  range			  "Standard (11-bit)"
		  ids			  "bin2dec('00000001000')"
		  sizes			  "[8]"
		  output		  off
		  ts			  "sample_time"
		  ididx			  "[0]"
		}
		Block {
		  BlockType		  Constant
		  Name			  "TARE FT"
		  SID			  "1763"
		  Position		  [190, 189, 230, 211]
		  ZOrder		  -6
		  Value			  "[182]"
		  OutDataTypeStr	  "uint8"
		}
		Line {
		  ZOrder		  1
		  SrcBlock		  "TARE FT"
		  SrcPort		  1
		  DstBlock		  "Bit Packing"
		  DstPort		  1
		}
		Line {
		  ZOrder		  2
		  SrcBlock		  "Bit Packing"
		  SrcPort		  1
		  DstBlock		  "Send To FT"
		  DstPort		  1
		}
		Line {
		  ZOrder		  3
		  SrcBlock		  "ANY VALUE"
		  SrcPort		  1
		  DstBlock		  "Data Type Conversion1"
		  DstPort		  1
		}
		Line {
		  ZOrder		  4
		  SrcBlock		  "Data Type Conversion1"
		  SrcPort		  1
		  Points		  [25, 0]
		  Branch {
		    ZOrder		    5
		    DstBlock		    "Bit Packing"
		    DstPort		    2
		  }
		  Branch {
		    ZOrder		    6
		    Points		    [0, 55]
		    DstBlock		    "Bit Packing"
		    DstPort		    3
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "FT"
	      SID		      "1764"
	      Position		      [1210, 208, 1240, 222]
	      ZOrder		      -13
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "OriginalFilter"
	      SID		      "1765"
	      Position		      [1210, 258, 1240, 272]
	      ZOrder		      -14
	      Port		      "2"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "NewFilter"
	      SID		      "1766"
	      Position		      [1210, 298, 1240, 312]
	      ZOrder		      -15
	      Port		      "3"
	      IconDisplay	      "Port number"
	    }
	    Line {
	      ZOrder		      1
	      SrcBlock		      "FTSIGNAL"
	      SrcPort		      1
	      DstBlock		      "Demux"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      2
	      SrcBlock		      "Demux"
	      SrcPort		      1
	      Points		      [115, 0; 0, 40]
	      Branch {
		ZOrder			3
		DstBlock		"Tare FT Sensor"
		DstPort			enable
	      }
	      Branch {
		ZOrder			4
		DstBlock		"Bias FT"
		DstPort			1
	      }
	    }
	    Line {
	      ZOrder		      5
	      SrcBlock		      "Demux"
	      SrcPort		      3
	      Points		      [250, 0]
	      DstBlock		      "Get Force Torque"
	      DstPort		      enable
	    }
	    Line {
	      ZOrder		      6
	      SrcBlock		      "Demux"
	      SrcPort		      2
	      Points		      [465, 0]
	      DstBlock		      "Bias FT"
	      DstPort		      enable
	    }
	    Line {
	      ZOrder		      7
	      SrcBlock		      "Get Force Torque"
	      SrcPort		      1
	      DstBlock		      "Sum"
	      DstPort		      3
	    }
	    Line {
	      ZOrder		      8
	      SrcBlock		      "Bias FT"
	      SrcPort		      1
	      Points		      [45, 0; 0, 45]
	      Branch {
		ZOrder			9
		DstBlock		"Sum"
		DstPort			2
	      }
	      Branch {
		ZOrder			10
		Points			[0, 40]
		Branch {
		  ZOrder		  11
		  Points		  [0, 40]
		  DstBlock		  "Sum2"
		  DstPort		  2
		}
		Branch {
		  ZOrder		  12
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
	      }
	    }
	    Line {
	      ZOrder		      13
	      SrcBlock		      "Get Force Torque"
	      SrcPort		      2
	      Points		      [175, 0; 0, 25]
	      DstBlock		      "Sum1"
	      DstPort		      3
	    }
	    Line {
	      ZOrder		      14
	      SrcBlock		      "Get Force Torque"
	      SrcPort		      3
	      Points		      [165, 0; 0, 50]
	      DstBlock		      "Sum2"
	      DstPort		      3
	    }
	    Line {
	      ZOrder		      15
	      SrcBlock		      "Sum2"
	      SrcPort		      1
	      DstBlock		      "NewFilter"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      16
	      SrcBlock		      "Sum1"
	      SrcPort		      1
	      DstBlock		      "OriginalFilter"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      17
	      SrcBlock		      "Constant1"
	      SrcPort		      1
	      Points		      [135, 0; 0, 35]
	      DstBlock		      "Matrix Multiply"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      18
	      SrcBlock		      "Matrix Multiply"
	      SrcPort		      1
	      Points		      [45, 0]
	      Branch {
		ZOrder			19
		DstBlock		"FT"
		DstPort			1
	      }
	      Branch {
		ZOrder			20
		Points			[0, -185; -720, 0; 0, 150]
		DstBlock		"Bias FT"
		DstPort			2
	      }
	    }
	    Line {
	      ZOrder		      21
	      SrcBlock		      "Sum"
	      SrcPort		      1
	      DstBlock		      "Matrix Multiply"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      22
	      SrcBlock		      "Constant2"
	      SrcPort		      1
	      Points		      [65, 0; 0, 135]
	      Branch {
		ZOrder			23
		DstBlock		"Sum"
		DstPort			1
	      }
	      Branch {
		ZOrder			24
		Points			[0, 40]
		Branch {
		  ZOrder		  25
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Branch {
		  ZOrder		  26
		  Points		  [0, 40]
		  DstBlock		  "Sum2"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      ZOrder		      27
	      SrcBlock		      "FTExp"
	      SrcPort		      1
	      DstBlock		      "Bias FT"
	      DstPort		      3
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Get Gripper Status"
	  SID			  "1532"
	  Ports			  [0, 4]
	  Position		  [540, 728, 640, 797]
	  ZOrder		  -12
	  LibraryVersion	  "1.216"
	  RequestExecContextInheritance	off
	  System {
	    Name		    "Get Gripper Status"
	    Location		    [194, 210, 1633, 1043]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Reference
	      Name		      "DocBlock"
	      SID		      "1533"
	      Ports		      []
	      Position		      [62, 30, 102, 69]
	      ZOrder		      -1
	      ShowName		      off
	      LibraryVersion	      "1.256"
	      UserDataPersistent      on
	      UserData		      "DataTag5"
	      SourceBlock	      "simulink/Model-Wide\nUtilities/DocBlock"
	      SourceType	      "DocBlock"
	      DocumentType	      "Text"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Grasp Success"
	      SID		      "1534"
	      Ports		      [2, 1]
	      Position		      [635, 288, 755, 332]
	      ZOrder		      -2
	      LibraryVersion	      "1.31"
	      ErrorFcn		      "Stateflow.Translate.translate"
	      PermitHierarchicalResolution "ExplicitOnly"
	      TreatAsAtomicUnit	      on
	      RequestExecContextInheritance off
	      SFBlockType	      "MATLAB Function"
	      System {
		Name			"Grasp Success"
		Location		[227, 345, 838, 789]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SIDHighWatermark	"1541"
		Block {
		  BlockType		  Inport
		  Name			  "isGraspMessage"
		  SID			  "1534::1534"
		  Position		  [20, 101, 40, 119]
		  ZOrder		  -1
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "errorcode"
		  SID			  "1534::1542"
		  Position		  [20, 136, 40, 154]
		  ZOrder		  -2
		  Port			  "2"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Demux
		  Name			  " Demux "
		  SID			  "1534::1540"
		  Ports			  [1, 1]
		  Position		  [270, 230, 320, 270]
		  ZOrder		  2
		  Outputs		  "1"
		}
		Block {
		  BlockType		  S-Function
		  Name			  " SFunction "
		  SID			  "1534::1539"
		  Tag			  "Stateflow S-Function wamjc7 7"
		  Ports			  [2, 2]
		  Position		  [180, 100, 230, 160]
		  ZOrder		  1
		  FunctionName		  "sf_sfun"
		  PortCounts		  "[2 2]"
		  EnableBusSupport	  off
		  Port {
		    PortNumber		    2
		    Name		    "grasp_success"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Terminator
		  Name			  " Terminator "
		  SID			  "1534::1541"
		  Position		  [460, 241, 480, 259]
		  ZOrder		  3
		}
		Block {
		  BlockType		  Outport
		  Name			  "grasp_success"
		  SID			  "1534::1543"
		  Position		  [460, 101, 480, 119]
		  ZOrder		  -6
		  IconDisplay		  "Port number"
		}
		Line {
		  ZOrder		  6
		  SrcBlock		  "isGraspMessage"
		  SrcPort		  1
		  Points		  [120, 0]
		  DstBlock		  " SFunction "
		  DstPort		  1
		}
		Line {
		  ZOrder		  7
		  SrcBlock		  "errorcode"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  2
		}
		Line {
		  Name			  "grasp_success"
		  ZOrder		  8
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  2
		  DstBlock		  "grasp_success"
		  DstPort		  1
		}
		Line {
		  ZOrder		  9
		  SrcBlock		  " Demux "
		  SrcPort		  1
		  DstBlock		  " Terminator "
		  DstPort		  1
		}
		Line {
		  ZOrder		  10
		  SrcBlock		  " SFunction "
		  SrcPort		  1
		  DstBlock		  " Demux "
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Grasp Success1"
	      SID		      "1535"
	      Ports		      [2, 1]
	      Position		      [635, 378, 755, 422]
	      ZOrder		      -3
	      LibraryVersion	      "1.31"
	      ErrorFcn		      "Stateflow.Translate.translate"
	      PermitHierarchicalResolution "ExplicitOnly"
	      TreatAsAtomicUnit	      on
	      RequestExecContextInheritance off
	      SFBlockType	      "MATLAB Function"
	      System {
		Name			"Grasp Success1"
		Location		[227, 345, 838, 789]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SIDHighWatermark	"1542"
		Block {
		  BlockType		  Inport
		  Name			  "isMoveFingerMessage"
		  SID			  "1535::1535"
		  Position		  [20, 101, 40, 119]
		  ZOrder		  -1
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "errorcode"
		  SID			  "1535::1543"
		  Position		  [20, 136, 40, 154]
		  ZOrder		  -2
		  Port			  "2"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Demux
		  Name			  " Demux "
		  SID			  "1535::1541"
		  Ports			  [1, 1]
		  Position		  [270, 230, 320, 270]
		  ZOrder		  2
		  Outputs		  "1"
		}
		Block {
		  BlockType		  S-Function
		  Name			  " SFunction "
		  SID			  "1535::1540"
		  Tag			  "Stateflow S-Function wamjc7 27"
		  Ports			  [2, 2]
		  Position		  [180, 100, 230, 160]
		  ZOrder		  1
		  FunctionName		  "sf_sfun"
		  PortCounts		  "[2 2]"
		  EnableBusSupport	  off
		  Port {
		    PortNumber		    2
		    Name		    "axis_blocked"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Terminator
		  Name			  " Terminator "
		  SID			  "1535::1542"
		  Position		  [460, 241, 480, 259]
		  ZOrder		  3
		}
		Block {
		  BlockType		  Outport
		  Name			  "axis_blocked"
		  SID			  "1535::1544"
		  Position		  [460, 101, 480, 119]
		  ZOrder		  -6
		  IconDisplay		  "Port number"
		}
		Line {
		  ZOrder		  6
		  SrcBlock		  "isMoveFingerMessage"
		  SrcPort		  1
		  Points		  [120, 0]
		  DstBlock		  " SFunction "
		  DstPort		  1
		}
		Line {
		  ZOrder		  7
		  SrcBlock		  "errorcode"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  2
		}
		Line {
		  Name			  "axis_blocked"
		  ZOrder		  8
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  2
		  DstBlock		  "axis_blocked"
		  DstPort		  1
		}
		Line {
		  ZOrder		  9
		  SrcBlock		  " Demux "
		  SrcPort		  1
		  DstBlock		  " Terminator "
		  DstPort		  1
		}
		Line {
		  ZOrder		  10
		  SrcBlock		  " SFunction "
		  SrcPort		  1
		  DstBlock		  " Demux "
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Is Force Packet"
	      SID		      "1536"
	      Ports		      [1, 1]
	      Position		      [530, 158, 565, 172]
	      ZOrder		      -4
	      LibraryVersion	      "1.256"
	      SourceBlock	      "simulink/Logic and Bit\nOperations/Compare\nTo Constant"
	      SourceType	      "Compare To Constant"
	      relop		      "=="
	      const		      "hex2dec('45')"
	      OutDataTypeStr	      "uint8"
	      ZeroCross		      on
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Is Grasp Done"
	      SID		      "1537"
	      Ports		      [1, 1]
	      Position		      [530, 293, 565, 307]
	      ZOrder		      -5
	      LibraryVersion	      "1.256"
	      SourceBlock	      "simulink/Logic and Bit\nOperations/Compare\nTo Constant"
	      SourceType	      "Compare To Constant"
	      relop		      "=="
	      const		      "hex2dec('25')"
	      OutDataTypeStr	      "uint8"
	      ZeroCross		      on
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Is Position Command"
	      SID		      "1538"
	      Ports		      [1, 1]
	      Position		      [530, 383, 565, 397]
	      ZOrder		      -6
	      LibraryVersion	      "1.256"
	      SourceBlock	      "simulink/Logic and Bit\nOperations/Compare\nTo Constant"
	      SourceType	      "Compare To Constant"
	      relop		      "=="
	      const		      "hex2dec('21')"
	      OutDataTypeStr	      "uint8"
	      ZeroCross		      on
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Is Position Packet"
	      SID		      "1539"
	      Ports		      [1, 1]
	      Position		      [530, 253, 565, 267]
	      ZOrder		      -7
	      LibraryVersion	      "1.256"
	      SourceBlock	      "simulink/Logic and Bit\nOperations/Compare\nTo Constant"
	      SourceType	      "Compare To Constant"
	      relop		      "=="
	      const		      "hex2dec('43')"
	      OutDataTypeStr	      "uint8"
	      ZeroCross		      on
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Receive from Gripper"
	      SID		      "1540"
	      Ports		      [0, 2]
	      Position		      [125, 167, 205, 218]
	      ZOrder		      -8
	      LibraryVersion	      "1.1706"
	      SourceBlock	      "xpclib/UDP/Receive"
	      SourceType	      "xpcudpbytereceive"
	      ipAddress		      "192.168.1.20"
	      ipPort		      "1501"
	      width		      "266"
	      vblLen		      on
	      sampletime	      "sample_time"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Send To MATLAB"
	      SID		      "1541"
	      Ports		      [1, 0, 0, 1]
	      Position		      [275, 268, 370, 282]
	      ZOrder		      -9
	      NamePlacement	      "alternate"
	      LibraryVersion	      "1.216"
	      TreatAsAtomicUnit	      on
	      RequestExecContextInheritance off
	      System {
		Name			"Send To MATLAB"
		Location		[371, 234, 925, 718]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "UDP"
		  SID			  "1542"
		  Position		  [110, 103, 140, 117]
		  ZOrder		  -1
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  TriggerPort
		  Name			  "Trigger"
		  SID			  "1543"
		  Ports			  []
		  Position		  [225, 20, 245, 40]
		  ZOrder		  -2
		  StatesWhenEnabling	  "held"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Send to MATLAB"
		  SID			  "1544"
		  Ports			  [1]
		  Position		  [300, 85, 380, 135]
		  ZOrder		  -3
		  LibraryVersion	  "1.1706"
		  SourceBlock		  "xpclib/UDP/Send"
		  SourceType		  "xpcudpbytesend"
		  ipAddress		  "192.168.1.11"
		  ipPort		  "1501"
		  localPort		  "-1"
		  vblLen		  off
		  sampletime		  "-1"
		}
		Line {
		  ZOrder		  1
		  SrcBlock		  "UDP"
		  SrcPort		  1
		  DstBlock		  "Send to MATLAB"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Unpack Force Packet1"
	      SID		      "1545"
	      Ports		      [1, 6]
	      Position		      [315, 152, 395, 208]
	      ZOrder		      -10
	      LibraryVersion	      "1.1706"
	      SourceBlock	      "xpclib/UDP/Unpack"
	      SourceType	      "xpcbyte2any"
	      dimensions	      "{3,1,1,1,1,254}"
	      datatypes		      "{'uint8','uint8','uint16','uint16','single','uint8'}"
	      byteAlign		      "1"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Update Force"
	      SID		      "1546"
	      Ports		      [1, 1, 1]
	      Position		      [635, 98, 755, 142]
	      ZOrder		      -11
	      NamePlacement	      "alternate"
	      LibraryVersion	      "1.216"
	      TreatAsAtomicUnit	      on
	      RequestExecContextInheritance off
	      System {
		Name			"Update Force"
		Location		[458, 441, 1370, 925]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "params"
		  SID			  "1547"
		  Position		  [50, 123, 80, 137]
		  ZOrder		  -1
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  EnablePort
		  Name			  "Enable"
		  SID			  "1548"
		  Ports			  []
		  Position		  [215, 25, 235, 45]
		  ZOrder		  -2
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type Conversion"
		  SID			  "1549"
		  Position		  [185, 113, 260, 147]
		  ZOrder		  -3
		  RndMeth		  "Floor"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Gripper Force"
		  SID			  "1550"
		  Position		  [380, 123, 410, 137]
		  ZOrder		  -4
		  IconDisplay		  "Port number"
		}
		Line {
		  ZOrder		  1
		  SrcBlock		  "params"
		  SrcPort		  1
		  DstBlock		  "Data Type Conversion"
		  DstPort		  1
		}
		Line {
		  ZOrder		  2
		  SrcBlock		  "Data Type Conversion"
		  SrcPort		  1
		  DstBlock		  "Gripper Force"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Update Position"
	      SID		      "1551"
	      Ports		      [1, 1, 1]
	      Position		      [635, 193, 755, 237]
	      ZOrder		      -12
	      NamePlacement	      "alternate"
	      LibraryVersion	      "1.216"
	      TreatAsAtomicUnit	      on
	      RequestExecContextInheritance off
	      System {
		Name			"Update Position"
		Location		[534, 428, 1354, 912]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "params"
		  SID			  "1552"
		  Position		  [50, 123, 80, 137]
		  ZOrder		  -1
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  EnablePort
		  Name			  "Enable"
		  SID			  "1553"
		  Ports			  []
		  Position		  [230, 35, 250, 55]
		  ZOrder		  -2
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  SID			  "1554"
		  Position		  [335, 136, 375, 154]
		  ZOrder		  -3
		  Value			  ".001"
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type Conversion"
		  SID			  "1555"
		  Position		  [185, 113, 260, 147]
		  ZOrder		  -4
		  RndMeth		  "Floor"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  SID			  "1556"
		  Ports			  [2, 1]
		  Position		  [465, 122, 495, 153]
		  ZOrder		  -5
		  InputSameDT		  off
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Outport
		  Name			  "Position"
		  SID			  "1557"
		  Position		  [555, 133, 585, 147]
		  ZOrder		  -6
		  IconDisplay		  "Port number"
		}
		Line {
		  ZOrder		  1
		  SrcBlock		  "params"
		  SrcPort		  1
		  DstBlock		  "Data Type Conversion"
		  DstPort		  1
		}
		Line {
		  ZOrder		  2
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Position"
		  DstPort		  1
		}
		Line {
		  ZOrder		  3
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  2
		}
		Line {
		  ZOrder		  4
		  SrcBlock		  "Data Type Conversion"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Gripper Force"
	      SID		      "1558"
	      Position		      [955, 113, 985, 127]
	      ZOrder		      -13
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Gripper Position"
	      SID		      "1559"
	      Position		      [955, 208, 985, 222]
	      ZOrder		      -14
	      Port		      "2"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "GraspSuccess"
	      SID		      "1560"
	      Position		      [955, 303, 985, 317]
	      ZOrder		      -15
	      Port		      "3"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Axis Blocked"
	      SID		      "1561"
	      Position		      [955, 393, 985, 407]
	      ZOrder		      -16
	      Port		      "4"
	      IconDisplay	      "Port number"
	    }
	    Line {
	      ZOrder		      1
	      SrcBlock		      "Receive from Gripper"
	      SrcPort		      2
	      Points		      [25, 0; 0, 130; 85, 0]
	      DstBlock		      "Send To MATLAB"
	      DstPort		      trigger
	    }
	    Line {
	      ZOrder		      2
	      SrcBlock		      "Receive from Gripper"
	      SrcPort		      1
	      Points		      [50, 0]
	      Branch {
		ZOrder			3
		DstBlock		"Send To MATLAB"
		DstPort			1
	      }
	      Branch {
		ZOrder			4
		DstBlock		"Unpack Force Packet1"
		DstPort			1
	      }
	    }
	    Line {
	      ZOrder		      5
	      SrcBlock		      "Unpack Force Packet1"
	      SrcPort		      5
	      Points		      [45, 0]
	      Branch {
		ZOrder			6
		Points			[0, -75]
		DstBlock		"Update Force"
		DstPort			1
	      }
	      Branch {
		ZOrder			7
		Points			[0, 20]
		DstBlock		"Update Position"
		DstPort			1
	      }
	    }
	    Line {
	      ZOrder		      8
	      SrcBlock		      "Unpack Force Packet1"
	      SrcPort		      2
	      Points		      [75, 0]
	      Branch {
		ZOrder			9
		DstBlock		"Is Force Packet"
		DstPort			1
	      }
	      Branch {
		ZOrder			10
		Points			[0, 95]
		Branch {
		  ZOrder		  11
		  DstBlock		  "Is Position Packet"
		  DstPort		  1
		}
		Branch {
		  ZOrder		  12
		  Points		  [0, 40]
		  Branch {
		    ZOrder		    13
		    DstBlock		    "Is Grasp Done"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    14
		    Points		    [0, 90]
		    DstBlock		    "Is Position Command"
		    DstPort		    1
		  }
		}
	      }
	    }
	    Line {
	      ZOrder		      15
	      SrcBlock		      "Update Force"
	      SrcPort		      1
	      DstBlock		      "Gripper Force"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      16
	      SrcBlock		      "Is Force Packet"
	      SrcPort		      1
	      Points		      [125, 0]
	      DstBlock		      "Update Force"
	      DstPort		      enable
	    }
	    Line {
	      ZOrder		      17
	      SrcBlock		      "Is Position Packet"
	      SrcPort		      1
	      Points		      [125, 0]
	      DstBlock		      "Update Position"
	      DstPort		      enable
	    }
	    Line {
	      ZOrder		      18
	      SrcBlock		      "Update Position"
	      SrcPort		      1
	      DstBlock		      "Gripper Position"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      19
	      SrcBlock		      "Unpack Force Packet1"
	      SrcPort		      4
	      Points		      [25, 0; 0, 135]
	      Branch {
		ZOrder			20
		DstBlock		"Grasp Success"
		DstPort			2
	      }
	      Branch {
		ZOrder			21
		Points			[0, 90]
		DstBlock		"Grasp Success1"
		DstPort			2
	      }
	    }
	    Line {
	      ZOrder		      22
	      SrcBlock		      "Is Grasp Done"
	      SrcPort		      1
	      DstBlock		      "Grasp Success"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      23
	      SrcBlock		      "Grasp Success"
	      SrcPort		      1
	      DstBlock		      "GraspSuccess"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      24
	      SrcBlock		      "Grasp Success1"
	      SrcPort		      1
	      DstBlock		      "Axis Blocked"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      25
	      SrcBlock		      "Is Position Command"
	      SrcPort		      1
	      DstBlock		      "Grasp Success1"
	      DstPort		      1
	    }
	    Annotation {
	      SID		      "1804"
	      Position		      [662, 103, 664, 118]
	      InternalMargins	      [0, 0, 0, 0]
	      FixedHeight	      off
	      FixedWidth	      off
	      ZOrder		      -1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Get Joint Positions"
	  SID			  "1562"
	  Ports			  [0, 1]
	  Position		  [145, 319, 245, 361]
	  ZOrder		  -13
	  RequestExecContextInheritance	off
	  System {
	    Name		    "Get Joint Positions"
	    Location		    [612, 239, 1384, 705]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Reference
	      Name		      "DocBlock"
	      SID		      "1563"
	      Ports		      []
	      Position		      [52, 16, 146, 81]
	      ZOrder		      -1
	      ShowName		      off
	      LibraryVersion	      "1.256"
	      UserDataPersistent      on
	      UserData		      "DataTag6"
	      SourceBlock	      "simulink/Model-Wide\nUtilities/DocBlock"
	      SourceType	      "DocBlock"
	      DocumentType	      "Text"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Filter Bad Readings"
	      SID		      "1564"
	      Ports		      [1, 1]
	      Position		      [290, 139, 390, 181]
	      ZOrder		      -2
	      RequestExecContextInheritance off
	      System {
		Name			"Filter Bad Readings"
		Location		[322, 365, 946, 849]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "qM_in"
		  SID			  "1565"
		  Position		  [70, 78, 100, 92]
		  ZOrder		  -1
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Abs
		  Name			  "Abs"
		  SID			  "1566"
		  Position		  [270, 105, 300, 135]
		  ZOrder		  -2
		  ShowName		  off
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Reference
		  Name			  "Compare\nTo Constant"
		  SID			  "1567"
		  Ports			  [1, 1]
		  Position		  [325, 105, 365, 135]
		  ZOrder		  -3
		  ShowName		  off
		  LibraryVersion	  "1.256"
		  SourceBlock		  "simulink/Logic and Bit\nOperations/Compare\nTo Constant"
		  SourceType		  "Compare To Constant"
		  relop			  "<"
		  const			  "enc_per_rev/4"
		  OutDataTypeStr	  "uint8"
		  ZeroCross		  on
		}
		Block {
		  BlockType		  Sum
		  Name			  "Subtract"
		  SID			  "1568"
		  Ports			  [2, 1]
		  Position		  [215, 102, 245, 133]
		  ZOrder		  -4
		  ShowName		  off
		  Inputs		  "+-"
		  InputSameDT		  off
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  SID			  "1569"
		  Position		  [400, 105, 430, 135]
		  ZOrder		  -5
		  ShowName		  off
		  Criteria		  "u2 ~= 0"
		  InputSameDT		  off
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  UnitDelay
		  Name			  "Unit Delay"
		  SID			  "1570"
		  Position		  [140, 108, 175, 142]
		  ZOrder		  -6
		  SampleTime		  "-1"
		}
		Block {
		  BlockType		  Outport
		  Name			  "qM_out"
		  SID			  "1571"
		  Position		  [465, 113, 495, 127]
		  ZOrder		  -7
		  IconDisplay		  "Port number"
		}
		Line {
		  ZOrder		  1
		  SrcBlock		  "Unit Delay"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    ZOrder		    2
		    DstBlock		    "Subtract"
		    DstPort		    2
		  }
		  Branch {
		    ZOrder		    3
		    Points		    [0, 30; 190, 0; 0, -25]
		    DstBlock		    "Switch"
		    DstPort		    3
		  }
		}
		Line {
		  ZOrder		  4
		  SrcBlock		  "Subtract"
		  SrcPort		  1
		  DstBlock		  "Abs"
		  DstPort		  1
		}
		Line {
		  ZOrder		  5
		  SrcBlock		  "Abs"
		  SrcPort		  1
		  DstBlock		  "Compare\nTo Constant"
		  DstPort		  1
		}
		Line {
		  ZOrder		  6
		  SrcBlock		  "Compare\nTo Constant"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  2
		}
		Line {
		  ZOrder		  7
		  SrcBlock		  "qM_in"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    ZOrder		    8
		    Points		    [0, 40]
		    DstBlock		    "Unit Delay"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    9
		    Points		    [75, 0]
		    Branch {
		    ZOrder		    10
		    Points		    [0, 25]
		    DstBlock		    "Subtract"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    11
		    Points		    [190, 0; 0, 25]
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  ZOrder		  12
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  DstBlock		  "qM_out"
		  DstPort		  1
		}
		Annotation {
		  SID			  "1805"
		  Position		  [323, 125, 325, 140]
		  InternalMargins	  [0, 0, 0, 0]
		  FixedHeight		  off
		  FixedWidth		  off
		  ZOrder		  -1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Motor Counts to\nJoint Radians"
	      SID		      "1572"
	      Ports		      [1, 1]
	      Position		      [450, 134, 575, 186]
	      ZOrder		      -3
	      RequestExecContextInheritance off
	      System {
		Name			"Motor Counts to\nJoint Radians"
		Location		[409, 408, 1093, 944]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "qM"
		  SID			  "1573"
		  Position		  [55, 123, 85, 137]
		  ZOrder		  -1
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Add"
		  SID			  "1574"
		  Ports			  [2, 1]
		  Position		  [435, 92, 465, 123]
		  ZOrder		  -2
		  InputSameDT		  off
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Reference
		  Name			  "DocBlock"
		  SID			  "1575"
		  Ports			  []
		  Position		  [132, 206, 226, 271]
		  ZOrder		  -3
		  ShowName		  off
		  LibraryVersion	  "1.256"
		  UserDataPersistent	  on
		  UserData		  "DataTag7"
		  SourceBlock		  "simulink/Model-Wide\nUtilities/DocBlock"
		  SourceType		  "DocBlock"
		  DocumentType		  "Text"
		}
		Block {
		  BlockType		  Constant
		  Name			  "M2J Position Matrix"
		  SID			  "1576"
		  Position		  [165, 52, 225, 78]
		  ZOrder		  -4
		  Value			  "arm_m2jp"
		}
		Block {
		  BlockType		  Product
		  Name			  "Matrix Multiply"
		  SID			  "1577"
		  Ports			  [2, 1]
		  Position		  [280, 94, 335, 136]
		  ZOrder		  -5
		  Multiplication	  "Matrix(*)"
		  InputSameDT		  off
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		  RndMeth		  "Floor"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  SID			  "1578"
		  Ports			  [2, 1]
		  Position		  [165, 107, 195, 138]
		  ZOrder		  -6
		  InputSameDT		  off
		  OutMin		  "[-8192]"
		  OutMax		  "[8191]"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Constant
		  Name			  "cts2rad"
		  SID			  "1579"
		  Position		  [90, 50, 120, 80]
		  ZOrder		  -7
		  Value			  "2*pi/enc_per_rev"
		}
		Block {
		  BlockType		  Constant
		  Name			  "home"
		  SID			  "1580"
		  Position		  [330, 50, 395, 80]
		  ZOrder		  -8
		  Value			  "arm_home"
		}
		Block {
		  BlockType		  Outport
		  Name			  "qJ"
		  SID			  "1581"
		  Position		  [500, 103, 530, 117]
		  ZOrder		  -9
		  IconDisplay		  "Port number"
		}
		Line {
		  ZOrder		  1
		  SrcBlock		  "qM"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  2
		}
		Line {
		  ZOrder		  2
		  SrcBlock		  "Add"
		  SrcPort		  1
		  DstBlock		  "qJ"
		  DstPort		  1
		}
		Line {
		  ZOrder		  3
		  SrcBlock		  "Matrix Multiply"
		  SrcPort		  1
		  DstBlock		  "Add"
		  DstPort		  2
		}
		Line {
		  ZOrder		  4
		  SrcBlock		  "home"
		  SrcPort		  1
		  Points		  [10, 0; 0, 35]
		  DstBlock		  "Add"
		  DstPort		  1
		}
		Line {
		  ZOrder		  5
		  SrcBlock		  "cts2rad"
		  SrcPort		  1
		  Points		  [15, 0; 0, 50]
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Line {
		  ZOrder		  6
		  SrcBlock		  "M2J Position Matrix"
		  SrcPort		  1
		  Points		  [20, 0; 0, 40]
		  DstBlock		  "Matrix Multiply"
		  DstPort		  1
		}
		Line {
		  ZOrder		  7
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Matrix Multiply"
		  DstPort		  2
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Recieve and Unpack \nMotor Positions"
	      SID		      "1582"
	      Ports		      [0, 1]
	      Position		      [165, 130, 205, 190]
	      ZOrder		      -4
	      RequestExecContextInheritance off
	      System {
		Name			"Recieve and Unpack \nMotor Positions"
		Location		[426, 52, 1166, 736]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Reference
		  Name			  "CAN bit-unpacking 1"
		  SID			  "1583"
		  Ports			  [1, 1]
		  Position		  [260, 67, 340, 93]
		  ZOrder		  -1
		  ShowName		  off
		  LibraryVersion	  "1.1706"
		  SourceBlock		  "xpclib/CAN/Utilities/CAN bit-unpacking "
		  SourceType		  "double2bit"
		  bitpatterns		  "{ [16:23, 8:15, 0:5,-1, -1] }"
		  dtypes		  "{ 'int32'}"
		}
		Block {
		  BlockType		  Reference
		  Name			  "CAN bit-unpacking 2"
		  SID			  "1584"
		  Ports			  [1, 1]
		  Position		  [260, 102, 340, 128]
		  ZOrder		  -2
		  ShowName		  off
		  LibraryVersion	  "1.1706"
		  SourceBlock		  "xpclib/CAN/Utilities/CAN bit-unpacking "
		  SourceType		  "double2bit"
		  bitpatterns		  "{ [16:23, 8:15, 0:5,-1, -1] }"
		  dtypes		  "{ 'int32'}"
		}
		Block {
		  BlockType		  Reference
		  Name			  "CAN bit-unpacking 3"
		  SID			  "1585"
		  Ports			  [1, 1]
		  Position		  [260, 137, 340, 163]
		  ZOrder		  -3
		  ShowName		  off
		  LibraryVersion	  "1.1706"
		  SourceBlock		  "xpclib/CAN/Utilities/CAN bit-unpacking "
		  SourceType		  "double2bit"
		  bitpatterns		  "{ [16:23, 8:15, 0:5,-1, -1] }"
		  dtypes		  "{ 'int32'}"
		}
		Block {
		  BlockType		  Reference
		  Name			  "CAN bit-unpacking 4"
		  SID			  "1586"
		  Ports			  [1, 1]
		  Position		  [260, 32, 340, 58]
		  ZOrder		  -4
		  ShowName		  off
		  LibraryVersion	  "1.1706"
		  SourceBlock		  "xpclib/CAN/Utilities/CAN bit-unpacking "
		  SourceType		  "double2bit"
		  bitpatterns		  "{ [16:23, 8:15, 0:5,-1, -1] }"
		  dtypes		  "{ 'int32'}"
		}
		Block {
		  BlockType		  Reference
		  Name			  "CAN bit-unpacking 5"
		  SID			  "1587"
		  Ports			  [1, 1]
		  Position		  [260, 172, 340, 198]
		  ZOrder		  -5
		  ShowName		  off
		  LibraryVersion	  "1.1706"
		  SourceBlock		  "xpclib/CAN/Utilities/CAN bit-unpacking "
		  SourceType		  "double2bit"
		  bitpatterns		  "{ [16:23, 8:15, 0:5,-1, -1] }"
		  dtypes		  "{ 'int32'}"
		}
		Block {
		  BlockType		  Reference
		  Name			  "CAN bit-unpacking 6"
		  SID			  "1588"
		  Ports			  [1, 1]
		  Position		  [260, 207, 340, 233]
		  ZOrder		  -6
		  ShowName		  off
		  LibraryVersion	  "1.1706"
		  SourceBlock		  "xpclib/CAN/Utilities/CAN bit-unpacking "
		  SourceType		  "double2bit"
		  bitpatterns		  "{ [16:23, 8:15, 0:5,-1, -1] }"
		  dtypes		  "{ 'int32'}"
		}
		Block {
		  BlockType		  Reference
		  Name			  "CAN bit-unpacking 7"
		  SID			  "1589"
		  Ports			  [1, 1]
		  Position		  [260, 242, 340, 268]
		  ZOrder		  -7
		  ShowName		  off
		  LibraryVersion	  "1.1706"
		  SourceBlock		  "xpclib/CAN/Utilities/CAN bit-unpacking "
		  SourceType		  "double2bit"
		  bitpatterns		  "{ [16:23, 8:15, 0:5,-1, -1] }"
		  dtypes		  "{ 'int32'}"
		}
		Block {
		  BlockType		  DataTypeConversion
		  Name			  "Data Type Conversion"
		  SID			  "1590"
		  Position		  [465, 133, 540, 167]
		  ZOrder		  -8
		  OutDataTypeStr	  "double"
		  RndMeth		  "Floor"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Reference
		  Name			  "DocBlock"
		  SID			  "1591"
		  Ports			  []
		  Position		  [117, 326, 211, 391]
		  ZOrder		  -9
		  ShowName		  off
		  LibraryVersion	  "1.256"
		  UserDataPersistent	  on
		  UserData		  "DataTag8"
		  SourceBlock		  "simulink/Model-Wide\nUtilities/DocBlock"
		  SourceType		  "DocBlock"
		  DocumentType		  "Text"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  SID			  "1592"
		  Ports			  [7, 1]
		  Position		  [385, 30, 395, 270]
		  ZOrder		  -10
		  ShowName		  off
		  Inputs		  "7"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Receive position "
		  SID			  "1593"
		  Ports			  [0, 7]
		  Position		  [25, 24, 210, 276]
		  ZOrder		  -11
		  LibraryVersion	  "1.1706"
		  SourceBlock		  "xpclib/CAN/Softing/CAN-AC2-PCI\nSJA 1000/Receive "
		  SourceType		  "canac2pcireceive"
		  board			  "1"
		  canPort		  "CAN 1"
		  range			  "Standard (11-bit)"
		  ids			  "[bin2dec('10000100011'),bin2dec('10001000011'),bin2dec('10001100011'),bin2dec('10010000011'),bin2dec('100"
		  "10100011'),bin2dec('10011000011'),bin2dec('10011100011')]"
		  lengths		  "0"
		  output		  "Data"
		  inten			  on
		  ts			  "sample_time"
		  ididx			  "[0,1,2,3,5,6,7]"
		}
		Block {
		  BlockType		  Outport
		  Name			  "qM"
		  SID			  "1594"
		  Position		  [580, 143, 610, 157]
		  ZOrder		  -12
		  IconDisplay		  "Port number"
		}
		Line {
		  ZOrder		  1
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "Data Type Conversion"
		  DstPort		  1
		}
		Line {
		  ZOrder		  2
		  SrcBlock		  "Receive position "
		  SrcPort		  1
		  DstBlock		  "CAN bit-unpacking 4"
		  DstPort		  1
		}
		Line {
		  ZOrder		  3
		  SrcBlock		  "Receive position "
		  SrcPort		  2
		  DstBlock		  "CAN bit-unpacking 1"
		  DstPort		  1
		}
		Line {
		  ZOrder		  4
		  SrcBlock		  "Receive position "
		  SrcPort		  3
		  DstBlock		  "CAN bit-unpacking 2"
		  DstPort		  1
		}
		Line {
		  ZOrder		  5
		  SrcBlock		  "Receive position "
		  SrcPort		  4
		  DstBlock		  "CAN bit-unpacking 3"
		  DstPort		  1
		}
		Line {
		  ZOrder		  6
		  SrcBlock		  "CAN bit-unpacking 4"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  1
		}
		Line {
		  ZOrder		  7
		  SrcBlock		  "CAN bit-unpacking 1"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  2
		}
		Line {
		  ZOrder		  8
		  SrcBlock		  "CAN bit-unpacking 2"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  3
		}
		Line {
		  ZOrder		  9
		  SrcBlock		  "CAN bit-unpacking 3"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  4
		}
		Line {
		  ZOrder		  10
		  SrcBlock		  "Data Type Conversion"
		  SrcPort		  1
		  DstBlock		  "qM"
		  DstPort		  1
		}
		Line {
		  ZOrder		  11
		  SrcBlock		  "Receive position "
		  SrcPort		  5
		  DstBlock		  "CAN bit-unpacking 5"
		  DstPort		  1
		}
		Line {
		  ZOrder		  12
		  SrcBlock		  "Receive position "
		  SrcPort		  6
		  DstBlock		  "CAN bit-unpacking 6"
		  DstPort		  1
		}
		Line {
		  ZOrder		  13
		  SrcBlock		  "Receive position "
		  SrcPort		  7
		  DstBlock		  "CAN bit-unpacking 7"
		  DstPort		  1
		}
		Line {
		  ZOrder		  14
		  SrcBlock		  "CAN bit-unpacking 5"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  5
		}
		Line {
		  ZOrder		  15
		  SrcBlock		  "CAN bit-unpacking 6"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  6
		}
		Line {
		  ZOrder		  16
		  SrcBlock		  "CAN bit-unpacking 7"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  7
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Send Get Position"
	      SID		      "1595"
	      Ports		      []
	      Position		      [55, 130, 95, 190]
	      ZOrder		      -5
	      RequestExecContextInheritance off
	      System {
		Name			"Send Get Position"
		Location		[66, 464, 677, 994]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Reference
		  Name			  "Bit Packing"
		  SID			  "1596"
		  Ports			  [1, 1]
		  Position		  [100, 30, 195, 80]
		  ZOrder		  -1
		  LibraryVersion	  "1.4"
		  SourceBlock		  "xpcutilitieslib/Bit Packing "
		  SourceType		  "xpcbitpacking"
		  MaskBitPatterns	  "{[0:7]}"
		  MaskPackDataType	  "double"
		  MaskPackDataSize	  "[1]"
		}
		Block {
		  BlockType		  Reference
		  Name			  "DocBlock"
		  SID			  "1597"
		  Ports			  []
		  Position		  [107, 151, 201, 216]
		  ZOrder		  -2
		  ShowName		  off
		  LibraryVersion	  "1.256"
		  UserDataPersistent	  on
		  UserData		  "DataTag9"
		  SourceBlock		  "simulink/Model-Wide\nUtilities/DocBlock"
		  SourceType		  "DocBlock"
		  DocumentType		  "Text"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Send to all motors"
		  SID			  "1598"
		  Ports			  [1]
		  Position		  [215, 27, 325, 83]
		  ZOrder		  -3
		  LibraryVersion	  "1.1706"
		  SourceBlock		  "xpclib/CAN/Softing/CAN-AC2-PCI\nSJA 1000/Send "
		  SourceType		  "canac2pcisend"
		  board			  "1"
		  canPort		  "CAN 1"
		  range			  "Standard (11-bit)"
		  ids			  "1024"
		  sizes			  "[1]"
		  output		  off
		  ts			  "sample_time"
		  ididx			  "[2]"
		}
		Block {
		  BlockType		  Constant
		  Name			  "get position"
		  SID			  "1599"
		  Position		  [30, 39, 70, 71]
		  ZOrder		  -4
		  Value			  "[48]"
		  OutDataTypeStr	  "int8"
		}
		Line {
		  ZOrder		  1
		  SrcBlock		  "get position"
		  SrcPort		  1
		  DstBlock		  "Bit Packing"
		  DstPort		  1
		}
		Line {
		  ZOrder		  2
		  SrcBlock		  "Bit Packing"
		  SrcPort		  1
		  DstBlock		  "Send to all motors"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "q"
	      SID		      "1600"
	      Position		      [625, 153, 655, 167]
	      ZOrder		      -6
	      IconDisplay	      "Port number"
	    }
	    Line {
	      ZOrder		      1
	      SrcBlock		      "Recieve and Unpack \nMotor Positions"
	      SrcPort		      1
	      DstBlock		      "Filter Bad Readings"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      2
	      SrcBlock		      "Motor Counts to\nJoint Radians"
	      SrcPort		      1
	      DstBlock		      "q"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      3
	      SrcBlock		      "Filter Bad Readings"
	      SrcPort		      1
	      DstBlock		      "Motor Counts to\nJoint Radians"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Kalman Filter"
	  SID			  "1683"
	  Ports			  [3, 3, 1]
	  Position		  [705, 65, 795, 125]
	  ZOrder		  -14
	  RequestExecContextInheritance	off
	  System {
	    Name		    "Kalman Filter"
	    Location		    [573, 416, 1584, 961]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "q"
	      SID		      "1684"
	      Position		      [90, 98, 120, 112]
	      ZOrder		      -1
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "qd"
	      SID		      "1685"
	      Position		      [90, 143, 120, 157]
	      ZOrder		      -2
	      Port		      "2"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "qdddes"
	      SID		      "1686"
	      Position		      [40, 188, 70, 202]
	      ZOrder		      -3
	      Port		      "3"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      EnablePort
	      Name		      "Enable"
	      SID		      "1687"
	      Ports		      []
	      Position		      [315, 15, 335, 35]
	      ZOrder		      -4
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Kalman Filter"
	      SID		      "1688"
	      Ports		      [1, 1]
	      Position		      [400, 109, 515, 191]
	      ZOrder		      -5
	      LibraryVersion	      "1.793"
	      SourceBlock	      "dspadpt3/Kalman Filter"
	      SourceType	      "Kalman Filter"
	      num_targets	      "7"
	      sourceEnable	      "Always"
	      isReset		      on
	      X			      "[0 0 0 0 0]'"
	      P			      "10*eye(5)"
	      A			      "[1 sample_time 0 0 0 ;0 1 sample_time 0 0; 0 0 1 sample_time 0; 0 0 0 1 sample_time; 0 0 0 0 1]"
	      sourceMeasure	      "Specify via Dialog"
	      H			      "[1 0 0 0 0; 0 1 0 0 0; 0 0 1 0 0]"
	      Q			      "diag([1e-6 1e-6 1e-6 1e-6 1e-0])*eye(5)"
	      R			      "diag([1e-4 0.5 1.0])*eye(3)"
	      isOutputEstMeasure      off
	      isOutputEstState	      on
	      isOutputEstError	      off
	      isOutputPrdMeasure      off
	      isOutputPrdState	      off
	      isOutputPrdError	      off
	    }
	    Block {
	      BlockType		      Concatenate
	      Name		      "Matrix\nConcatenate"
	      SID		      "1689"
	      Ports		      [3, 1]
	      Position		      [245, 81, 365, 219]
	      ZOrder		      -6
	      NumInputs		      "3"
	      Mode		      "Multidimensional array"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Multiport\nSelector"
	      SID		      "1690"
	      Ports		      [1, 3]
	      Position		      [550, 120, 630, 180]
	      ZOrder		      -7
	      LibraryVersion	      "1.462"
	      SourceBlock	      "dspindex/Multiport\nSelector"
	      SourceType	      "Multiport Selector"
	      rowsOrCols	      "Rows"
	      idxCellArray	      "{ 1,2,3}"
	      idxErrMode	      "Clip Index"
	    }
	    Block {
	      BlockType		      Reshape
	      Name		      "Reshape"
	      SID		      "1691"
	      Ports		      [1, 1]
	      Position		      [700, 123, 740, 137]
	      ZOrder		      -8
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Reshape
	      Name		      "Reshape1"
	      SID		      "1692"
	      Ports		      [1, 1]
	      Position		      [700, 143, 740, 157]
	      ZOrder		      -9
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Reshape
	      Name		      "Reshape2"
	      SID		      "1693"
	      Ports		      [1, 1]
	      Position		      [700, 163, 740, 177]
	      ZOrder		      -10
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Reshape
	      Name		      "Reshape3"
	      SID		      "1694"
	      Ports		      [1, 1]
	      Position		      [155, 98, 195, 112]
	      ZOrder		      -11
	      ShowName		      off
	      OutputDimensionality    "Customize"
	      OutputDimensions	      "[1,7]"
	    }
	    Block {
	      BlockType		      Reshape
	      Name		      "Reshape4"
	      SID		      "1695"
	      Ports		      [1, 1]
	      Position		      [155, 143, 195, 157]
	      ZOrder		      -12
	      ShowName		      off
	      OutputDimensionality    "Customize"
	      OutputDimensions	      "[1,7]"
	    }
	    Block {
	      BlockType		      Reshape
	      Name		      "Reshape5"
	      SID		      "1696"
	      Ports		      [1, 1]
	      Position		      [155, 188, 195, 202]
	      ZOrder		      -13
	      ShowName		      off
	      OutputDimensionality    "Customize"
	      OutputDimensions	      "[1,7]"
	    }
	    Block {
	      BlockType		      UnitDelay
	      Name		      "Unit Delay"
	      SID		      "1697"
	      Position		      [100, 178, 135, 212]
	      ZOrder		      -14
	      SampleTime	      "-1"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "q_out"
	      SID		      "1698"
	      Position		      [765, 123, 795, 137]
	      ZOrder		      -15
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "qd_out"
	      SID		      "1699"
	      Position		      [765, 143, 795, 157]
	      ZOrder		      -16
	      Port		      "2"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "qdd_out"
	      SID		      "1700"
	      Position		      [765, 163, 795, 177]
	      ZOrder		      -17
	      Port		      "3"
	      IconDisplay	      "Port number"
	    }
	    Line {
	      ZOrder		      1
	      SrcBlock		      "Matrix\nConcatenate"
	      SrcPort		      1
	      DstBlock		      "Kalman Filter"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      2
	      SrcBlock		      "Kalman Filter"
	      SrcPort		      1
	      DstBlock		      "Multiport\nSelector"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      3
	      SrcBlock		      "Multiport\nSelector"
	      SrcPort		      1
	      DstBlock		      "Reshape"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      4
	      SrcBlock		      "Multiport\nSelector"
	      SrcPort		      2
	      DstBlock		      "Reshape1"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      5
	      SrcBlock		      "Multiport\nSelector"
	      SrcPort		      3
	      DstBlock		      "Reshape2"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      6
	      SrcBlock		      "Reshape5"
	      SrcPort		      1
	      DstBlock		      "Matrix\nConcatenate"
	      DstPort		      3
	    }
	    Line {
	      ZOrder		      7
	      SrcBlock		      "Reshape3"
	      SrcPort		      1
	      DstBlock		      "Matrix\nConcatenate"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      8
	      SrcBlock		      "Reshape4"
	      SrcPort		      1
	      DstBlock		      "Matrix\nConcatenate"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      9
	      SrcBlock		      "Unit Delay"
	      SrcPort		      1
	      DstBlock		      "Reshape5"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      10
	      SrcBlock		      "qdddes"
	      SrcPort		      1
	      DstBlock		      "Unit Delay"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      11
	      SrcBlock		      "q"
	      SrcPort		      1
	      DstBlock		      "Reshape3"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      12
	      SrcBlock		      "qd"
	      SrcPort		      1
	      DstBlock		      "Reshape4"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      13
	      SrcBlock		      "Reshape"
	      SrcPort		      1
	      DstBlock		      "q_out"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      14
	      SrcBlock		      "Reshape1"
	      SrcPort		      1
	      DstBlock		      "qd_out"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      15
	      SrcBlock		      "Reshape2"
	      SrcPort		      1
	      DstBlock		      "qdd_out"
	      DstPort		      1
	    }
	    Annotation {
	      SID		      "1806"
	      Position		      [76, 33, 78, 48]
	      InternalMargins	      [0, 0, 0, 0]
	      FixedHeight	      off
	      FixedWidth	      off
	      ZOrder		      -1
	    }
	  }
	}
	Block {
	  BlockType		  Mux
	  Name			  "Mux"
	  SID			  "1604"
	  Ports			  [12, 1]
	  Position		  [1350, 353, 1355, 587]
	  ZOrder		  -15
	  ShowName		  off
	  Inputs		  "[7 7 7 6 6 6 1 1 1 1 6 7]"
	  DisplayOption		  "bar"
	}
	Block {
	  BlockType		  Mux
	  Name			  "Mux1"
	  SID			  "1605"
	  Ports			  [5, 1]
	  Position		  [990, 614, 995, 676]
	  ZOrder		  -16
	  ShowName		  off
	  Inputs		  "[6 1 1 1 1]"
	  DisplayOption		  "bar"
	}
	Block {
	  BlockType		  Reference
	  Name			  "Scope (xPC) "
	  SID			  "1612"
	  Ports			  [1]
	  Position		  [1430, 440, 1520, 500]
	  ZOrder		  -17
	  LibraryVersion	  "1.1706"
	  SourceBlock		  "xpclib/Misc./Scope (xPC) "
	  SourceType		  "xpcscopeblock"
	  scopeno		  "3"
	  scopetype		  "File"
	  autostart		  on
	  viewmode		  "Graphical redraw"
	  formatstr		  "'%15.6f'"
	  grid			  on
	  ylimits		  "[0,0]"
	  nosamples		  "250"
	  noprepostsamples	  "0"
	  interleave		  "1"
	  triggermode		  "FreeRun"
	  triggersignal		  "1"
	  triggerlevel		  "0.0"
	  triggerslope		  "Either"
	  triggerscope		  "1"
	  triggersample		  "0"
	  filename		  "QFT<%%%>.dat"
	  mode			  "Lazy"
	  writesize		  "512"
	  autorestart		  on
	  dynamicfilemode	  on
	  maxwritefilesize	  "512*1024^2"
	}
	Block {
	  BlockType		  Reference
	  Name			  "w Scope"
	  SID			  "1614"
	  Ports			  [1]
	  Position		  [615, 503, 690, 547]
	  ZOrder		  -18
	  LibraryVersion	  "1.1706"
	  SourceBlock		  "xpclib/Misc./Scope (xPC) "
	  SourceType		  "xpcscopeblock"
	  scopeno		  "5"
	  scopetype		  "Target"
	  autostart		  on
	  viewmode		  "Numerical"
	  formatstr		  "['Fx %10.5f,Fy %10.5f,Fz %10.5f,TauX %10.5f,TauY %10.5f,TauZ%10.5f']"
	  grid			  on
	  ylimits		  "[0,0]"
	  nosamples		  "1/(10*sample_time)"
	  noprepostsamples	  "0"
	  interleave		  "1"
	  triggermode		  "FreeRun"
	  triggersignal		  "1"
	  triggerlevel		  "0.0"
	  triggerslope		  "Either"
	  triggerscope		  "1"
	  triggersample		  "0"
	  filename		  "data.dat"
	  mode			  "Lazy"
	  writesize		  "512"
	  autorestart		  off
	  dynamicfilemode	  off
	  maxwritefilesize	  "512*1024^2"
	}
	Block {
	  BlockType		  Outport
	  Name			  "q"
	  SID			  "1615"
	  Position		  [625, 333, 655, 347]
	  ZOrder		  -19
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  Outport
	  Name			  "qd"
	  SID			  "1616"
	  Position		  [625, 418, 655, 432]
	  ZOrder		  -20
	  Port			  "2"
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  Outport
	  Name			  "FT"
	  SID			  "1618"
	  Position		  [1045, 638, 1075, 652]
	  ZOrder		  -21
	  Port			  "3"
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  Outport
	  Name			  "wam_on"
	  SID			  "1617"
	  Position		  [320, 53, 350, 67]
	  ZOrder		  -22
	  Port			  "4"
	  IconDisplay		  "Port number"
	}
	Line {
	  ZOrder		  1
	  SrcBlock		  "Check WAM\nMODE"
	  SrcPort		  1
	  DstBlock		  "Compare\nTo Constant"
	  DstPort		  1
	}
	Line {
	  ZOrder		  2
	  SrcBlock		  "Differentiate"
	  SrcPort		  1
	  Points		  [15, 0]
	  Branch {
	    ZOrder		    3
	    DstBlock		    "Differentiate1"
	    DstPort		    1
	  }
	  Branch {
	    ZOrder		    4
	    Points		    [90, 0]
	    Branch {
	      ZOrder		      5
	      DstBlock		      "qd"
	      DstPort		      1
	    }
	    Branch {
	      ZOrder		      6
	      Points		      [0, -45]
	      DstBlock		      "Mux"
	      DstPort		      2
	    }
	  }
	}
	Line {
	  ZOrder		  7
	  SrcBlock		  "Compare\nTo Constant"
	  SrcPort		  1
	  DstBlock		  "wam_on"
	  DstPort		  1
	}
	Line {
	  ZOrder		  8
	  SrcBlock		  "t"
	  SrcPort		  1
	  Points		  [75, 0]
	  Branch {
	    ZOrder		    9
	    DstBlock		    "Differentiate"
	    DstPort		    2
	  }
	  Branch {
	    ZOrder		    10
	    Points		    [0, 50]
	    DstBlock		    "Differentiate1"
	    DstPort		    2
	  }
	}
	Line {
	  ZOrder		  11
	  SrcBlock		  "Get Joint Positions"
	  SrcPort		  1
	  Points		  [50, 0]
	  Branch {
	    ZOrder		    12
	    Points		    [265, 0]
	    Branch {
	      ZOrder		      13
	      DstBlock		      "q"
	      DstPort		      1
	    }
	    Branch {
	      ZOrder		      14
	      Points		      [0, 20]
	      DstBlock		      "Mux"
	      DstPort		      1
	    }
	  }
	  Branch {
	    ZOrder		    15
	    Points		    [0, 75]
	    DstBlock		    "Differentiate"
	    DstPort		    1
	  }
	}
	Line {
	  ZOrder		  16
	  SrcBlock		  "Mux"
	  SrcPort		  1
	  DstBlock		  "Scope (xPC) "
	  DstPort		  1
	}
	Line {
	  ZOrder		  17
	  SrcBlock		  "Get FT"
	  SrcPort		  1
	  Points		  [195, 0]
	  Branch {
	    ZOrder		    18
	    Points		    [0, -45]
	    DstBlock		    "w Scope"
	    DstPort		    1
	  }
	  Branch {
	    ZOrder		    19
	    Labels		    [2, 0]
	    Points		    [0, 0; 165, 0]
	    Branch {
	      ZOrder		      20
	      Points		      [0, -150]
	      DstBlock		      "Mux"
	      DstPort		      4
	    }
	    Branch {
	      ZOrder		      21
	      Points		      [205, 0; 0, 55]
	      DstBlock		      "Mux1"
	      DstPort		      1
	    }
	  }
	}
	Line {
	  ZOrder		  22
	  SrcBlock		  "FTSIGNAL"
	  SrcPort		  1
	  DstBlock		  "Get FT"
	  DstPort		  2
	}
	Line {
	  ZOrder		  23
	  SrcBlock		  "Get FT"
	  SrcPort		  2
	  Points		  [490, 0; 0, -150]
	  DstBlock		  "Mux"
	  DstPort		  5
	}
	Line {
	  ZOrder		  24
	  SrcBlock		  "Get FT"
	  SrcPort		  3
	  Points		  [500, 0; 0, -150]
	  DstBlock		  "Mux"
	  DstPort		  6
	}
	Line {
	  ZOrder		  25
	  SrcBlock		  "Differentiate1"
	  SrcPort		  1
	  Points		  [15, 0; 0, -75]
	  DstBlock		  "Mux"
	  DstPort		  3
	}
	Line {
	  ZOrder		  26
	  SrcBlock		  "Get Gripper Status"
	  SrcPort		  1
	  Points		  [220, 0]
	  Branch {
	    ZOrder		    27
	    Points		    [50, 0; 0, -105]
	    DstBlock		    "Mux1"
	    DstPort		    2
	  }
	  Branch {
	    ZOrder		    28
	    Points		    [0, -260]
	    DstBlock		    "Mux"
	    DstPort		    7
	  }
	}
	Line {
	  ZOrder		  29
	  SrcBlock		  "Mux1"
	  SrcPort		  1
	  DstBlock		  "FT"
	  DstPort		  1
	}
	Line {
	  ZOrder		  30
	  SrcBlock		  "Get Gripper Status"
	  SrcPort		  2
	  Points		  [235, 0]
	  Branch {
	    ZOrder		    31
	    Points		    [50, 0; 0, -110]
	    DstBlock		    "Mux1"
	    DstPort		    3
	  }
	  Branch {
	    ZOrder		    32
	    Points		    [0, -255]
	    DstBlock		    "Mux"
	    DstPort		    8
	  }
	}
	Line {
	  ZOrder		  33
	  SrcBlock		  "Get Gripper Status"
	  SrcPort		  3
	  Points		  [250, 0]
	  Branch {
	    ZOrder		    34
	    Points		    [50, 0; 0, -115]
	    DstBlock		    "Mux1"
	    DstPort		    4
	  }
	  Branch {
	    ZOrder		    35
	    Points		    [0, -250]
	    DstBlock		    "Mux"
	    DstPort		    9
	  }
	}
	Line {
	  ZOrder		  36
	  SrcBlock		  "Get Gripper Status"
	  SrcPort		  4
	  Points		  [260, 0]
	  Branch {
	    ZOrder		    37
	    Points		    [55, 0; 0, -120]
	    DstBlock		    "Mux1"
	    DstPort		    5
	  }
	  Branch {
	    ZOrder		    38
	    Points		    [0, -245]
	    DstBlock		    "Mux"
	    DstPort		    10
	  }
	}
	Line {
	  ZOrder		  39
	  SrcBlock		  "Tau"
	  SrcPort		  1
	  DstBlock		  "Mux"
	  DstPort		  12
	}
	Line {
	  ZOrder		  40
	  SrcBlock		  "Constant"
	  SrcPort		  1
	  Points		  [160, 0]
	  DstBlock		  "Kalman Filter"
	  DstPort		  enable
	}
	Line {
	  ZOrder		  41
	  SrcBlock		  "qdddes"
	  SrcPort		  1
	  DstBlock		  "Kalman Filter"
	  DstPort		  3
	}
	Line {
	  ZOrder		  42
	  SrcBlock		  "SensorExpFT"
	  SrcPort		  1
	  Points		  [70, 0]
	  Branch {
	    ZOrder		    43
	    Points		    [0, -255]
	    DstBlock		    "Get FT"
	    DstPort		    1
	  }
	  Branch {
	    ZOrder		    44
	    Points		    [1060, 0; 0, -270]
	    DstBlock		    "Mux"
	    DstPort		    11
	  }
	}
	Annotation {
	  SID			  "1807"
	  Position		  [270, 573, 272, 588]
	  InternalMargins	  [0, 0, 0, 0]
	  FixedHeight		  off
	  FixedWidth		  off
	  ZOrder		  -1
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "Get Time"
      SID		      "95"
      Ports		      [0, 1]
      Position		      [25, 358, 85, 382]
      ZOrder		      -4
      RequestExecContextInheritance off
      System {
	Name			"Get Time"
	Location		[866, 553, 1772, 1005]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
	TiledPageScale		1
	ShowPageBoundaries	off
	ZoomFactor		"100"
	Block {
	  BlockType		  Constant
	  Name			  "Clock Frequency"
	  SID			  "96"
	  Position		  [45, 156, 145, 184]
	  ZOrder		  -1
	  Value			  "1.193e6"
	}
	Block {
	  BlockType		  Product
	  Name			  "Divide1"
	  SID			  "97"
	  Ports			  [2, 1]
	  Position		  [205, 92, 235, 123]
	  ZOrder		  -2
	  ShowName		  off
	  Inputs		  "*/"
	  InputSameDT		  off
	  OutDataTypeStr	  "Inherit: Inherit via internal rule"
	  RndMeth		  "Floor"
	  SaturateOnIntegerOverflow off
	}
	Block {
	  BlockType		  Reference
	  Name			  "xPC Target\n Time "
	  SID			  "98"
	  Ports			  [0, 1]
	  Position		  [60, 81, 160, 119]
	  ZOrder		  -3
	  LibraryVersion	  "1.1706"
	  SourceBlock		  "xpclib/Misc./xPC Target\n Time "
	  SourceType		  "xpctime"
	  ts			  "sample_time"
	}
	Block {
	  BlockType		  Outport
	  Name			  "t"
	  SID			  "99"
	  Position		  [410, 103, 440, 117]
	  ZOrder		  -4
	  IconDisplay		  "Port number"
	}
	Line {
	  ZOrder		  1
	  SrcBlock		  "xPC Target\n Time "
	  SrcPort		  1
	  DstBlock		  "Divide1"
	  DstPort		  1
	}
	Line {
	  ZOrder		  2
	  SrcBlock		  "Clock Frequency"
	  SrcPort		  1
	  Points		  [30, 0; 0, -55]
	  DstBlock		  "Divide1"
	  DstPort		  2
	}
	Line {
	  ZOrder		  3
	  SrcBlock		  "Divide1"
	  SrcPort		  1
	  DstBlock		  "t"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "Receive Arm UDP"
      SID		      "142"
      Ports		      [0, 2]
      Position		      [65, 240, 160, 280]
      ZOrder		      -5
      RequestExecContextInheritance off
      System {
	Name			"Receive Arm UDP"
	Location		[213, 162, 830, 707]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
	TiledPageScale		1
	ShowPageBoundaries	off
	ZoomFactor		"100"
	Block {
	  BlockType		  Reference
	  Name			  "DocBlock"
	  SID			  "143"
	  Ports			  []
	  Position		  [97, 66, 191, 131]
	  ZOrder		  -1
	  ShowName		  off
	  LibraryVersion	  "1.256"
	  UserDataPersistent	  on
	  UserData		  "DataTag10"
	  SourceBlock		  "simulink/Model-Wide\nUtilities/DocBlock"
	  SourceType		  "DocBlock"
	  DocumentType		  "Text"
	}
	Block {
	  BlockType		  Reference
	  Name			  "Receive"
	  SID			  "407"
	  Ports			  [0, 2]
	  Position		  [90, 182, 170, 233]
	  ZOrder		  -2
	  ShowName		  off
	  LibraryVersion	  "1.1706"
	  SourceBlock		  "xpclib/UDP/Receive"
	  SourceType		  "xpcudpbytereceive"
	  ipAddress		  "192.168.1.11"
	  ipPort		  "5555"
	  width			  "5992"
	  vblLen		  off
	  sampletime		  "sample_time"
	}
	Block {
	  BlockType		  Reference
	  Name			  "Unpack"
	  SID			  "408"
	  Ports			  [1, 1]
	  Position		  [265, 173, 350, 217]
	  ZOrder		  -3
	  ShowName		  off
	  LibraryVersion	  "1.1706"
	  SourceBlock		  "xpclib/UDP/Unpack"
	  SourceType		  "xpcbyte2any"
	  dimensions		  "{[749,1]}"
	  datatypes		  "{'double'}"
	  byteAlign		  "1"
	}
	Block {
	  BlockType		  Outport
	  Name			  "udp"
	  SID			  "409"
	  Position		  [390, 188, 420, 202]
	  ZOrder		  -4
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  Outport
	  Name			  "rcvd"
	  SID			  "410"
	  Position		  [205, 213, 235, 227]
	  ZOrder		  -5
	  Port			  "2"
	  IconDisplay		  "Port number"
	}
	Line {
	  ZOrder		  1
	  SrcBlock		  "Unpack"
	  SrcPort		  1
	  DstBlock		  "udp"
	  DstPort		  1
	}
	Line {
	  ZOrder		  2
	  SrcBlock		  "Receive"
	  SrcPort		  1
	  DstBlock		  "Unpack"
	  DstPort		  1
	}
	Line {
	  ZOrder		  3
	  SrcBlock		  "Receive"
	  SrcPort		  2
	  DstBlock		  "rcvd"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "Receive Controller Commands"
      SID		      "1785"
      Ports		      [1, 2]
      Position		      [140, 637, 235, 673]
      ZOrder		      -6
      RequestExecContextInheritance off
      System {
	Name			"Receive Controller Commands"
	Location		[16, 260, 1038, 894]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
	TiledPageScale		1
	ShowPageBoundaries	off
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "t"
	  SID			  "1786"
	  Position		  [415, 158, 445, 172]
	  ZOrder		  -1
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  Reference
	  Name			  "Detect Rise\nPositive"
	  SID			  "1787"
	  Ports			  [1, 1]
	  Position		  [150, 244, 210, 286]
	  ZOrder		  -2
	  LibraryVersion	  "1.256"
	  SourceBlock		  "simulink/Logic and Bit\nOperations/Detect Rise\nPositive"
	  SourceType		  "Detect Rise Positive"
	  vinit			  "0"
	  InputProcessing	  "Inherited"
	  OutDataTypeStr	  "uint8"
	}
	Block {
	  BlockType		  Reference
	  Name			  "DocBlock"
	  SID			  "1788"
	  Ports			  []
	  Position		  [97, 66, 191, 131]
	  ZOrder		  -3
	  ShowName		  off
	  LibraryVersion	  "1.256"
	  UserDataPersistent	  on
	  UserData		  "DataTag11"
	  SourceBlock		  "simulink/Model-Wide\nUtilities/DocBlock"
	  SourceType		  "DocBlock"
	  DocumentType		  "Text"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Embedded\nMATLAB Function"
	  SID			  "1789"
	  Ports			  [3, 2]
	  Position		  [515, 138, 670, 292]
	  ZOrder		  -4
	  LibraryVersion	  "1.31"
	  ErrorFcn		  "Stateflow.Translate.translate"
	  PermitHierarchicalResolution "ExplicitOnly"
	  TreatAsAtomicUnit	  on
	  RequestExecContextInheritance	off
	  SFBlockType		  "MATLAB Function"
	  System {
	    Name		    "Embedded\nMATLAB Function"
	    Location		    [227, 345, 838, 789]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    SIDHighWatermark	    "666"
	    Block {
	      BlockType		      Inport
	      Name		      "t"
	      SID		      "1789::658"
	      Position		      [20, 101, 40, 119]
	      ZOrder		      -1
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "data"
	      SID		      "1789::667"
	      Position		      [20, 136, 40, 154]
	      ZOrder		      -2
	      Port		      "2"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "rcvd"
	      SID		      "1789::668"
	      Position		      [20, 171, 40, 189]
	      ZOrder		      -3
	      Port		      "3"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Demux
	      Name		      " Demux "
	      SID		      "1789::665"
	      Ports		      [1, 1]
	      Position		      [270, 230, 320, 270]
	      ZOrder		      2
	      Outputs		      "1"
	    }
	    Block {
	      BlockType		      S-Function
	      Name		      " SFunction "
	      SID		      "1789::664"
	      Tag		      "Stateflow S-Function wamjc7 10"
	      Ports		      [3, 3]
	      Position		      [180, 100, 230, 180]
	      ZOrder		      1
	      FunctionName	      "sf_sfun"
	      PortCounts	      "[3 3]"
	      EnableBusSupport	      off
	      Port {
		PortNumber		2
		Name			"FTSIGNAL"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	      }
	      Port {
		PortNumber		3
		Name			"TAUSIGNAL"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	      }
	    }
	    Block {
	      BlockType		      Terminator
	      Name		      " Terminator "
	      SID		      "1789::666"
	      Position		      [460, 241, 480, 259]
	      ZOrder		      3
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "FTSIGNAL"
	      SID		      "1789::669"
	      Position		      [460, 101, 480, 119]
	      ZOrder		      -7
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "TAUSIGNAL"
	      SID		      "1789::659"
	      Position		      [460, 136, 480, 154]
	      ZOrder		      -8
	      Port		      "2"
	      IconDisplay	      "Port number"
	    }
	    Line {
	      ZOrder		      8
	      SrcBlock		      "t"
	      SrcPort		      1
	      DstBlock		      " SFunction "
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      9
	      SrcBlock		      "data"
	      SrcPort		      1
	      DstBlock		      " SFunction "
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      10
	      SrcBlock		      "rcvd"
	      SrcPort		      1
	      DstBlock		      " SFunction "
	      DstPort		      3
	    }
	    Line {
	      Name		      "FTSIGNAL"
	      ZOrder		      11
	      Labels		      [0, 0]
	      SrcBlock		      " SFunction "
	      SrcPort		      2
	      DstBlock		      "FTSIGNAL"
	      DstPort		      1
	    }
	    Line {
	      Name		      "TAUSIGNAL"
	      ZOrder		      12
	      Labels		      [0, 0]
	      SrcBlock		      " SFunction "
	      SrcPort		      3
	      DstBlock		      "TAUSIGNAL"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      13
	      SrcBlock		      " Demux "
	      SrcPort		      1
	      DstBlock		      " Terminator "
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      14
	      SrcBlock		      " SFunction "
	      SrcPort		      1
	      DstBlock		      " Demux "
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  Reference
	  Name			  "Receive"
	  SID			  "1790"
	  Ports			  [0, 2]
	  Position		  [40, 205, 120, 285]
	  ZOrder		  -5
	  ShowName		  off
	  LibraryVersion	  "1.1706"
	  SourceBlock		  "xpclib/UDP/Receive"
	  SourceType		  "xpcudpbytereceive"
	  ipAddress		  "192.168.1.11"
	  ipPort		  "6666"
	  width			  "9"
	  vblLen		  off
	  sampletime		  "sample_time"
	}
	Block {
	  BlockType		  Reference
	  Name			  "Unpack"
	  SID			  "1791"
	  Ports			  [1, 1]
	  Position		  [280, 200, 365, 230]
	  ZOrder		  -6
	  ShowName		  off
	  LibraryVersion	  "1.1706"
	  SourceBlock		  "xpclib/UDP/Unpack"
	  SourceType		  "xpcbyte2any"
	  dimensions		  "{[9,1]}"
	  datatypes		  "{'uint8'}"
	  byteAlign		  "1"
	}
	Block {
	  BlockType		  Outport
	  Name			  "FTSIGNAL"
	  SID			  "1792"
	  Position		  [850, 173, 880, 187]
	  ZOrder		  -7
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  Outport
	  Name			  "TAUSIGNAL"
	  SID			  "1793"
	  Position		  [850, 248, 880, 262]
	  ZOrder		  -8
	  Port			  "2"
	  IconDisplay		  "Port number"
	}
	Line {
	  ZOrder		  1
	  SrcBlock		  "Receive"
	  SrcPort		  1
	  Points		  [140, 0]
	  DstBlock		  "Unpack"
	  DstPort		  1
	}
	Line {
	  ZOrder		  2
	  SrcBlock		  "Receive"
	  SrcPort		  2
	  DstBlock		  "Detect Rise\nPositive"
	  DstPort		  1
	}
	Line {
	  ZOrder		  3
	  SrcBlock		  "Detect Rise\nPositive"
	  SrcPort		  1
	  DstBlock		  "Embedded\nMATLAB Function"
	  DstPort		  3
	}
	Line {
	  ZOrder		  4
	  SrcBlock		  "Unpack"
	  SrcPort		  1
	  DstBlock		  "Embedded\nMATLAB Function"
	  DstPort		  2
	}
	Line {
	  ZOrder		  5
	  SrcBlock		  "t"
	  SrcPort		  1
	  DstBlock		  "Embedded\nMATLAB Function"
	  DstPort		  1
	}
	Line {
	  ZOrder		  6
	  SrcBlock		  "Embedded\nMATLAB Function"
	  SrcPort		  1
	  DstBlock		  "FTSIGNAL"
	  DstPort		  1
	}
	Line {
	  ZOrder		  7
	  SrcBlock		  "Embedded\nMATLAB Function"
	  SrcPort		  2
	  DstBlock		  "TAUSIGNAL"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      Reference
      Name		      "Receive WSG Commands from MATLAB"
      SID		      "805"
      Ports		      [0, 2]
      Position		      [110, 157, 190, 208]
      ZOrder		      -7
      LibraryVersion	      "1.1706"
      SourceBlock	      "xpclib/UDP/Receive"
      SourceType	      "xpcudpbytereceive"
      ipAddress		      "192.168.1.11"
      ipPort		      "1500"
      width		      "266"
      vblLen		      on
      sampletime	      "sample_time"
    }
    Block {
      BlockType		      SubSystem
      Name		      "Send Feedback UDP"
      SID		      "546"
      Ports		      [9, 0, 1]
      Position		      [860, 240, 965, 420]
      ZOrder		      -8
      RequestExecContextInheritance off
      System {
	Name			"Send Feedback UDP"
	Location		[151, 60, 1451, 1104]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
	TiledPageScale		1
	ShowPageBoundaries	off
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "wdes"
	  SID			  "547"
	  Position		  [15, 123, 45, 137]
	  ZOrder		  -1
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  Inport
	  Name			  "wddes"
	  SID			  "548"
	  Position		  [50, 138, 80, 152]
	  ZOrder		  -2
	  Port			  "2"
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  Inport
	  Name			  "Contact"
	  SID			  "851"
	  Position		  [295, 243, 325, 257]
	  ZOrder		  -3
	  Port			  "3"
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  Inport
	  Name			  "qdes"
	  SID			  "549"
	  Position		  [85, 153, 115, 167]
	  ZOrder		  -4
	  Port			  "4"
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  Inport
	  Name			  "qddes"
	  SID			  "550"
	  Position		  [120, 168, 150, 182]
	  ZOrder		  -5
	  Port			  "5"
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  Inport
	  Name			  "q"
	  SID			  "551"
	  Position		  [155, 183, 185, 197]
	  ZOrder		  -6
	  Port			  "6"
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  Inport
	  Name			  "qd"
	  SID			  "552"
	  Position		  [190, 198, 220, 212]
	  ZOrder		  -7
	  Port			  "7"
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  Inport
	  Name			  "FT"
	  SID			  "553"
	  Position		  [225, 213, 255, 227]
	  ZOrder		  -8
	  Port			  "8"
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  Inport
	  Name			  "tau"
	  SID			  "554"
	  Position		  [255, 228, 285, 242]
	  ZOrder		  -9
	  Port			  "9"
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  EnablePort
	  Name			  "Enable"
	  SID			  "555"
	  Ports			  []
	  Position		  [560, 40, 580, 60]
	  ZOrder		  -10
	  PropagateVarSize	  "During execution"
	}
	Block {
	  BlockType		  Sum
	  Name			  "Add"
	  SID			  "556"
	  Ports			  [2, 1]
	  Position		  [255, 32, 285, 63]
	  ZOrder		  -11
	  InputSameDT		  off
	  OutDataTypeStr	  "uint32"
	  SaturateOnIntegerOverflow off
	}
	Block {
	  BlockType		  Constant
	  Name			  "Incrementer"
	  SID			  "557"
	  Position		  [100, 25, 130, 55]
	  ZOrder		  -12
	  OutDataTypeStr	  "uint32"
	}
	Block {
	  BlockType		  Reference
	  Name			  "Pack"
	  SID			  "558"
	  Ports			  [10, 1]
	  Position		  [395, 109, 480, 256]
	  ZOrder		  -13
	  LibraryVersion	  "1.1706"
	  SourceBlock		  "xpclib/UDP/Pack"
	  SourceType		  "xpcany2byte"
	  datatypes		  "{'uint32','double','double','double','double','double','double','double','double','double'}"
	  byteAlign		  "1"
	}
	Block {
	  BlockType		  Reference
	  Name			  "Send"
	  SID			  "559"
	  Ports			  [1]
	  Position		  [530, 160, 610, 210]
	  ZOrder		  -14
	  LibraryVersion	  "1.1706"
	  SourceBlock		  "xpclib/UDP/Send"
	  SourceType		  "xpcudpbytesend"
	  ipAddress		  "192.168.1.11"
	  ipPort		  "3333"
	  localPort		  "-1"
	  vblLen		  off
	  sampletime		  "sample_time"
	}
	Block {
	  BlockType		  UnitDelay
	  Name			  "Unit Delay"
	  SID			  "560"
	  Position		  [195, 68, 230, 102]
	  ZOrder		  -15
	  BlockMirror		  on
	  SampleTime		  "-1"
	}
	Line {
	  ZOrder		  1
	  SrcBlock		  "Pack"
	  SrcPort		  1
	  DstBlock		  "Send"
	  DstPort		  1
	}
	Line {
	  ZOrder		  2
	  SrcBlock		  "Incrementer"
	  SrcPort		  1
	  DstBlock		  "Add"
	  DstPort		  1
	}
	Line {
	  ZOrder		  3
	  SrcBlock		  "Unit Delay"
	  SrcPort		  1
	  Points		  [-10, 0; 0, -30]
	  DstBlock		  "Add"
	  DstPort		  2
	}
	Line {
	  ZOrder		  4
	  SrcBlock		  "Add"
	  SrcPort		  1
	  Points		  [15, 0; 0, 35]
	  Branch {
	    ZOrder		    5
	    Points		    [0, 30]
	    DstBlock		    "Pack"
	    DstPort		    1
	  }
	  Branch {
	    ZOrder		    6
	    DstBlock		    "Unit Delay"
	    DstPort		    1
	  }
	}
	Line {
	  ZOrder		  7
	  SrcBlock		  "qd"
	  SrcPort		  1
	  DstBlock		  "Pack"
	  DstPort		  7
	}
	Line {
	  ZOrder		  8
	  SrcBlock		  "q"
	  SrcPort		  1
	  DstBlock		  "Pack"
	  DstPort		  6
	}
	Line {
	  ZOrder		  9
	  SrcBlock		  "qddes"
	  SrcPort		  1
	  DstBlock		  "Pack"
	  DstPort		  5
	}
	Line {
	  ZOrder		  10
	  SrcBlock		  "qdes"
	  SrcPort		  1
	  DstBlock		  "Pack"
	  DstPort		  4
	}
	Line {
	  ZOrder		  11
	  SrcBlock		  "wddes"
	  SrcPort		  1
	  DstBlock		  "Pack"
	  DstPort		  3
	}
	Line {
	  ZOrder		  12
	  SrcBlock		  "wdes"
	  SrcPort		  1
	  DstBlock		  "Pack"
	  DstPort		  2
	}
	Line {
	  ZOrder		  13
	  SrcBlock		  "tau"
	  SrcPort		  1
	  DstBlock		  "Pack"
	  DstPort		  9
	}
	Line {
	  ZOrder		  14
	  SrcBlock		  "FT"
	  SrcPort		  1
	  DstBlock		  "Pack"
	  DstPort		  8
	}
	Line {
	  ZOrder		  15
	  SrcBlock		  "Contact"
	  SrcPort		  1
	  DstBlock		  "Pack"
	  DstPort		  10
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "Send To Gripper"
      SID		      "806"
      Ports		      [1, 0, 0, 1]
      Position		      [270, 160, 365, 180]
      ZOrder		      -9
      NamePlacement	      "alternate"
      LibraryVersion	      "1.216"
      TreatAsAtomicUnit	      on
      RequestExecContextInheritance off
      System {
	Name			"Send To Gripper"
	Location		[597, 439, 1151, 923]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
	TiledPageScale		1
	ShowPageBoundaries	off
	ZoomFactor		"100"
	Block {
	  BlockType		  Inport
	  Name			  "UDP"
	  SID			  "807"
	  Position		  [110, 103, 140, 117]
	  ZOrder		  -1
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  TriggerPort
	  Name			  "Trigger"
	  SID			  "808"
	  Ports			  []
	  Position		  [225, 20, 245, 40]
	  ZOrder		  -2
	  StatesWhenEnabling	  "held"
	}
	Block {
	  BlockType		  Reference
	  Name			  "Send to Gripper"
	  SID			  "809"
	  Ports			  [1]
	  Position		  [300, 85, 380, 135]
	  ZOrder		  -3
	  LibraryVersion	  "1.1706"
	  SourceBlock		  "xpclib/UDP/Send"
	  SourceType		  "xpcudpbytesend"
	  ipAddress		  "192.168.1.20"
	  ipPort		  "1500"
	  localPort		  "-1"
	  vblLen		  off
	  sampletime		  "-1"
	}
	Line {
	  ZOrder		  1
	  SrcBlock		  "UDP"
	  SrcPort		  1
	  DstBlock		  "Send to Gripper"
	  DstPort		  1
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "Send to Arm"
      SID		      "166"
      Ports		      [2]
      Position		      [735, 516, 835, 574]
      ZOrder		      -10
      RequestExecContextInheritance off
      System {
	Name			"Send to Arm"
	Location		[160, 20, 1460, 1064]
	Open			on
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
	TiledPageScale		1
	ShowPageBoundaries	off
	ZoomFactor		"125"
	Block {
	  BlockType		  Inport
	  Name			  "tau"
	  SID			  "167"
	  Position		  [110, 148, 140, 162]
	  ZOrder		  -1
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  Inport
	  Name			  "send_tau"
	  SID			  "168"
	  Position		  [110, 188, 140, 202]
	  ZOrder		  -2
	  Port			  "2"
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  Reference
	  Name			  "DocBlock"
	  SID			  "169"
	  Ports			  []
	  Position		  [57, 41, 151, 106]
	  ZOrder		  -3
	  ShowName		  off
	  LibraryVersion	  "1.287"
	  UserDataPersistent	  on
	  UserData		  "DataTag12"
	  SourceBlock		  "simulink/Model-Wide\nUtilities/DocBlock"
	  SourceType		  "DocBlock"
	  ContentPreviewEnabled	  off
	  DocumentType		  "Text"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Joint Torque to\nMotor Current"
	  SID			  "170"
	  Ports			  [1, 1]
	  Position		  [325, 169, 450, 221]
	  ZOrder		  -4
	  RequestExecContextInheritance	off
	  System {
	    Name		    "Joint Torque to\nMotor Current"
	    Location		    [160, 20, 1460, 1064]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "175"
	    Block {
	      BlockType		      Inport
	      Name		      "tauJ"
	      SID		      "171"
	      Position		      [110, 103, 140, 117]
	      ZOrder		      -1
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "DocBlock"
	      SID		      "172"
	      Ports		      []
	      Position		      [97, 196, 191, 261]
	      ZOrder		      -2
	      ShowName		      off
	      LibraryVersion	      "1.287"
	      UserDataPersistent      on
	      UserData		      "DataTag13"
	      SourceBlock	      "simulink/Model-Wide\nUtilities/DocBlock"
	      SourceType	      "DocBlock"
	      ContentPreviewEnabled   off
	      DocumentType	      "Text"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "J2M Torque Matrix"
	      SID		      "173"
	      Position		      [105, 35, 145, 55]
	      ZOrder		      -3
	      Value		      "arm_j2mt"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Matrix Multiply"
	      SID		      "174"
	      Ports		      [2, 1]
	      Position		      [210, 79, 265, 121]
	      ZOrder		      -4
	      Multiplication	      "Matrix(*)"
	      InputSameDT	      off
	      OutDataTypeStr	      "Inherit: Inherit via internal rule"
	      RndMeth		      "Floor"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product"
	      SID		      "175"
	      Ports		      [2, 1]
	      Position		      [360, 77, 390, 108]
	      ZOrder		      -5
	      InputSameDT	      off
	      OutDataTypeStr	      "Inherit: Inherit via internal rule"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "puckIperNm"
	      SID		      "176"
	      Position		      [285, 30, 315, 60]
	      ZOrder		      -6
	      Value		      "puck_I_per_Nm"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "iM"
	      SID		      "177"
	      Position		      [475, 88, 505, 102]
	      ZOrder		      -7
	      IconDisplay	      "Port number"
	    }
	    Line {
	      ZOrder		      1
	      SrcBlock		      "J2M Torque Matrix"
	      SrcPort		      1
	      Points		      [30, 0; 0, 45]
	      DstBlock		      "Matrix Multiply"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      2
	      SrcBlock		      "Matrix Multiply"
	      SrcPort		      1
	      DstBlock		      "Product"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      3
	      SrcBlock		      "puckIperNm"
	      SrcPort		      1
	      Points		      [15, 0; 0, 40]
	      DstBlock		      "Product"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      4
	      SrcBlock		      "Product"
	      SrcPort		      1
	      DstBlock		      "iM"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      5
	      SrcBlock		      "tauJ"
	      SrcPort		      1
	      DstBlock		      "Matrix Multiply"
	      DstPort		      2
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Pack and Send\nTorque Packets"
	  SID			  "178"
	  Ports			  [1]
	  Position		  [495, 165, 535, 225]
	  ZOrder		  -5
	  RequestExecContextInheritance	off
	  System {
	    Name		    "Pack and Send\nTorque Packets"
	    Location		    [160, 20, 1460, 1064]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "80"
	    Block {
	      BlockType		      Inport
	      Name		      "Current"
	      SID		      "179"
	      Position		      [50, 228, 80, 242]
	      ZOrder		      -1
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Bit Packing"
	      SID		      "180"
	      Ports		      [5, 1]
	      Position		      [335, 82, 470, 248]
	      ZOrder		      -2
	      LibraryVersion	      "1.4"
	      SourceBlock	      "xpcutilitieslib/Bit Packing "
	      SourceType	      "xpcbitpacking"
	      MaskBitPatterns	      "{[0:7] [18:23 8:15] [36:39 24:31 16:17] [54:55 40:47 32:35] [56:63 48:53]}"
	      MaskPackDataType	      "double"
	      MaskPackDataSize	      "[1]"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Bit Packing1"
	      SID		      "401"
	      Ports		      [5, 1]
	      Position		      [335, 274, 470, 446]
	      ZOrder		      -3
	      LibraryVersion	      "1.4"
	      SourceBlock	      "xpcutilitieslib/Bit Packing "
	      SourceType	      "xpcbitpacking"
	      MaskBitPatterns	      "{[0:7] [18:23 8:15] [36:39 24:31 16:17] [54:55 40:47 32:35] [56:63 48:53]}"
	      MaskPackDataType	      "double"
	      MaskPackDataSize	      "[1]"
	    }
	    Block {
	      BlockType		      DataTypeConversion
	      Name		      "Data Type Conversion1"
	      SID		      "181"
	      Position		      [160, 226, 190, 244]
	      ZOrder		      -4
	      ShowName		      off
	      OutMin		      "[-8191]"
	      OutMax		      "[8191]"
	      OutDataTypeStr	      "int16"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux2"
	      SID		      "182"
	      Ports		      [1, 7]
	      Position		      [250, 110, 260, 360]
	      ZOrder		      -5
	      ShowName		      off
	      Outputs		      "7"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "DocBlock"
	      SID		      "183"
	      Ports		      []
	      Position		      [97, 361, 191, 426]
	      ZOrder		      -6
	      ShowName		      off
	      LibraryVersion	      "1.287"
	      UserDataPersistent      on
	      UserData		      "DataTag14"
	      SourceBlock	      "simulink/Model-Wide\nUtilities/DocBlock"
	      SourceType	      "DocBlock"
	      ContentPreviewEnabled   off
	      DocumentType	      "Text"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Send to Lower Arm"
	      SID		      "184"
	      Ports		      [1]
	      Position		      [585, 137, 695, 193]
	      ZOrder		      -7
	      LibraryVersion	      "1.1706"
	      SourceBlock	      "xpclib/CAN/Softing/CAN-AC2-PCI\nSJA 1000/Send "
	      SourceType	      "canac2pcisend"
	      board		      "1"
	      canPort		      "CAN 1"
	      range		      "Standard (11-bit)"
	      ids		      "bin2dec('10000000001')"
	      sizes		      "[8]"
	      output		      off
	      ts		      "sample_time"
	      ididx		      "[3]"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Send to Upper Arm"
	      SID		      "402"
	      Ports		      [1]
	      Position		      [585, 332, 695, 388]
	      ZOrder		      -8
	      LibraryVersion	      "1.1706"
	      SourceBlock	      "xpclib/CAN/Softing/CAN-AC2-PCI\nSJA 1000/Send "
	      SourceType	      "canac2pcisend"
	      board		      "1"
	      canPort		      "CAN 1"
	      range		      "Standard (11-bit)"
	      ids		      "bin2dec('10000000010')"
	      sizes		      "[8]"
	      output		      off
	      ts		      "sample_time"
	      ididx		      "[4]"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Set Torques "
	      SID		      "185"
	      Position		      [195, 49, 235, 71]
	      ZOrder		      -9
	      Value		      "[170]"
	      OutDataTypeStr	      "uint8"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Zero"
	      SID		      "403"
	      Position		      [250, 415, 280, 445]
	      ZOrder		      -10
	      Value		      "0"
	      OutDataTypeStr	      "int16"
	    }
	    Line {
	      ZOrder		      1
	      SrcBlock		      "Set Torques "
	      SrcPort		      1
	      Points		      [70, 0; 0, 35]
	      Branch {
		ZOrder			2
		DstBlock		"Bit Packing"
		DstPort			1
	      }
	      Branch {
		ZOrder			3
		Points			[0, 195]
		DstBlock		"Bit Packing1"
		DstPort			1
	      }
	    }
	    Line {
	      ZOrder		      4
	      SrcBlock		      "Bit Packing"
	      SrcPort		      1
	      DstBlock		      "Send to Lower Arm"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      5
	      SrcBlock		      "Demux2"
	      SrcPort		      1
	      DstBlock		      "Bit Packing"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      6
	      SrcBlock		      "Demux2"
	      SrcPort		      2
	      DstBlock		      "Bit Packing"
	      DstPort		      3
	    }
	    Line {
	      ZOrder		      7
	      SrcBlock		      "Demux2"
	      SrcPort		      3
	      DstBlock		      "Bit Packing"
	      DstPort		      4
	    }
	    Line {
	      ZOrder		      8
	      SrcBlock		      "Demux2"
	      SrcPort		      4
	      DstBlock		      "Bit Packing"
	      DstPort		      5
	    }
	    Line {
	      ZOrder		      9
	      SrcBlock		      "Current"
	      SrcPort		      1
	      DstBlock		      "Data Type Conversion1"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      10
	      SrcBlock		      "Data Type Conversion1"
	      SrcPort		      1
	      DstBlock		      "Demux2"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      11
	      SrcBlock		      "Bit Packing1"
	      SrcPort		      1
	      DstBlock		      "Send to Upper Arm"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      12
	      SrcBlock		      "Demux2"
	      SrcPort		      5
	      Points		      [25, 0; 0, 55]
	      DstBlock		      "Bit Packing1"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      13
	      SrcBlock		      "Demux2"
	      SrcPort		      6
	      Points		      [15, 0; 0, 55]
	      DstBlock		      "Bit Packing1"
	      DstPort		      3
	    }
	    Line {
	      ZOrder		      14
	      SrcBlock		      "Demux2"
	      SrcPort		      7
	      Points		      [5, 0; 0, 55]
	      DstBlock		      "Bit Packing1"
	      DstPort		      4
	    }
	    Line {
	      ZOrder		      15
	      SrcBlock		      "Zero"
	      SrcPort		      1
	      DstBlock		      "Bit Packing1"
	      DstPort		      5
	    }
	  }
	}
	Block {
	  BlockType		  Switch
	  Name			  "Switch"
	  SID			  "186"
	  Position		  [250, 180, 280, 210]
	  ZOrder		  -6
	  Criteria		  "u2 ~= 0"
	  Threshold		  "2"
	  InputSameDT		  off
	  SaturateOnIntegerOverflow off
	}
	Block {
	  BlockType		  Constant
	  Name			  "Zero Torques"
	  SID			  "187"
	  Position		  [80, 224, 165, 246]
	  ZOrder		  -7
	  Value			  "[ 0 0 0 0 0 0 0]'"
	  OutDataTypeStr	  "double"
	}
	Line {
	  ZOrder		  1
	  SrcBlock		  "Joint Torque to\nMotor Current"
	  SrcPort		  1
	  DstBlock		  "Pack and Send\nTorque Packets"
	  DstPort		  1
	}
	Line {
	  ZOrder		  2
	  SrcBlock		  "tau"
	  SrcPort		  1
	  Points		  [40, 0; 0, 30]
	  DstBlock		  "Switch"
	  DstPort		  1
	}
	Line {
	  ZOrder		  3
	  SrcBlock		  "Zero Torques"
	  SrcPort		  1
	  Points		  [15, 0; 0, -30]
	  DstBlock		  "Switch"
	  DstPort		  3
	}
	Line {
	  ZOrder		  4
	  SrcBlock		  "Switch"
	  SrcPort		  1
	  DstBlock		  "Joint Torque to\nMotor Current"
	  DstPort		  1
	}
	Line {
	  ZOrder		  5
	  SrcBlock		  "send_tau"
	  SrcPort		  1
	  DstBlock		  "Switch"
	  DstPort		  2
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "Subsystem"
      SID		      "1188"
      Ports		      [8, 8]
      Position		      [390, 233, 470, 407]
      ZOrder		      -11
      RequestExecContextInheritance off
      System {
	Name			"Subsystem"
	Location		[16, 52, 1316, 1096]
	Open			off
	ModelBrowserVisibility	off
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
	TiledPageScale		1
	ShowPageBoundaries	off
	ZoomFactor		"60"
	Block {
	  BlockType		  Inport
	  Name			  "udp"
	  SID			  "1189"
	  Position		  [175, 73, 205, 87]
	  ZOrder		  -1
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  Inport
	  Name			  "udp_rcvd"
	  SID			  "1190"
	  Position		  [210, 93, 240, 107]
	  ZOrder		  -2
	  Port			  "2"
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  Inport
	  Name			  "t"
	  SID			  "1191"
	  Position		  [40, 173, 70, 187]
	  ZOrder		  -3
	  Port			  "3"
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  Inport
	  Name			  "q"
	  SID			  "1193"
	  Position		  [95, 193, 125, 207]
	  ZOrder		  -4
	  Port			  "4"
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  Inport
	  Name			  "qd"
	  SID			  "1194"
	  Position		  [150, 308, 180, 322]
	  ZOrder		  -5
	  Port			  "5"
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  Inport
	  Name			  "FT"
	  SID			  "1192"
	  Position		  [150, 213, 180, 227]
	  ZOrder		  -6
	  Port			  "6"
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  Inport
	  Name			  "wam_on"
	  SID			  "1195"
	  Position		  [190, 233, 220, 247]
	  ZOrder		  -7
	  Port			  "7"
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  Inport
	  Name			  "TAUSIGNAL"
	  SID			  "1794"
	  Position		  [615, 283, 645, 297]
	  ZOrder		  -8
	  Port			  "8"
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Compute Arm Torque"
	  SID			  "1196"
	  Ports			  [7, 2]
	  Position		  [740, 174, 840, 276]
	  ZOrder		  -9
	  RequestExecContextInheritance	off
	  System {
	    Name		    "Compute Arm Torque"
	    Location		    [375, 90, 1367, 1063]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "qdes"
	      SID		      "1197"
	      Position		      [230, 178, 260, 192]
	      ZOrder		      -1
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "qddes"
	      SID		      "1198"
	      Position		      [230, 223, 260, 237]
	      ZOrder		      -2
	      Port		      "2"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "qdddes"
	      SID		      "1199"
	      Position		      [335, 118, 365, 132]
	      ZOrder		      -3
	      Port		      "3"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "wam_on"
	      SID		      "1202"
	      Position		      [230, 143, 260, 157]
	      ZOrder		      -4
	      Port		      "4"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "q"
	      SID		      "1200"
	      Position		      [115, 253, 145, 267]
	      ZOrder		      -5
	      Port		      "5"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "qd"
	      SID		      "1201"
	      Position		      [250, 268, 280, 282]
	      ZOrder		      -6
	      Port		      "6"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "TAUSIGNAL"
	      SID		      "1797"
	      Position		      [335, 283, 365, 297]
	      ZOrder		      -7
	      Port		      "7"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Add"
	      SID		      "1203"
	      Ports		      [2, 1]
	      Position		      [740, 177, 770, 208]
	      ZOrder		      -8
	      InputSameDT	      off
	      OutDataTypeStr	      "Inherit: Inherit via internal rule"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Compute Tool\nConfiguration"
	      SID		      "1204"
	      Ports		      [2, 1]
	      Position		      [230, 453, 345, 502]
	      ZOrder		      -9
	      ErrorFcn		      "Stateflow.Translate.translate"
	      PermitHierarchicalResolution "ExplicitOnly"
	      TreatAsAtomicUnit	      on
	      RequestExecContextInheritance off
	      SFBlockType	      "MATLAB Function"
	      System {
		Name			"Compute Tool\nConfiguration"
		Location		[227, 345, 838, 789]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SIDHighWatermark	"1215"
		Block {
		  BlockType		  Inport
		  Name			  "q"
		  SID			  "1204::1204"
		  Position		  [20, 101, 40, 119]
		  ZOrder		  -1
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "hand_on"
		  SID			  "1204::1216"
		  Position		  [20, 136, 40, 154]
		  ZOrder		  -2
		  Port			  "2"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Demux
		  Name			  " Demux "
		  SID			  "1204::1214"
		  Ports			  [1, 1]
		  Position		  [270, 230, 320, 270]
		  ZOrder		  2
		  Outputs		  "1"
		}
		Block {
		  BlockType		  S-Function
		  Name			  " SFunction "
		  SID			  "1204::1213"
		  Tag			  "Stateflow S-Function wamjc7 3"
		  Ports			  [2, 2]
		  Position		  [180, 100, 230, 160]
		  ZOrder		  1
		  FunctionName		  "sf_sfun"
		  PortCounts		  "[2 2]"
		  EnableBusSupport	  off
		  Port {
		    PortNumber		    2
		    Name		    "w"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Terminator
		  Name			  " Terminator "
		  SID			  "1204::1215"
		  Position		  [460, 241, 480, 259]
		  ZOrder		  3
		}
		Block {
		  BlockType		  Outport
		  Name			  "w"
		  SID			  "1204::1217"
		  Position		  [460, 101, 480, 119]
		  ZOrder		  -6
		  IconDisplay		  "Port number"
		}
		Line {
		  ZOrder		  6
		  SrcBlock		  "q"
		  SrcPort		  1
		  Points		  [120, 0]
		  DstBlock		  " SFunction "
		  DstPort		  1
		}
		Line {
		  ZOrder		  7
		  SrcBlock		  "hand_on"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  2
		}
		Line {
		  Name			  "w"
		  ZOrder		  8
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  2
		  DstBlock		  "w"
		  DstPort		  1
		}
		Line {
		  ZOrder		  9
		  SrcBlock		  " Demux "
		  SrcPort		  1
		  DstBlock		  " Terminator "
		  DstPort		  1
		}
		Line {
		  ZOrder		  10
		  SrcBlock		  " SFunction "
		  SrcPort		  1
		  DstBlock		  " Demux "
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant1"
	      SID		      "1205"
	      Position		      [290, 71, 345, 89]
	      ZOrder		      -10
	      ShowName		      off
	      Value		      "hand_on"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant2"
	      SID		      "1206"
	      Position		      [75, 477, 165, 503]
	      ZOrder		      -11
	      ShowName		      off
	      Value		      "hand_on"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "DocBlock"
	      SID		      "1207"
	      Ports		      []
	      Position		      [52, 41, 146, 106]
	      ZOrder		      -12
	      ShowName		      off
	      LibraryVersion	      "1.256"
	      UserDataPersistent      on
	      UserData		      "DataTag15"
	      SourceBlock	      "simulink/Model-Wide\nUtilities/DocBlock"
	      SourceType	      "DocBlock"
	      DocumentType	      "Text"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Dynamics Compensation"
	      SID		      "1208"
	      Ports		      [4, 2]
	      Position		      [400, 70, 545, 135]
	      ZOrder		      -13
	      LibraryVersion	      "1.31"
	      ErrorFcn		      "Stateflow.Translate.translate"
	      PermitHierarchicalResolution "ExplicitOnly"
	      TreatAsAtomicUnit	      on
	      RequestExecContextInheritance off
	      SFBlockType	      "MATLAB Function"
	      System {
		Name			"Dynamics Compensation"
		Location		[227, 345, 838, 789]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SIDHighWatermark	"1219"
		Block {
		  BlockType		  Inport
		  Name			  "hand_on"
		  SID			  "1208::1208"
		  Position		  [20, 101, 40, 119]
		  ZOrder		  -1
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "q"
		  SID			  "1208::1220"
		  Position		  [20, 136, 40, 154]
		  ZOrder		  -2
		  Port			  "2"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "qd"
		  SID			  "1208::1221"
		  Position		  [20, 171, 40, 189]
		  ZOrder		  -3
		  Port			  "3"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "qdd"
		  SID			  "1208::1222"
		  Position		  [20, 206, 40, 224]
		  ZOrder		  -4
		  Port			  "4"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Demux
		  Name			  " Demux "
		  SID			  "1208::1218"
		  Ports			  [1, 1]
		  Position		  [270, 230, 320, 270]
		  ZOrder		  2
		  Outputs		  "1"
		}
		Block {
		  BlockType		  S-Function
		  Name			  " SFunction "
		  SID			  "1208::1217"
		  Tag			  "Stateflow S-Function wamjc7 1"
		  Ports			  [4, 3]
		  Position		  [180, 102, 230, 203]
		  ZOrder		  1
		  FunctionName		  "sf_sfun"
		  PortCounts		  "[4 3]"
		  EnableBusSupport	  off
		  Port {
		    PortNumber		    2
		    Name		    "tau"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    3
		    Name		    "FTsensor"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Terminator
		  Name			  " Terminator "
		  SID			  "1208::1219"
		  Position		  [460, 241, 480, 259]
		  ZOrder		  3
		}
		Block {
		  BlockType		  Outport
		  Name			  "tau"
		  SID			  "1208::1223"
		  Position		  [460, 101, 480, 119]
		  ZOrder		  -8
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "FTsensor"
		  SID			  "1208::1224"
		  Position		  [460, 136, 480, 154]
		  ZOrder		  -9
		  Port			  "2"
		  IconDisplay		  "Port number"
		}
		Line {
		  ZOrder		  9
		  SrcBlock		  "hand_on"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  1
		}
		Line {
		  ZOrder		  10
		  SrcBlock		  "q"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  2
		}
		Line {
		  ZOrder		  11
		  SrcBlock		  "qd"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  3
		}
		Line {
		  ZOrder		  12
		  SrcBlock		  "qdd"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  4
		}
		Line {
		  Name			  "tau"
		  ZOrder		  13
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  2
		  DstBlock		  "tau"
		  DstPort		  1
		}
		Line {
		  Name			  "FTsensor"
		  ZOrder		  14
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  3
		  DstBlock		  "FTsensor"
		  DstPort		  1
		}
		Line {
		  ZOrder		  15
		  SrcBlock		  " Demux "
		  SrcPort		  1
		  DstBlock		  " Terminator "
		  DstPort		  1
		}
		Line {
		  ZOrder		  16
		  SrcBlock		  " SFunction "
		  SrcPort		  1
		  Points		  [20, 0]
		  DstBlock		  " Demux "
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "PID Control"
	      SID		      "1209"
	      Ports		      [6, 1]
	      Position		      [430, 206, 520, 299]
	      ZOrder		      -14
	      RequestExecContextInheritance off
	      System {
		Name			"PID Control"
		Location		[378, 347, 1413, 1055]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "integrate"
		  SID			  "1210"
		  Position		  [185, 233, 215, 247]
		  ZOrder		  -1
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "qdes"
		  SID			  "1211"
		  Position		  [220, 108, 250, 122]
		  ZOrder		  -2
		  Port			  "2"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "qddes"
		  SID			  "1212"
		  Position		  [220, 273, 250, 287]
		  ZOrder		  -3
		  Port			  "3"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "q"
		  SID			  "1213"
		  Position		  [220, 153, 250, 167]
		  ZOrder		  -4
		  Port			  "4"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "qd"
		  SID			  "1214"
		  Position		  [220, 313, 250, 327]
		  ZOrder		  -5
		  Port			  "5"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "TAUSIGNAL"
		  SID			  "1798"
		  Position		  [125, 218, 155, 232]
		  ZOrder		  -6
		  Port			  "6"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Add"
		  SID			  "1215"
		  Ports			  [3, 1]
		  Position		  [745, 219, 775, 251]
		  ZOrder		  -7
		  ShowName		  off
		  Inputs		  "+++"
		  InputSameDT		  off
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Reference
		  Name			  "Compare\nTo Constant"
		  SID			  "1801"
		  Ports			  [1, 1]
		  Position		  [365, 220, 395, 250]
		  ZOrder		  -8
		  ShowName		  off
		  LibraryVersion	  "1.256"
		  SourceBlock		  "simulink/Logic and Bit\nOperations/Compare\nTo Constant"
		  SourceType		  "Compare To Constant"
		  relop			  ">="
		  const			  "2"
		  OutDataTypeStr	  "uint8"
		  ZeroCross		  on
		}
		Block {
		  BlockType		  Reference
		  Name			  "DocBlock"
		  SID			  "1216"
		  Ports			  []
		  Position		  [57, 21, 151, 86]
		  ZOrder		  -9
		  ShowName		  off
		  LibraryVersion	  "1.256"
		  UserDataPersistent	  on
		  UserData		  "DataTag16"
		  SourceBlock		  "simulink/Model-Wide\nUtilities/DocBlock"
		  SourceType		  "DocBlock"
		  DocumentType		  "Text"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator"
		  SID			  "1217"
		  Ports			  [1, 1]
		  Position		  [560, 219, 615, 251]
		  ZOrder		  -10
		  LimitOutput		  on
		  UpperSaturationLimit	  "0.01"
		  LowerSaturationLimit	  "-0.01"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Kd"
		  SID			  "1218"
		  Position		  [650, 300, 680, 330]
		  ZOrder		  -11
		  Gain			  "[10 20 10 2.5 .5 .5 .5]"
		  ParamDataTypeStr	  "Inherit: Inherit via internal rule"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Gain
		  Name			  "Ki"
		  SID			  "1219"
		  Position		  [650, 220, 680, 250]
		  ZOrder		  -12
		  Gain			  "[1250 2500 1250 250 5 10 30]"
		  ParamDataTypeStr	  "Inherit: Inherit via internal rule"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Gain
		  Name			  "Kp"
		  SID			  "1220"
		  Position		  [650, 140, 680, 170]
		  ZOrder		  -13
		  Gain			  "[900 2500 600 500 50 50 70]"
		  ParamDataTypeStr	  "Inherit: Inherit via internal rule"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Sum
		  Name			  "Subtract1"
		  SID			  "1221"
		  Ports			  [2, 1]
		  Position		  [280, 297, 310, 328]
		  ZOrder		  -14
		  ShowName		  off
		  Inputs		  "+-"
		  InputSameDT		  off
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Sum
		  Name			  "Subtract2"
		  SID			  "1222"
		  Ports			  [2, 1]
		  Position		  [280, 137, 310, 168]
		  ZOrder		  -15
		  ShowName		  off
		  Inputs		  "+-"
		  InputSameDT		  off
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Sum
		  Name			  "Subtract3"
		  SID			  "1802"
		  Ports			  [2, 1]
		  Position		  [280, 217, 310, 248]
		  ZOrder		  -16
		  ShowName		  off
		  InputSameDT		  off
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  SID			  "1223"
		  Position		  [490, 220, 520, 250]
		  ZOrder		  -17
		  ShowName		  off
		  Criteria		  "u2 ~= 0"
		  Threshold		  "2"
		  InputSameDT		  off
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Constant
		  Name			  "zeros"
		  SID			  "1224"
		  Position		  [335, 260, 430, 280]
		  ZOrder		  -18
		  Value			  "[0 0 0 0 0 0 0]"
		  OutDataTypeStr	  "double"
		}
		Block {
		  BlockType		  Outport
		  Name			  "tau"
		  SID			  "1225"
		  Position		  [840, 228, 870, 242]
		  ZOrder		  -19
		  IconDisplay		  "Port number"
		}
		Line {
		  ZOrder		  1
		  SrcBlock		  "Subtract2"
		  SrcPort		  1
		  Points		  [130, 0]
		  Branch {
		    ZOrder		    2
		    Points		    [0, 70]
		    DstBlock		    "Switch"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    3
		    DstBlock		    "Kp"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  4
		  SrcBlock		  "zeros"
		  SrcPort		  1
		  Points		  [10, 0; 0, -25]
		  DstBlock		  "Switch"
		  DstPort		  3
		}
		Line {
		  ZOrder		  5
		  SrcBlock		  "Add"
		  SrcPort		  1
		  DstBlock		  "tau"
		  DstPort		  1
		}
		Line {
		  ZOrder		  6
		  SrcBlock		  "qd"
		  SrcPort		  1
		  DstBlock		  "Subtract1"
		  DstPort		  2
		}
		Line {
		  ZOrder		  7
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  DstBlock		  "Integrator"
		  DstPort		  1
		}
		Line {
		  ZOrder		  8
		  SrcBlock		  "Kp"
		  SrcPort		  1
		  Points		  [20, 0; 0, 70]
		  DstBlock		  "Add"
		  DstPort		  1
		}
		Line {
		  ZOrder		  9
		  SrcBlock		  "Ki"
		  SrcPort		  1
		  DstBlock		  "Add"
		  DstPort		  2
		}
		Line {
		  ZOrder		  10
		  SrcBlock		  "Kd"
		  SrcPort		  1
		  Points		  [20, 0; 0, -70]
		  DstBlock		  "Add"
		  DstPort		  3
		}
		Line {
		  ZOrder		  11
		  SrcBlock		  "Subtract1"
		  SrcPort		  1
		  DstBlock		  "Kd"
		  DstPort		  1
		}
		Line {
		  ZOrder		  12
		  SrcBlock		  "Integrator"
		  SrcPort		  1
		  DstBlock		  "Ki"
		  DstPort		  1
		}
		Line {
		  ZOrder		  13
		  SrcBlock		  "q"
		  SrcPort		  1
		  DstBlock		  "Subtract2"
		  DstPort		  2
		}
		Line {
		  ZOrder		  14
		  SrcBlock		  "qdes"
		  SrcPort		  1
		  Points		  [5, 0; 0, 30]
		  DstBlock		  "Subtract2"
		  DstPort		  1
		}
		Line {
		  ZOrder		  15
		  SrcBlock		  "qddes"
		  SrcPort		  1
		  Points		  [5, 0; 0, 25]
		  DstBlock		  "Subtract1"
		  DstPort		  1
		}
		Line {
		  ZOrder		  16
		  SrcBlock		  "Subtract3"
		  SrcPort		  1
		  DstBlock		  "Compare\nTo Constant"
		  DstPort		  1
		}
		Line {
		  ZOrder		  17
		  SrcBlock		  "Compare\nTo Constant"
		  SrcPort		  1
		  DstBlock		  "Switch"
		  DstPort		  2
		}
		Line {
		  ZOrder		  18
		  SrcBlock		  "TAUSIGNAL"
		  SrcPort		  1
		  DstBlock		  "Subtract3"
		  DstPort		  1
		}
		Line {
		  ZOrder		  19
		  SrcBlock		  "integrate"
		  SrcPort		  1
		  DstBlock		  "Subtract3"
		  DstPort		  2
		}
	      }
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "q Scope"
	      SID		      "1227"
	      Ports		      [1]
	      Position		      [310, 338, 385, 382]
	      ZOrder		      -15
	      LibraryVersion	      "1.1706"
	      SourceBlock	      "xpclib/Misc./Scope (xPC) "
	      SourceType	      "xpcscopeblock"
	      scopeno		      "9"
	      scopetype		      "Target"
	      autostart		      on
	      viewmode		      "Numerical"
	      formatstr		      "['joint_1 %10.5f rad,joint_2 %10.5f rad,joint_3 %10.5f rad,joint_4 %10.5f rad,joint_5 %10.5f "
	      "rad,joint_6 %10.5f rad,joint_7 %10.5f rad']"
	      grid		      on
	      ylimits		      "[0,0]"
	      nosamples		      "1/(10*sample_time)"
	      noprepostsamples	      "0"
	      interleave	      "1"
	      triggermode	      "FreeRun"
	      triggersignal	      "1"
	      triggerlevel	      "0.0"
	      triggerslope	      "Either"
	      triggerscope	      "1"
	      triggersample	      "0"
	      filename		      "data.dat"
	      mode		      "Lazy"
	      writesize		      "512"
	      autorestart	      off
	      dynamicfilemode	      off
	      maxwritefilesize	      "512*1024^2"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "tau"
	      SID		      "1228"
	      Position		      [845, 188, 875, 202]
	      ZOrder		      -16
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "SensorExpFT"
	      SID		      "1229"
	      Position		      [590, 113, 620, 127]
	      ZOrder		      -17
	      Port		      "2"
	      IconDisplay	      "Port number"
	    }
	    Line {
	      ZOrder		      1
	      SrcBlock		      "qd"
	      SrcPort		      1
	      DstBlock		      "PID Control"
	      DstPort		      5
	    }
	    Line {
	      ZOrder		      2
	      SrcBlock		      "Add"
	      SrcPort		      1
	      DstBlock		      "tau"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      3
	      SrcBlock		      "q"
	      SrcPort		      1
	      Points		      [40, 0]
	      Branch {
		ZOrder			4
		Points			[100, 0]
		Branch {
		  ZOrder		  5
		  DstBlock		  "PID Control"
		  DstPort		  4
		}
		Branch {
		  ZOrder		  6
		  Points		  [0, -165]
		  DstBlock		  "Dynamics Compensation"
		  DstPort		  2
		}
	      }
	      Branch {
		ZOrder			7
		Points			[0, 100]
		Branch {
		  ZOrder		  8
		  Points		  [0, 105]
		  DstBlock		  "Compute Tool\nConfiguration"
		  DstPort		  1
		}
		Branch {
		  ZOrder		  9
		  DstBlock		  "q Scope"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      ZOrder		      10
	      SrcBlock		      "wam_on"
	      SrcPort		      1
	      Points		      [130, 0; 0, 65]
	      DstBlock		      "PID Control"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      11
	      SrcBlock		      "qddes"
	      SrcPort		      1
	      Points		      [0, 15; 60, 0]
	      Branch {
		ZOrder			12
		DstBlock		"PID Control"
		DstPort			3
	      }
	      Branch {
		ZOrder			13
		Points			[0, -135]
		DstBlock		"Dynamics Compensation"
		DstPort			3
	      }
	    }
	    Line {
	      ZOrder		      14
	      SrcBlock		      "qdes"
	      SrcPort		      1
	      Points		      [115, 0; 0, 45]
	      DstBlock		      "PID Control"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      15
	      SrcBlock		      "PID Control"
	      SrcPort		      1
	      Points		      [135, 0; 0, -55]
	      DstBlock		      "Add"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      16
	      SrcBlock		      "Constant2"
	      SrcPort		      1
	      DstBlock		      "Compute Tool\nConfiguration"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      17
	      SrcBlock		      "Dynamics Compensation"
	      SrcPort		      1
	      Points		      [110, 0; 0, 95]
	      DstBlock		      "Add"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      18
	      SrcBlock		      "Constant1"
	      SrcPort		      1
	      DstBlock		      "Dynamics Compensation"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      19
	      SrcBlock		      "qdddes"
	      SrcPort		      1
	      DstBlock		      "Dynamics Compensation"
	      DstPort		      4
	    }
	    Line {
	      ZOrder		      20
	      SrcBlock		      "Dynamics Compensation"
	      SrcPort		      2
	      DstBlock		      "SensorExpFT"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      21
	      SrcBlock		      "TAUSIGNAL"
	      SrcPort		      1
	      DstBlock		      "PID Control"
	      DstPort		      6
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Differentiate"
	  SID			  "1664"
	  Ports			  [2, 1]
	  Position		  [1530, 489, 1630, 531]
	  ZOrder		  -10
	  RequestExecContextInheritance	off
	  System {
	    Name		    "Differentiate"
	    Location		    [105, 412, 890, 963]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "tau"
	      SID		      "1665"
	      Position		      [240, 63, 270, 77]
	      ZOrder		      -1
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "t"
	      SID		      "1666"
	      Position		      [240, 133, 270, 147]
	      ZOrder		      -2
	      Port		      "2"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Divide"
	      SID		      "1667"
	      Ports		      [2, 1]
	      Position		      [485, 72, 515, 103]
	      ZOrder		      -3
	      Inputs		      "*/"
	      InputSameDT	      off
	      OutDataTypeStr	      "Inherit: Inherit via internal rule"
	      RndMeth		      "Floor"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Subtract"
	      SID		      "1668"
	      Ports		      [2, 1]
	      Position		      [410, 62, 440, 93]
	      ZOrder		      -4
	      ShowName		      off
	      Inputs		      "+-"
	      InputSameDT	      off
	      OutDataTypeStr	      "Inherit: Inherit via internal rule"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Subtract3"
	      SID		      "1669"
	      Ports		      [2, 1]
	      Position		      [410, 132, 440, 163]
	      ZOrder		      -5
	      ShowName		      off
	      Inputs		      "+-"
	      InputSameDT	      off
	      OutDataTypeStr	      "Inherit: Inherit via internal rule"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      UnitDelay
	      Name		      "Unit Delay"
	      SID		      "1670"
	      Position		      [330, 83, 365, 117]
	      ZOrder		      -6
	      ShowName		      off
	      SampleTime	      "-1"
	    }
	    Block {
	      BlockType		      UnitDelay
	      Name		      "Unit Delay1"
	      SID		      "1671"
	      Position		      [330, 153, 365, 187]
	      ZOrder		      -7
	      SampleTime	      "-1"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "taud"
	      SID		      "1672"
	      Position		      [595, 83, 625, 97]
	      ZOrder		      -8
	      IconDisplay	      "Port number"
	    }
	    Line {
	      ZOrder		      1
	      SrcBlock		      "tau"
	      SrcPort		      1
	      Points		      [30, 0]
	      Branch {
		ZOrder			2
		DstBlock		"Subtract"
		DstPort			1
	      }
	      Branch {
		ZOrder			3
		Points			[0, 30]
		DstBlock		"Unit Delay"
		DstPort			1
	      }
	    }
	    Line {
	      ZOrder		      4
	      SrcBlock		      "t"
	      SrcPort		      1
	      Points		      [30, 0]
	      Branch {
		ZOrder			5
		Points			[0, 30]
		DstBlock		"Unit Delay1"
		DstPort			1
	      }
	      Branch {
		ZOrder			6
		DstBlock		"Subtract3"
		DstPort			1
	      }
	    }
	    Line {
	      ZOrder		      7
	      SrcBlock		      "Unit Delay1"
	      SrcPort		      1
	      Points		      [10, 0; 0, -15]
	      DstBlock		      "Subtract3"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      8
	      SrcBlock		      "Unit Delay"
	      SrcPort		      1
	      Points		      [15, 0; 0, -15]
	      DstBlock		      "Subtract"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      9
	      SrcBlock		      "Subtract"
	      SrcPort		      1
	      DstBlock		      "Divide"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      10
	      SrcBlock		      "Divide"
	      SrcPort		      1
	      DstBlock		      "taud"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      11
	      SrcBlock		      "Subtract3"
	      SrcPort		      1
	      Points		      [10, 0; 0, -55]
	      DstBlock		      "Divide"
	      DstPort		      2
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Impedance Controller"
	  SID			  "1233"
	  Ports			  [7, 3]
	  Position		  [1170, 540, 1375, 660]
	  ZOrder		  -11
	  RequestExecContextInheritance	off
	  System {
	    Name		    "Impedance Controller"
	    Location		    [16, 52, 1316, 1096]
	    Open		    on
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "150"
	    Block {
	      BlockType		      Inport
	      Name		      "params"
	      SID		      "1234"
	      Position		      [195, 178, 225, 192]
	      ZOrder		      -1
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "t_start"
	      SID		      "1235"
	      Position		      [490, 388, 520, 402]
	      ZOrder		      -2
	      Port		      "2"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "xi"
	      SID		      "1662"
	      Position		      [455, 153, 485, 167]
	      ZOrder		      -3
	      Port		      "3"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "qi"
	      SID		      "1661"
	      Position		      [125, 268, 155, 282]
	      ZOrder		      -4
	      Port		      "4"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "q"
	      SID		      "1236"
	      Position		      [825, 198, 855, 212]
	      ZOrder		      -5
	      Port		      "5"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "qd"
	      SID		      "1237"
	      Position		      [875, 223, 905, 237]
	      ZOrder		      -6
	      Port		      "6"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "t"
	      SID		      "1238"
	      Position		      [490, 348, 520, 362]
	      ZOrder		      -7
	      Port		      "7"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "B"
	      SID		      "1240"
	      Position		      [1095, 272, 1135, 288]
	      ZOrder		      -8
	      Value		      "diag([1 1 1 1 1 1])"
	      VectorParams1D	      off
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Convert NaN to Zero"
	      SID		      "1242"
	      Ports		      [1, 1]
	      Position		      [935, 219, 995, 241]
	      ZOrder		      -9
	      LibraryVersion	      "1.31"
	      ErrorFcn		      "Stateflow.Translate.translate"
	      PermitHierarchicalResolution "ExplicitOnly"
	      TreatAsAtomicUnit	      on
	      RequestExecContextInheritance off
	      SFBlockType	      "MATLAB Function"
	      System {
		Name			"Convert NaN to Zero"
		Location		[227, 345, 838, 789]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SIDHighWatermark	"1253"
		Block {
		  BlockType		  Inport
		  Name			  "u"
		  SID			  "1242::1242"
		  Position		  [20, 101, 40, 119]
		  ZOrder		  -1
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Demux
		  Name			  " Demux "
		  SID			  "1242::1252"
		  Ports			  [1, 1]
		  Position		  [270, 230, 320, 270]
		  ZOrder		  2
		  Outputs		  "1"
		}
		Block {
		  BlockType		  S-Function
		  Name			  " SFunction "
		  SID			  "1242::1251"
		  Tag			  "Stateflow S-Function wamjc7 2"
		  Ports			  [1, 2]
		  Position		  [180, 100, 230, 160]
		  ZOrder		  1
		  FunctionName		  "sf_sfun"
		  PortCounts		  "[1 2]"
		  EnableBusSupport	  off
		  Port {
		    PortNumber		    2
		    Name		    "y"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Terminator
		  Name			  " Terminator "
		  SID			  "1242::1253"
		  Position		  [460, 241, 480, 259]
		  ZOrder		  3
		}
		Block {
		  BlockType		  Outport
		  Name			  "y"
		  SID			  "1242::1254"
		  Position		  [460, 101, 480, 119]
		  ZOrder		  -5
		  IconDisplay		  "Port number"
		}
		Line {
		  ZOrder		  5
		  SrcBlock		  "u"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  1
		}
		Line {
		  Name			  "y"
		  ZOrder		  6
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  2
		  DstBlock		  "y"
		  DstPort		  1
		}
		Line {
		  ZOrder		  7
		  SrcBlock		  " Demux "
		  SrcPort		  1
		  DstBlock		  " Terminator "
		  DstPort		  1
		}
		Line {
		  ZOrder		  8
		  SrcBlock		  " SFunction "
		  SrcPort		  1
		  DstBlock		  " Demux "
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Convert NaN to Zero1"
	      SID		      "1642"
	      Ports		      [1, 1]
	      Position		      [1610, 157, 1680, 203]
	      ZOrder		      -10
	      LibraryVersion	      "1.31"
	      ErrorFcn		      "Stateflow.Translate.translate"
	      PermitHierarchicalResolution "ExplicitOnly"
	      TreatAsAtomicUnit	      on
	      RequestExecContextInheritance off
	      SFBlockType	      "MATLAB Function"
	      System {
		Name			"Convert NaN to Zero1"
		Location		[227, 345, 838, 789]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SIDHighWatermark	"1649"
		SIDPrevWatermark	"13"
		Block {
		  BlockType		  Inport
		  Name			  "u"
		  SID			  "1642::1642"
		  Position		  [20, 101, 40, 119]
		  ZOrder		  -1
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Demux
		  Name			  " Demux "
		  SID			  "1642::1648"
		  Ports			  [1, 1]
		  Position		  [270, 230, 320, 270]
		  ZOrder		  2
		  Outputs		  "1"
		}
		Block {
		  BlockType		  S-Function
		  Name			  " SFunction "
		  SID			  "1642::1647"
		  Tag			  "Stateflow S-Function wamjc7 29"
		  Ports			  [1, 2]
		  Position		  [180, 100, 230, 160]
		  ZOrder		  1
		  FunctionName		  "sf_sfun"
		  PortCounts		  "[1 2]"
		  EnableBusSupport	  off
		  Port {
		    PortNumber		    2
		    Name		    "y"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Terminator
		  Name			  " Terminator "
		  SID			  "1642::1649"
		  Position		  [460, 241, 480, 259]
		  ZOrder		  3
		}
		Block {
		  BlockType		  Outport
		  Name			  "y"
		  SID			  "1642::1650"
		  Position		  [460, 101, 480, 119]
		  ZOrder		  -5
		  IconDisplay		  "Port number"
		}
		Line {
		  ZOrder		  5
		  SrcBlock		  "u"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  1
		}
		Line {
		  Name			  "y"
		  ZOrder		  6
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  2
		  DstBlock		  "y"
		  DstPort		  1
		}
		Line {
		  ZOrder		  7
		  SrcBlock		  " Demux "
		  SrcPort		  1
		  DstBlock		  " Terminator "
		  DstPort		  1
		}
		Line {
		  ZOrder		  8
		  SrcBlock		  " SFunction "
		  SrcPort		  1
		  DstBlock		  " Demux "
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Dynamics Compensation"
	      SID		      "1421"
	      Ports		      [4, 2]
	      Position		      [1145, 705, 1290, 770]
	      ZOrder		      -11
	      LibraryVersion	      "1.31"
	      ErrorFcn		      "Stateflow.Translate.translate"
	      PermitHierarchicalResolution "ExplicitOnly"
	      TreatAsAtomicUnit	      on
	      RequestExecContextInheritance off
	      SFBlockType	      "MATLAB Function"
	      System {
		Name			"Dynamics Compensation"
		Location		[227, 345, 838, 789]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SIDHighWatermark	"1428"
		SIDPrevWatermark	"21"
		Block {
		  BlockType		  Inport
		  Name			  "hand_on"
		  SID			  "1421::1421"
		  Position		  [20, 101, 40, 119]
		  ZOrder		  -1
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "q"
		  SID			  "1421::1429"
		  Position		  [20, 136, 40, 154]
		  ZOrder		  -2
		  Port			  "2"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "qd"
		  SID			  "1421::1430"
		  Position		  [20, 171, 40, 189]
		  ZOrder		  -3
		  Port			  "3"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "qdd"
		  SID			  "1421::1431"
		  Position		  [20, 206, 40, 224]
		  ZOrder		  -4
		  Port			  "4"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Demux
		  Name			  " Demux "
		  SID			  "1421::1427"
		  Ports			  [1, 1]
		  Position		  [270, 230, 320, 270]
		  ZOrder		  2
		  Outputs		  "1"
		}
		Block {
		  BlockType		  S-Function
		  Name			  " SFunction "
		  SID			  "1421::1426"
		  Tag			  "Stateflow S-Function wamjc7 19"
		  Ports			  [4, 3]
		  Position		  [180, 102, 230, 203]
		  ZOrder		  1
		  FunctionName		  "sf_sfun"
		  PortCounts		  "[4 3]"
		  EnableBusSupport	  off
		  Port {
		    PortNumber		    2
		    Name		    "tau"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    3
		    Name		    "FTsensor"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Terminator
		  Name			  " Terminator "
		  SID			  "1421::1428"
		  Position		  [460, 241, 480, 259]
		  ZOrder		  3
		}
		Block {
		  BlockType		  Outport
		  Name			  "tau"
		  SID			  "1421::1432"
		  Position		  [460, 101, 480, 119]
		  ZOrder		  -8
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "FTsensor"
		  SID			  "1421::1433"
		  Position		  [460, 136, 480, 154]
		  ZOrder		  -9
		  Port			  "2"
		  IconDisplay		  "Port number"
		}
		Line {
		  ZOrder		  9
		  SrcBlock		  "hand_on"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  1
		}
		Line {
		  ZOrder		  10
		  SrcBlock		  "q"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  2
		}
		Line {
		  ZOrder		  11
		  SrcBlock		  "qd"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  3
		}
		Line {
		  ZOrder		  12
		  SrcBlock		  "qdd"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  4
		}
		Line {
		  Name			  "tau"
		  ZOrder		  13
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  2
		  DstBlock		  "tau"
		  DstPort		  1
		}
		Line {
		  Name			  "FTsensor"
		  ZOrder		  14
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  3
		  DstBlock		  "FTsensor"
		  DstPort		  1
		}
		Line {
		  ZOrder		  15
		  SrcBlock		  " Demux "
		  SrcPort		  1
		  DstBlock		  " Terminator "
		  DstPort		  1
		}
		Line {
		  ZOrder		  16
		  SrcBlock		  " SFunction "
		  SrcPort		  1
		  Points		  [20, 0]
		  DstBlock		  " Demux "
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Impedance Torque Caclutation"
	      SID		      "1248"
	      Ports		      [14, 3]
	      Position		      [1415, 120, 1575, 465]
	      ZOrder		      -12
	      LibraryVersion	      "1.32"
	      ErrorFcn		      "Stateflow.Translate.translate"
	      PermitHierarchicalResolution "ExplicitOnly"
	      TreatAsAtomicUnit	      on
	      RequestExecContextInheritance off
	      SFBlockType	      "MATLAB Function"
	      System {
		Name			"Impedance Torque Caclutation"
		Location		[227, 345, 838, 789]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SIDHighWatermark	"1268"
		Block {
		  BlockType		  Inport
		  Name			  "x0"
		  SID			  "1248::1248"
		  Position		  [20, 101, 40, 119]
		  ZOrder		  -1
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "v0"
		  SID			  "1248::1269"
		  Position		  [20, 136, 40, 154]
		  ZOrder		  -2
		  Port			  "2"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "a0"
		  SID			  "1248::1270"
		  Position		  [20, 171, 40, 189]
		  ZOrder		  -3
		  Port			  "3"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "q"
		  SID			  "1248::1271"
		  Position		  [20, 206, 40, 224]
		  ZOrder		  -4
		  Port			  "4"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "qd"
		  SID			  "1248::1272"
		  Position		  [20, 246, 40, 264]
		  ZOrder		  -5
		  Port			  "5"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "K"
		  SID			  "1248::1273"
		  Position		  [20, 281, 40, 299]
		  ZOrder		  -6
		  Port			  "6"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "B"
		  SID			  "1248::1274"
		  Position		  [20, 316, 40, 334]
		  ZOrder		  -7
		  Port			  "7"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "Md"
		  SID			  "1248::1275"
		  Position		  [20, 351, 40, 369]
		  ZOrder		  -8
		  Port			  "8"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "M"
		  SID			  "1248::1276"
		  Position		  [20, 386, 40, 404]
		  ZOrder		  -9
		  Port			  "9"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "nonLinear"
		  SID			  "1248::1277"
		  Position		  [20, 426, 40, 444]
		  ZOrder		  -10
		  Port			  "10"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "poff"
		  SID			  "1248::1278"
		  Position		  [20, 461, 40, 479]
		  ZOrder		  -11
		  Port			  "11"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "Cons"
		  SID			  "1248::1279"
		  Position		  [20, 496, 40, 514]
		  ZOrder		  -12
		  Port			  "12"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "Fp"
		  SID			  "1248::1264"
		  Position		  [20, 531, 40, 549]
		  ZOrder		  -13
		  Port			  "13"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "R"
		  SID			  "1248::1265"
		  Position		  [20, 566, 40, 584]
		  ZOrder		  -14
		  Port			  "14"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Demux
		  Name			  " Demux "
		  SID			  "1248::1267"
		  Ports			  [1, 1]
		  Position		  [270, 245, 320, 285]
		  ZOrder		  2
		  Outputs		  "1"
		}
		Block {
		  BlockType		  S-Function
		  Name			  " SFunction "
		  SID			  "1248::1266"
		  Tag			  "Stateflow S-Function wamjc7 15"
		  Ports			  [14, 4]
		  Position		  [180, 90, 230, 390]
		  ZOrder		  1
		  FunctionName		  "sf_sfun"
		  PortCounts		  "[14 4]"
		  EnableBusSupport	  off
		  Port {
		    PortNumber		    2
		    Name		    "tauapp"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    3
		    Name		    "deltax"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    4
		    Name		    "Fe"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Terminator
		  Name			  " Terminator "
		  SID			  "1248::1268"
		  Position		  [460, 256, 480, 274]
		  ZOrder		  3
		}
		Block {
		  BlockType		  Outport
		  Name			  "tauapp"
		  SID			  "1248::1280"
		  Position		  [460, 101, 480, 119]
		  ZOrder		  -18
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "deltax"
		  SID			  "1248::1281"
		  Position		  [460, 136, 480, 154]
		  ZOrder		  -19
		  Port			  "2"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Fe"
		  SID			  "1248::1282"
		  Position		  [460, 171, 480, 189]
		  ZOrder		  -20
		  Port			  "3"
		  IconDisplay		  "Port number"
		}
		Line {
		  ZOrder		  20
		  SrcBlock		  "x0"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  1
		}
		Line {
		  ZOrder		  21
		  SrcBlock		  "v0"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  2
		}
		Line {
		  ZOrder		  22
		  SrcBlock		  "a0"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  3
		}
		Line {
		  ZOrder		  23
		  SrcBlock		  "q"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  4
		}
		Line {
		  ZOrder		  24
		  SrcBlock		  "qd"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  5
		}
		Line {
		  ZOrder		  25
		  SrcBlock		  "K"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  6
		}
		Line {
		  ZOrder		  26
		  SrcBlock		  "B"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  7
		}
		Line {
		  ZOrder		  27
		  SrcBlock		  "Md"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  8
		}
		Line {
		  ZOrder		  28
		  SrcBlock		  "M"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  9
		}
		Line {
		  ZOrder		  29
		  SrcBlock		  "nonLinear"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  10
		}
		Line {
		  ZOrder		  30
		  SrcBlock		  "poff"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  11
		}
		Line {
		  ZOrder		  31
		  SrcBlock		  "Cons"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  12
		}
		Line {
		  ZOrder		  32
		  SrcBlock		  "Fp"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  13
		}
		Line {
		  ZOrder		  33
		  SrcBlock		  "R"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  14
		}
		Line {
		  Name			  "tauapp"
		  ZOrder		  34
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  2
		  DstBlock		  "tauapp"
		  DstPort		  1
		}
		Line {
		  Name			  "deltax"
		  ZOrder		  35
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  3
		  DstBlock		  "deltax"
		  DstPort		  1
		}
		Line {
		  Name			  "Fe"
		  ZOrder		  36
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  4
		  DstBlock		  "Fe"
		  DstPort		  1
		}
		Line {
		  ZOrder		  37
		  SrcBlock		  " Demux "
		  SrcPort		  1
		  DstBlock		  " Terminator "
		  DstPort		  1
		}
		Line {
		  ZOrder		  38
		  SrcBlock		  " SFunction "
		  SrcPort		  1
		  DstBlock		  " Demux "
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Impedance Trajectory Generator"
	      SID		      "1249"
	      Ports		      [11, 4]
	      Position		      [635, 98, 775, 342]
	      ZOrder		      -13
	      LibraryVersion	      "1.32"
	      ErrorFcn		      "Stateflow.Translate.translate"
	      PermitHierarchicalResolution "ExplicitOnly"
	      TreatAsAtomicUnit	      on
	      RequestExecContextInheritance off
	      SFBlockType	      "MATLAB Function"
	      System {
		Name			"Impedance Trajectory Generator"
		Location		[227, 345, 838, 789]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SIDHighWatermark	"1261"
		Block {
		  BlockType		  Inport
		  Name			  "quat0"
		  SID			  "1249::1249"
		  Position		  [20, 101, 40, 119]
		  ZOrder		  -1
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "quat1"
		  SID			  "1249::1262"
		  Position		  [20, 136, 40, 154]
		  ZOrder		  -2
		  Port			  "2"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "xi"
		  SID			  "1249::1263"
		  Position		  [20, 171, 40, 189]
		  ZOrder		  -3
		  Port			  "3"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "xf"
		  SID			  "1249::1264"
		  Position		  [20, 206, 40, 224]
		  ZOrder		  -4
		  Port			  "4"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "axis"
		  SID			  "1249::1265"
		  Position		  [20, 246, 40, 264]
		  ZOrder		  -5
		  Port			  "5"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "theta"
		  SID			  "1249::1266"
		  Position		  [20, 281, 40, 299]
		  ZOrder		  -6
		  Port			  "6"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "tf"
		  SID			  "1249::1267"
		  Position		  [20, 316, 40, 334]
		  ZOrder		  -7
		  Port			  "7"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "b"
		  SID			  "1249::1268"
		  Position		  [20, 351, 40, 369]
		  ZOrder		  -8
		  Port			  "8"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "poff"
		  SID			  "1249::1269"
		  Position		  [20, 386, 40, 404]
		  ZOrder		  -9
		  Port			  "9"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "t"
		  SID			  "1249::1270"
		  Position		  [20, 426, 40, 444]
		  ZOrder		  -10
		  Port			  "10"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "t_start"
		  SID			  "1249::1271"
		  Position		  [20, 461, 40, 479]
		  ZOrder		  -11
		  Port			  "11"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Demux
		  Name			  " Demux "
		  SID			  "1249::1260"
		  Ports			  [1, 1]
		  Position		  [270, 280, 320, 320]
		  ZOrder		  2
		  Outputs		  "1"
		}
		Block {
		  BlockType		  S-Function
		  Name			  " SFunction "
		  SID			  "1249::1259"
		  Tag			  "Stateflow S-Function wamjc7 16"
		  Ports			  [11, 5]
		  Position		  [180, 95, 230, 335]
		  ZOrder		  1
		  FunctionName		  "sf_sfun"
		  PortCounts		  "[11 5]"
		  EnableBusSupport	  off
		  Port {
		    PortNumber		    2
		    Name		    "xdes"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    3
		    Name		    "vdes"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    4
		    Name		    "ades"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    5
		    Name		    "done"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Terminator
		  Name			  " Terminator "
		  SID			  "1249::1261"
		  Position		  [460, 291, 480, 309]
		  ZOrder		  3
		}
		Block {
		  BlockType		  Outport
		  Name			  "xdes"
		  SID			  "1249::1272"
		  Position		  [460, 101, 480, 119]
		  ZOrder		  -15
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "vdes"
		  SID			  "1249::1273"
		  Position		  [460, 136, 480, 154]
		  ZOrder		  -16
		  Port			  "2"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "ades"
		  SID			  "1249::1274"
		  Position		  [460, 171, 480, 189]
		  ZOrder		  -17
		  Port			  "3"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "done"
		  SID			  "1249::1275"
		  Position		  [460, 206, 480, 224]
		  ZOrder		  -18
		  Port			  "4"
		  IconDisplay		  "Port number"
		}
		Line {
		  ZOrder		  18
		  SrcBlock		  "quat0"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  1
		}
		Line {
		  ZOrder		  19
		  SrcBlock		  "quat1"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  2
		}
		Line {
		  ZOrder		  20
		  SrcBlock		  "xi"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  3
		}
		Line {
		  ZOrder		  21
		  SrcBlock		  "xf"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  4
		}
		Line {
		  ZOrder		  22
		  SrcBlock		  "axis"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  5
		}
		Line {
		  ZOrder		  23
		  SrcBlock		  "theta"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  6
		}
		Line {
		  ZOrder		  24
		  SrcBlock		  "tf"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  7
		}
		Line {
		  ZOrder		  25
		  SrcBlock		  "b"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  8
		}
		Line {
		  ZOrder		  26
		  SrcBlock		  "poff"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  9
		}
		Line {
		  ZOrder		  27
		  SrcBlock		  "t"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  10
		}
		Line {
		  ZOrder		  28
		  SrcBlock		  "t_start"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  11
		}
		Line {
		  Name			  "xdes"
		  ZOrder		  29
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  2
		  Points		  [0, -55]
		  DstBlock		  "xdes"
		  DstPort		  1
		}
		Line {
		  Name			  "vdes"
		  ZOrder		  30
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  3
		  DstBlock		  "vdes"
		  DstPort		  1
		}
		Line {
		  Name			  "ades"
		  ZOrder		  31
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  4
		  DstBlock		  "ades"
		  DstPort		  1
		}
		Line {
		  Name			  "done"
		  ZOrder		  32
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  5
		  DstBlock		  "done"
		  DstPort		  1
		}
		Line {
		  ZOrder		  33
		  SrcBlock		  " Demux "
		  SrcPort		  1
		  DstBlock		  " Terminator "
		  DstPort		  1
		}
		Line {
		  ZOrder		  34
		  SrcBlock		  " SFunction "
		  SrcPort		  1
		  DstBlock		  " Demux "
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "K"
	      SID		      "1239"
	      Position		      [1055, 247, 1095, 263]
	      ZOrder		      -14
	      Value		      "diag([90 90 90 90 90 90])"
	      VectorParams1D	      off
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Md"
	      SID		      "1241"
	      Position		      [1145, 297, 1185, 313]
	      ZOrder		      -15
	      Value		      "diag([4 4 4 4 4 4])"
	      VectorParams1D	      off
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux1"
	      SID		      "1250"
	      Ports		      [3, 1]
	      Position		      [1130, 558, 1135, 632]
	      ZOrder		      -16
	      ShowName		      off
	      Inputs		      "3"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Polynomial Spline Generator"
	      SID		      "1251"
	      Ports		      [1, 1]
	      Position		      [470, 246, 540, 294]
	      ZOrder		      -17
	      LibraryVersion	      "1.32"
	      ErrorFcn		      "Stateflow.Translate.translate"
	      PermitHierarchicalResolution "ExplicitOnly"
	      TreatAsAtomicUnit	      on
	      RequestExecContextInheritance off
	      SFBlockType	      "MATLAB Function"
	      System {
		Name			"Polynomial Spline Generator"
		Location		[227, 345, 838, 789]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SIDHighWatermark	"1262"
		Block {
		  BlockType		  Inport
		  Name			  "tf"
		  SID			  "1251::1251"
		  Position		  [20, 101, 40, 119]
		  ZOrder		  -1
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Demux
		  Name			  " Demux "
		  SID			  "1251::1261"
		  Ports			  [1, 1]
		  Position		  [270, 230, 320, 270]
		  ZOrder		  2
		  Outputs		  "1"
		}
		Block {
		  BlockType		  S-Function
		  Name			  " SFunction "
		  SID			  "1251::1260"
		  Tag			  "Stateflow S-Function wamjc7 17"
		  Ports			  [1, 2]
		  Position		  [180, 100, 230, 160]
		  ZOrder		  1
		  FunctionName		  "sf_sfun"
		  PortCounts		  "[1 2]"
		  EnableBusSupport	  off
		  Port {
		    PortNumber		    2
		    Name		    "coeff"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Terminator
		  Name			  " Terminator "
		  SID			  "1251::1262"
		  Position		  [460, 241, 480, 259]
		  ZOrder		  3
		}
		Block {
		  BlockType		  Outport
		  Name			  "coeff"
		  SID			  "1251::1263"
		  Position		  [460, 101, 480, 119]
		  ZOrder		  -5
		  IconDisplay		  "Port number"
		}
		Line {
		  ZOrder		  5
		  SrcBlock		  "tf"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  1
		}
		Line {
		  Name			  "coeff"
		  ZOrder		  6
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  2
		  DstBlock		  "coeff"
		  DstPort		  1
		}
		Line {
		  ZOrder		  7
		  SrcBlock		  " Demux "
		  SrcPort		  1
		  DstBlock		  " Terminator "
		  DstPort		  1
		}
		Line {
		  ZOrder		  8
		  SrcBlock		  " SFunction "
		  SrcPort		  1
		  DstBlock		  " Demux "
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Split up parameters"
	      SID		      "1258"
	      Ports		      [2, 9]
	      Position		      [265, 137, 360, 343]
	      ZOrder		      -18
	      LibraryVersion	      "1.32"
	      ErrorFcn		      "Stateflow.Translate.translate"
	      PermitHierarchicalResolution "ExplicitOnly"
	      TreatAsAtomicUnit	      on
	      RequestExecContextInheritance off
	      SFBlockType	      "MATLAB Function"
	      System {
		Name			"Split up parameters"
		Location		[227, 345, 838, 789]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SIDHighWatermark	"1275"
		Block {
		  BlockType		  Inport
		  Name			  "data"
		  SID			  "1258::1258"
		  Position		  [20, 101, 40, 119]
		  ZOrder		  -1
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "qi"
		  SID			  "1258::1276"
		  Position		  [20, 136, 40, 154]
		  ZOrder		  -2
		  Port			  "2"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Demux
		  Name			  " Demux "
		  SID			  "1258::1274"
		  Ports			  [1, 1]
		  Position		  [270, 460, 320, 500]
		  ZOrder		  2
		  Outputs		  "1"
		}
		Block {
		  BlockType		  S-Function
		  Name			  " SFunction "
		  SID			  "1258::1273"
		  Tag			  "Stateflow S-Function wamjc7 14"
		  Ports			  [2, 10]
		  Position		  [180, 100, 230, 320]
		  ZOrder		  1
		  FunctionName		  "sf_sfun"
		  PortCounts		  "[2 10]"
		  EnableBusSupport	  off
		  Port {
		    PortNumber		    2
		    Name		    "quatf"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    3
		    Name		    "xf"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    4
		    Name		    "axis"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    5
		    Name		    "theta"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    6
		    Name		    "tf"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    7
		    Name		    "poff"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    8
		    Name		    "Const"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    9
		    Name		    "Fp"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    10
		    Name		    "R"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Terminator
		  Name			  " Terminator "
		  SID			  "1258::1275"
		  Position		  [460, 471, 480, 489]
		  ZOrder		  3
		}
		Block {
		  BlockType		  Outport
		  Name			  "quatf"
		  SID			  "1258::1277"
		  Position		  [460, 101, 480, 119]
		  ZOrder		  -6
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "xf"
		  SID			  "1258::1278"
		  Position		  [460, 136, 480, 154]
		  ZOrder		  -7
		  Port			  "2"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "axis"
		  SID			  "1258::1279"
		  Position		  [460, 171, 480, 189]
		  ZOrder		  -8
		  Port			  "3"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "theta"
		  SID			  "1258::1280"
		  Position		  [460, 206, 480, 224]
		  ZOrder		  -9
		  Port			  "4"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "tf"
		  SID			  "1258::1281"
		  Position		  [460, 246, 480, 264]
		  ZOrder		  -10
		  Port			  "5"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "poff"
		  SID			  "1258::1282"
		  Position		  [460, 281, 480, 299]
		  ZOrder		  -11
		  Port			  "6"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Const"
		  SID			  "1258::1283"
		  Position		  [460, 316, 480, 334]
		  ZOrder		  -12
		  Port			  "7"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Fp"
		  SID			  "1258::1271"
		  Position		  [460, 351, 480, 369]
		  ZOrder		  -13
		  Port			  "8"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "R"
		  SID			  "1258::1272"
		  Position		  [460, 386, 480, 404]
		  ZOrder		  -14
		  Port			  "9"
		  IconDisplay		  "Port number"
		}
		Line {
		  ZOrder		  14
		  SrcBlock		  "data"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  1
		}
		Line {
		  ZOrder		  15
		  SrcBlock		  "qi"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  2
		}
		Line {
		  Name			  "quatf"
		  ZOrder		  16
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  2
		  DstBlock		  "quatf"
		  DstPort		  1
		}
		Line {
		  Name			  "xf"
		  ZOrder		  17
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  3
		  DstBlock		  "xf"
		  DstPort		  1
		}
		Line {
		  Name			  "axis"
		  ZOrder		  18
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  4
		  DstBlock		  "axis"
		  DstPort		  1
		}
		Line {
		  Name			  "theta"
		  ZOrder		  19
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  5
		  DstBlock		  "theta"
		  DstPort		  1
		}
		Line {
		  Name			  "tf"
		  ZOrder		  20
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  6
		  DstBlock		  "tf"
		  DstPort		  1
		}
		Line {
		  Name			  "poff"
		  ZOrder		  21
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  7
		  DstBlock		  "poff"
		  DstPort		  1
		}
		Line {
		  Name			  "Const"
		  ZOrder		  22
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  8
		  DstBlock		  "Const"
		  DstPort		  1
		}
		Line {
		  Name			  "Fp"
		  ZOrder		  23
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  9
		  DstBlock		  "Fp"
		  DstPort		  1
		}
		Line {
		  Name			  "R"
		  ZOrder		  24
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  10
		  DstBlock		  "R"
		  DstPort		  1
		}
		Line {
		  ZOrder		  25
		  SrcBlock		  " Demux "
		  SrcPort		  1
		  DstBlock		  " Terminator "
		  DstPort		  1
		}
		Line {
		  ZOrder		  26
		  SrcBlock		  " SFunction "
		  SrcPort		  1
		  Points		  [20, 0]
		  DstBlock		  " Demux "
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Subsystem1"
	      SID		      "1386"
	      Ports		      [3, 1]
	      Position		      [1055, 424, 1155, 466]
	      ZOrder		      -19
	      RequestExecContextInheritance off
	      System {
		Name			"Subsystem1"
		Location		[625, 52, 1770, 1041]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "q"
		  SID			  "1387"
		  Position		  [38, 70, 52, 100]
		  ZOrder		  -1
		  BlockRotation		  270
		  BlockMirror		  on
		  NamePlacement		  "alternate"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "qd"
		  SID			  "1388"
		  Position		  [83, 70, 97, 100]
		  ZOrder		  -2
		  BlockRotation		  270
		  BlockMirror		  on
		  NamePlacement		  "alternate"
		  Port			  "2"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "nonLinear"
		  SID			  "1389"
		  Position		  [570, 68, 600, 82]
		  ZOrder		  -3
		  Port			  "3"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Dynamics Compensation"
		  SID			  "1423"
		  Ports			  [4, 2]
		  Position		  [325, 140, 470, 205]
		  ZOrder		  -4
		  LibraryVersion	  "1.31"
		  ErrorFcn		  "Stateflow.Translate.translate"
		  PermitHierarchicalResolution "ExplicitOnly"
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  SFBlockType		  "MATLAB Function"
		  System {
		    Name		    "Dynamics Compensation"
		    Location		    [227, 345, 838, 789]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "1430"
		    SIDPrevWatermark	    "21"
		    Block {
		    BlockType		    Inport
		    Name		    "hand_on"
		    SID			    "1423::1423"
		    Position		    [20, 101, 40, 119]
		    ZOrder		    -1
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "q"
		    SID			    "1423::1431"
		    Position		    [20, 136, 40, 154]
		    ZOrder		    -2
		    Port		    "2"
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "qd"
		    SID			    "1423::1432"
		    Position		    [20, 171, 40, 189]
		    ZOrder		    -3
		    Port		    "3"
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "qdd"
		    SID			    "1423::1433"
		    Position		    [20, 206, 40, 224]
		    ZOrder		    -4
		    Port		    "4"
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Demux
		    Name		    " Demux "
		    SID			    "1423::1429"
		    Ports		    [1, 1]
		    Position		    [270, 230, 320, 270]
		    ZOrder		    2
		    Outputs		    "1"
		    }
		    Block {
		    BlockType		    S-Function
		    Name		    " SFunction "
		    SID			    "1423::1428"
		    Tag			    "Stateflow S-Function wamjc7 20"
		    Ports		    [4, 3]
		    Position		    [180, 102, 230, 203]
		    ZOrder		    1
		    FunctionName	    "sf_sfun"
		    PortCounts		    "[4 3]"
		    EnableBusSupport	    off
		    Port {
		    PortNumber		    2
		    Name		    "tau"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    Port {
		    PortNumber		    3
		    Name		    "FTsensor"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    " Terminator "
		    SID			    "1423::1430"
		    Position		    [460, 241, 480, 259]
		    ZOrder		    3
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "tau"
		    SID			    "1423::1434"
		    Position		    [460, 101, 480, 119]
		    ZOrder		    -8
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "FTsensor"
		    SID			    "1423::1435"
		    Position		    [460, 136, 480, 154]
		    ZOrder		    -9
		    Port		    "2"
		    IconDisplay		    "Port number"
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    "hand_on"
		    SrcPort		    1
		    DstBlock		    " SFunction "
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    10
		    SrcBlock		    "q"
		    SrcPort		    1
		    DstBlock		    " SFunction "
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    11
		    SrcBlock		    "qd"
		    SrcPort		    1
		    DstBlock		    " SFunction "
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "qdd"
		    SrcPort		    1
		    DstBlock		    " SFunction "
		    DstPort		    4
		    }
		    Line {
		    Name		    "tau"
		    ZOrder		    13
		    Labels		    [0, 0]
		    SrcBlock		    " SFunction "
		    SrcPort		    2
		    DstBlock		    "tau"
		    DstPort		    1
		    }
		    Line {
		    Name		    "FTsensor"
		    ZOrder		    14
		    Labels		    [0, 0]
		    SrcBlock		    " SFunction "
		    SrcPort		    3
		    DstBlock		    "FTsensor"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    15
		    SrcBlock		    " Demux "
		    SrcPort		    1
		    DstBlock		    " Terminator "
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    16
		    SrcBlock		    " SFunction "
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    " Demux "
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Dynamics Compensation1"
		  SID			  "1425"
		  Ports			  [4, 2]
		  Position		  [325, 230, 470, 295]
		  ZOrder		  -5
		  LibraryVersion	  "1.31"
		  ErrorFcn		  "Stateflow.Translate.translate"
		  PermitHierarchicalResolution "ExplicitOnly"
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  SFBlockType		  "MATLAB Function"
		  System {
		    Name		    "Dynamics Compensation1"
		    Location		    [227, 345, 838, 789]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "1432"
		    SIDPrevWatermark	    "21"
		    Block {
		    BlockType		    Inport
		    Name		    "hand_on"
		    SID			    "1425::1425"
		    Position		    [20, 101, 40, 119]
		    ZOrder		    -1
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "q"
		    SID			    "1425::1433"
		    Position		    [20, 136, 40, 154]
		    ZOrder		    -2
		    Port		    "2"
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "qd"
		    SID			    "1425::1434"
		    Position		    [20, 171, 40, 189]
		    ZOrder		    -3
		    Port		    "3"
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "qdd"
		    SID			    "1425::1435"
		    Position		    [20, 206, 40, 224]
		    ZOrder		    -4
		    Port		    "4"
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Demux
		    Name		    " Demux "
		    SID			    "1425::1431"
		    Ports		    [1, 1]
		    Position		    [270, 230, 320, 270]
		    ZOrder		    2
		    Outputs		    "1"
		    }
		    Block {
		    BlockType		    S-Function
		    Name		    " SFunction "
		    SID			    "1425::1430"
		    Tag			    "Stateflow S-Function wamjc7 21"
		    Ports		    [4, 3]
		    Position		    [180, 102, 230, 203]
		    ZOrder		    1
		    FunctionName	    "sf_sfun"
		    PortCounts		    "[4 3]"
		    EnableBusSupport	    off
		    Port {
		    PortNumber		    2
		    Name		    "tau"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    Port {
		    PortNumber		    3
		    Name		    "FTsensor"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    " Terminator "
		    SID			    "1425::1432"
		    Position		    [460, 241, 480, 259]
		    ZOrder		    3
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "tau"
		    SID			    "1425::1436"
		    Position		    [460, 101, 480, 119]
		    ZOrder		    -8
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "FTsensor"
		    SID			    "1425::1437"
		    Position		    [460, 136, 480, 154]
		    ZOrder		    -9
		    Port		    "2"
		    IconDisplay		    "Port number"
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    "hand_on"
		    SrcPort		    1
		    DstBlock		    " SFunction "
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    10
		    SrcBlock		    "q"
		    SrcPort		    1
		    DstBlock		    " SFunction "
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    11
		    SrcBlock		    "qd"
		    SrcPort		    1
		    DstBlock		    " SFunction "
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "qdd"
		    SrcPort		    1
		    DstBlock		    " SFunction "
		    DstPort		    4
		    }
		    Line {
		    Name		    "tau"
		    ZOrder		    13
		    Labels		    [0, 0]
		    SrcBlock		    " SFunction "
		    SrcPort		    2
		    DstBlock		    "tau"
		    DstPort		    1
		    }
		    Line {
		    Name		    "FTsensor"
		    ZOrder		    14
		    Labels		    [0, 0]
		    SrcBlock		    " SFunction "
		    SrcPort		    3
		    DstBlock		    "FTsensor"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    15
		    SrcBlock		    " Demux "
		    SrcPort		    1
		    DstBlock		    " Terminator "
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    16
		    SrcBlock		    " SFunction "
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    " Demux "
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Dynamics Compensation2"
		  SID			  "1426"
		  Ports			  [4, 2]
		  Position		  [325, 315, 470, 380]
		  ZOrder		  -6
		  LibraryVersion	  "1.31"
		  ErrorFcn		  "Stateflow.Translate.translate"
		  PermitHierarchicalResolution "ExplicitOnly"
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  SFBlockType		  "MATLAB Function"
		  System {
		    Name		    "Dynamics Compensation2"
		    Location		    [227, 345, 838, 789]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "1433"
		    SIDPrevWatermark	    "21"
		    Block {
		    BlockType		    Inport
		    Name		    "hand_on"
		    SID			    "1426::1426"
		    Position		    [20, 101, 40, 119]
		    ZOrder		    -1
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "q"
		    SID			    "1426::1434"
		    Position		    [20, 136, 40, 154]
		    ZOrder		    -2
		    Port		    "2"
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "qd"
		    SID			    "1426::1435"
		    Position		    [20, 171, 40, 189]
		    ZOrder		    -3
		    Port		    "3"
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "qdd"
		    SID			    "1426::1436"
		    Position		    [20, 206, 40, 224]
		    ZOrder		    -4
		    Port		    "4"
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Demux
		    Name		    " Demux "
		    SID			    "1426::1432"
		    Ports		    [1, 1]
		    Position		    [270, 230, 320, 270]
		    ZOrder		    2
		    Outputs		    "1"
		    }
		    Block {
		    BlockType		    S-Function
		    Name		    " SFunction "
		    SID			    "1426::1431"
		    Tag			    "Stateflow S-Function wamjc7 22"
		    Ports		    [4, 3]
		    Position		    [180, 102, 230, 203]
		    ZOrder		    1
		    FunctionName	    "sf_sfun"
		    PortCounts		    "[4 3]"
		    EnableBusSupport	    off
		    Port {
		    PortNumber		    2
		    Name		    "tau"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    Port {
		    PortNumber		    3
		    Name		    "FTsensor"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    " Terminator "
		    SID			    "1426::1433"
		    Position		    [460, 241, 480, 259]
		    ZOrder		    3
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "tau"
		    SID			    "1426::1437"
		    Position		    [460, 101, 480, 119]
		    ZOrder		    -8
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "FTsensor"
		    SID			    "1426::1438"
		    Position		    [460, 136, 480, 154]
		    ZOrder		    -9
		    Port		    "2"
		    IconDisplay		    "Port number"
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    "hand_on"
		    SrcPort		    1
		    DstBlock		    " SFunction "
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    10
		    SrcBlock		    "q"
		    SrcPort		    1
		    DstBlock		    " SFunction "
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    11
		    SrcBlock		    "qd"
		    SrcPort		    1
		    DstBlock		    " SFunction "
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "qdd"
		    SrcPort		    1
		    DstBlock		    " SFunction "
		    DstPort		    4
		    }
		    Line {
		    Name		    "tau"
		    ZOrder		    13
		    Labels		    [0, 0]
		    SrcBlock		    " SFunction "
		    SrcPort		    2
		    DstBlock		    "tau"
		    DstPort		    1
		    }
		    Line {
		    Name		    "FTsensor"
		    ZOrder		    14
		    Labels		    [0, 0]
		    SrcBlock		    " SFunction "
		    SrcPort		    3
		    DstBlock		    "FTsensor"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    15
		    SrcBlock		    " Demux "
		    SrcPort		    1
		    DstBlock		    " Terminator "
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    16
		    SrcBlock		    " SFunction "
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    " Demux "
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Dynamics Compensation3"
		  SID			  "1427"
		  Ports			  [4, 2]
		  Position		  [325, 395, 470, 460]
		  ZOrder		  -7
		  LibraryVersion	  "1.31"
		  ErrorFcn		  "Stateflow.Translate.translate"
		  PermitHierarchicalResolution "ExplicitOnly"
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  SFBlockType		  "MATLAB Function"
		  System {
		    Name		    "Dynamics Compensation3"
		    Location		    [227, 345, 838, 789]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "1434"
		    SIDPrevWatermark	    "21"
		    Block {
		    BlockType		    Inport
		    Name		    "hand_on"
		    SID			    "1427::1427"
		    Position		    [20, 101, 40, 119]
		    ZOrder		    -1
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "q"
		    SID			    "1427::1435"
		    Position		    [20, 136, 40, 154]
		    ZOrder		    -2
		    Port		    "2"
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "qd"
		    SID			    "1427::1436"
		    Position		    [20, 171, 40, 189]
		    ZOrder		    -3
		    Port		    "3"
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "qdd"
		    SID			    "1427::1437"
		    Position		    [20, 206, 40, 224]
		    ZOrder		    -4
		    Port		    "4"
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Demux
		    Name		    " Demux "
		    SID			    "1427::1433"
		    Ports		    [1, 1]
		    Position		    [270, 230, 320, 270]
		    ZOrder		    2
		    Outputs		    "1"
		    }
		    Block {
		    BlockType		    S-Function
		    Name		    " SFunction "
		    SID			    "1427::1432"
		    Tag			    "Stateflow S-Function wamjc7 23"
		    Ports		    [4, 3]
		    Position		    [180, 102, 230, 203]
		    ZOrder		    1
		    FunctionName	    "sf_sfun"
		    PortCounts		    "[4 3]"
		    EnableBusSupport	    off
		    Port {
		    PortNumber		    2
		    Name		    "tau"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    Port {
		    PortNumber		    3
		    Name		    "FTsensor"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    " Terminator "
		    SID			    "1427::1434"
		    Position		    [460, 241, 480, 259]
		    ZOrder		    3
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "tau"
		    SID			    "1427::1438"
		    Position		    [460, 101, 480, 119]
		    ZOrder		    -8
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "FTsensor"
		    SID			    "1427::1439"
		    Position		    [460, 136, 480, 154]
		    ZOrder		    -9
		    Port		    "2"
		    IconDisplay		    "Port number"
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    "hand_on"
		    SrcPort		    1
		    DstBlock		    " SFunction "
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    10
		    SrcBlock		    "q"
		    SrcPort		    1
		    DstBlock		    " SFunction "
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    11
		    SrcBlock		    "qd"
		    SrcPort		    1
		    DstBlock		    " SFunction "
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "qdd"
		    SrcPort		    1
		    DstBlock		    " SFunction "
		    DstPort		    4
		    }
		    Line {
		    Name		    "tau"
		    ZOrder		    13
		    Labels		    [0, 0]
		    SrcBlock		    " SFunction "
		    SrcPort		    2
		    DstBlock		    "tau"
		    DstPort		    1
		    }
		    Line {
		    Name		    "FTsensor"
		    ZOrder		    14
		    Labels		    [0, 0]
		    SrcBlock		    " SFunction "
		    SrcPort		    3
		    DstBlock		    "FTsensor"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    15
		    SrcBlock		    " Demux "
		    SrcPort		    1
		    DstBlock		    " Terminator "
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    16
		    SrcBlock		    " SFunction "
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    " Demux "
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Dynamics Compensation4"
		  SID			  "1428"
		  Ports			  [4, 2]
		  Position		  [325, 475, 470, 540]
		  ZOrder		  -8
		  LibraryVersion	  "1.31"
		  ErrorFcn		  "Stateflow.Translate.translate"
		  PermitHierarchicalResolution "ExplicitOnly"
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  SFBlockType		  "MATLAB Function"
		  System {
		    Name		    "Dynamics Compensation4"
		    Location		    [227, 345, 838, 789]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "1435"
		    SIDPrevWatermark	    "21"
		    Block {
		    BlockType		    Inport
		    Name		    "hand_on"
		    SID			    "1428::1428"
		    Position		    [20, 101, 40, 119]
		    ZOrder		    -1
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "q"
		    SID			    "1428::1436"
		    Position		    [20, 136, 40, 154]
		    ZOrder		    -2
		    Port		    "2"
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "qd"
		    SID			    "1428::1437"
		    Position		    [20, 171, 40, 189]
		    ZOrder		    -3
		    Port		    "3"
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "qdd"
		    SID			    "1428::1438"
		    Position		    [20, 206, 40, 224]
		    ZOrder		    -4
		    Port		    "4"
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Demux
		    Name		    " Demux "
		    SID			    "1428::1434"
		    Ports		    [1, 1]
		    Position		    [270, 230, 320, 270]
		    ZOrder		    2
		    Outputs		    "1"
		    }
		    Block {
		    BlockType		    S-Function
		    Name		    " SFunction "
		    SID			    "1428::1433"
		    Tag			    "Stateflow S-Function wamjc7 24"
		    Ports		    [4, 3]
		    Position		    [180, 102, 230, 203]
		    ZOrder		    1
		    FunctionName	    "sf_sfun"
		    PortCounts		    "[4 3]"
		    EnableBusSupport	    off
		    Port {
		    PortNumber		    2
		    Name		    "tau"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    Port {
		    PortNumber		    3
		    Name		    "FTsensor"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    " Terminator "
		    SID			    "1428::1435"
		    Position		    [460, 241, 480, 259]
		    ZOrder		    3
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "tau"
		    SID			    "1428::1439"
		    Position		    [460, 101, 480, 119]
		    ZOrder		    -8
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "FTsensor"
		    SID			    "1428::1440"
		    Position		    [460, 136, 480, 154]
		    ZOrder		    -9
		    Port		    "2"
		    IconDisplay		    "Port number"
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    "hand_on"
		    SrcPort		    1
		    DstBlock		    " SFunction "
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    10
		    SrcBlock		    "q"
		    SrcPort		    1
		    DstBlock		    " SFunction "
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    11
		    SrcBlock		    "qd"
		    SrcPort		    1
		    DstBlock		    " SFunction "
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "qdd"
		    SrcPort		    1
		    DstBlock		    " SFunction "
		    DstPort		    4
		    }
		    Line {
		    Name		    "tau"
		    ZOrder		    13
		    Labels		    [0, 0]
		    SrcBlock		    " SFunction "
		    SrcPort		    2
		    DstBlock		    "tau"
		    DstPort		    1
		    }
		    Line {
		    Name		    "FTsensor"
		    ZOrder		    14
		    Labels		    [0, 0]
		    SrcBlock		    " SFunction "
		    SrcPort		    3
		    DstBlock		    "FTsensor"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    15
		    SrcBlock		    " Demux "
		    SrcPort		    1
		    DstBlock		    " Terminator "
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    16
		    SrcBlock		    " SFunction "
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    " Demux "
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Dynamics Compensation5"
		  SID			  "1429"
		  Ports			  [4, 2]
		  Position		  [325, 560, 470, 625]
		  ZOrder		  -9
		  LibraryVersion	  "1.31"
		  ErrorFcn		  "Stateflow.Translate.translate"
		  PermitHierarchicalResolution "ExplicitOnly"
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  SFBlockType		  "MATLAB Function"
		  System {
		    Name		    "Dynamics Compensation5"
		    Location		    [227, 345, 838, 789]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "1436"
		    SIDPrevWatermark	    "21"
		    Block {
		    BlockType		    Inport
		    Name		    "hand_on"
		    SID			    "1429::1429"
		    Position		    [20, 101, 40, 119]
		    ZOrder		    -1
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "q"
		    SID			    "1429::1437"
		    Position		    [20, 136, 40, 154]
		    ZOrder		    -2
		    Port		    "2"
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "qd"
		    SID			    "1429::1438"
		    Position		    [20, 171, 40, 189]
		    ZOrder		    -3
		    Port		    "3"
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "qdd"
		    SID			    "1429::1439"
		    Position		    [20, 206, 40, 224]
		    ZOrder		    -4
		    Port		    "4"
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Demux
		    Name		    " Demux "
		    SID			    "1429::1435"
		    Ports		    [1, 1]
		    Position		    [270, 230, 320, 270]
		    ZOrder		    2
		    Outputs		    "1"
		    }
		    Block {
		    BlockType		    S-Function
		    Name		    " SFunction "
		    SID			    "1429::1434"
		    Tag			    "Stateflow S-Function wamjc7 25"
		    Ports		    [4, 3]
		    Position		    [180, 102, 230, 203]
		    ZOrder		    1
		    FunctionName	    "sf_sfun"
		    PortCounts		    "[4 3]"
		    EnableBusSupport	    off
		    Port {
		    PortNumber		    2
		    Name		    "tau"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    Port {
		    PortNumber		    3
		    Name		    "FTsensor"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    " Terminator "
		    SID			    "1429::1436"
		    Position		    [460, 241, 480, 259]
		    ZOrder		    3
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "tau"
		    SID			    "1429::1440"
		    Position		    [460, 101, 480, 119]
		    ZOrder		    -8
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "FTsensor"
		    SID			    "1429::1441"
		    Position		    [460, 136, 480, 154]
		    ZOrder		    -9
		    Port		    "2"
		    IconDisplay		    "Port number"
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    "hand_on"
		    SrcPort		    1
		    DstBlock		    " SFunction "
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    10
		    SrcBlock		    "q"
		    SrcPort		    1
		    DstBlock		    " SFunction "
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    11
		    SrcBlock		    "qd"
		    SrcPort		    1
		    DstBlock		    " SFunction "
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "qdd"
		    SrcPort		    1
		    DstBlock		    " SFunction "
		    DstPort		    4
		    }
		    Line {
		    Name		    "tau"
		    ZOrder		    13
		    Labels		    [0, 0]
		    SrcBlock		    " SFunction "
		    SrcPort		    2
		    DstBlock		    "tau"
		    DstPort		    1
		    }
		    Line {
		    Name		    "FTsensor"
		    ZOrder		    14
		    Labels		    [0, 0]
		    SrcBlock		    " SFunction "
		    SrcPort		    3
		    DstBlock		    "FTsensor"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    15
		    SrcBlock		    " Demux "
		    SrcPort		    1
		    DstBlock		    " Terminator "
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    16
		    SrcBlock		    " SFunction "
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    " Demux "
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Dynamics Compensation6"
		  SID			  "1430"
		  Ports			  [4, 2]
		  Position		  [325, 645, 470, 710]
		  ZOrder		  -10
		  LibraryVersion	  "1.31"
		  ErrorFcn		  "Stateflow.Translate.translate"
		  PermitHierarchicalResolution "ExplicitOnly"
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  SFBlockType		  "MATLAB Function"
		  System {
		    Name		    "Dynamics Compensation6"
		    Location		    [227, 345, 838, 789]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "1437"
		    SIDPrevWatermark	    "21"
		    Block {
		    BlockType		    Inport
		    Name		    "hand_on"
		    SID			    "1430::1430"
		    Position		    [20, 101, 40, 119]
		    ZOrder		    -1
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "q"
		    SID			    "1430::1438"
		    Position		    [20, 136, 40, 154]
		    ZOrder		    -2
		    Port		    "2"
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "qd"
		    SID			    "1430::1439"
		    Position		    [20, 171, 40, 189]
		    ZOrder		    -3
		    Port		    "3"
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "qdd"
		    SID			    "1430::1440"
		    Position		    [20, 206, 40, 224]
		    ZOrder		    -4
		    Port		    "4"
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Demux
		    Name		    " Demux "
		    SID			    "1430::1436"
		    Ports		    [1, 1]
		    Position		    [270, 230, 320, 270]
		    ZOrder		    2
		    Outputs		    "1"
		    }
		    Block {
		    BlockType		    S-Function
		    Name		    " SFunction "
		    SID			    "1430::1435"
		    Tag			    "Stateflow S-Function wamjc7 26"
		    Ports		    [4, 3]
		    Position		    [180, 102, 230, 203]
		    ZOrder		    1
		    FunctionName	    "sf_sfun"
		    PortCounts		    "[4 3]"
		    EnableBusSupport	    off
		    Port {
		    PortNumber		    2
		    Name		    "tau"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    Port {
		    PortNumber		    3
		    Name		    "FTsensor"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    " Terminator "
		    SID			    "1430::1437"
		    Position		    [460, 241, 480, 259]
		    ZOrder		    3
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "tau"
		    SID			    "1430::1441"
		    Position		    [460, 101, 480, 119]
		    ZOrder		    -8
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "FTsensor"
		    SID			    "1430::1442"
		    Position		    [460, 136, 480, 154]
		    ZOrder		    -9
		    Port		    "2"
		    IconDisplay		    "Port number"
		    }
		    Line {
		    ZOrder		    9
		    SrcBlock		    "hand_on"
		    SrcPort		    1
		    DstBlock		    " SFunction "
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    10
		    SrcBlock		    "q"
		    SrcPort		    1
		    DstBlock		    " SFunction "
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    11
		    SrcBlock		    "qd"
		    SrcPort		    1
		    DstBlock		    " SFunction "
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "qdd"
		    SrcPort		    1
		    DstBlock		    " SFunction "
		    DstPort		    4
		    }
		    Line {
		    Name		    "tau"
		    ZOrder		    13
		    Labels		    [0, 0]
		    SrcBlock		    " SFunction "
		    SrcPort		    2
		    DstBlock		    "tau"
		    DstPort		    1
		    }
		    Line {
		    Name		    "FTsensor"
		    ZOrder		    14
		    Labels		    [0, 0]
		    SrcBlock		    " SFunction "
		    SrcPort		    3
		    DstBlock		    "FTsensor"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    15
		    SrcBlock		    " Demux "
		    SrcPort		    1
		    DstBlock		    " Terminator "
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    16
		    SrcBlock		    " SFunction "
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    " Demux "
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux8"
		  SID			  "1404"
		  Ports			  [7, 1]
		  Position		  [800, 123, 815, 707]
		  ZOrder		  -11
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Inputs		  "7"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Reshape
		  Name			  "Reshape"
		  SID			  "1405"
		  Ports			  [1, 1]
		  Position		  [915, 408, 945, 432]
		  ZOrder		  -12
		  OutputDimensionality	  "Customize"
		  OutputDimensions	  "[7,7]"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  SID			  "1406"
		  Ports			  [2, 1]
		  Position		  [660, 150, 680, 170]
		  ZOrder		  -13
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|+-"
		  InputSameDT		  off
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  SID			  "1407"
		  Ports			  [2, 1]
		  Position		  [660, 240, 680, 260]
		  ZOrder		  -14
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|+-"
		  InputSameDT		  off
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  SID			  "1408"
		  Ports			  [2, 1]
		  Position		  [660, 325, 680, 345]
		  ZOrder		  -15
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|+-"
		  InputSameDT		  off
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum3"
		  SID			  "1409"
		  Ports			  [2, 1]
		  Position		  [660, 405, 680, 425]
		  ZOrder		  -16
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|+-"
		  InputSameDT		  off
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum4"
		  SID			  "1410"
		  Ports			  [2, 1]
		  Position		  [650, 485, 670, 505]
		  ZOrder		  -17
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|+-"
		  InputSameDT		  off
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum5"
		  SID			  "1411"
		  Ports			  [2, 1]
		  Position		  [660, 570, 680, 590]
		  ZOrder		  -18
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|+-"
		  InputSameDT		  off
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum6"
		  SID			  "1412"
		  Ports			  [2, 1]
		  Position		  [660, 655, 680, 675]
		  ZOrder		  -19
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|+-"
		  InputSameDT		  off
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Terminator
		  Name			  "Terminator"
		  SID			  "1431"
		  Position		  [525, 180, 545, 200]
		  ZOrder		  -20
		}
		Block {
		  BlockType		  Terminator
		  Name			  "Terminator1"
		  SID			  "1432"
		  Position		  [525, 270, 545, 290]
		  ZOrder		  -21
		}
		Block {
		  BlockType		  Terminator
		  Name			  "Terminator2"
		  SID			  "1433"
		  Position		  [525, 355, 545, 375]
		  ZOrder		  -22
		}
		Block {
		  BlockType		  Terminator
		  Name			  "Terminator3"
		  SID			  "1434"
		  Position		  [525, 435, 545, 455]
		  ZOrder		  -23
		}
		Block {
		  BlockType		  Terminator
		  Name			  "Terminator4"
		  SID			  "1435"
		  Position		  [525, 515, 545, 535]
		  ZOrder		  -24
		}
		Block {
		  BlockType		  Terminator
		  Name			  "Terminator5"
		  SID			  "1436"
		  Position		  [525, 600, 545, 620]
		  ZOrder		  -25
		}
		Block {
		  BlockType		  Terminator
		  Name			  "Terminator6"
		  SID			  "1437"
		  Position		  [525, 685, 545, 705]
		  ZOrder		  -26
		}
		Block {
		  BlockType		  Constant
		  Name			  "Zeros"
		  SID			  "1413"
		  Position		  [140, 180, 170, 210]
		  ZOrder		  -27
		  Value			  "[1;0;0;0;0;0;0]"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Zeros1"
		  SID			  "1414"
		  Position		  [140, 270, 170, 300]
		  ZOrder		  -28
		  Value			  "[0;1;0;0;0;0;0]"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Zeros2"
		  SID			  "1415"
		  Position		  [140, 355, 170, 385]
		  ZOrder		  -29
		  Value			  "[0;0;1;0;0;0;0]"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Zeros3"
		  SID			  "1416"
		  Position		  [140, 435, 170, 465]
		  ZOrder		  -30
		  Value			  "[0;0;0;1;0;0;0]"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Zeros4"
		  SID			  "1417"
		  Position		  [140, 515, 170, 545]
		  ZOrder		  -31
		  Value			  "[0;0;0;0;1;0;0]"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Zeros5"
		  SID			  "1418"
		  Position		  [140, 600, 170, 630]
		  ZOrder		  -32
		  Value			  "[0;0;0;0;0;1;0]"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Zeros6"
		  SID			  "1419"
		  Position		  [140, 685, 170, 715]
		  ZOrder		  -33
		  Value			  "[0;0;0;0;0;0;1]"
		}
		Block {
		  BlockType		  Constant
		  Name			  "hand_on"
		  SID			  "1424"
		  Position		  [235, 40, 265, 70]
		  ZOrder		  -34
		  Value			  "hand_on"
		}
		Block {
		  BlockType		  Outport
		  Name			  "M"
		  SID			  "1420"
		  Position		  [1035, 413, 1065, 427]
		  ZOrder		  -35
		  IconDisplay		  "Port number"
		}
		Line {
		  ZOrder		  1
		  SrcBlock		  "Reshape"
		  SrcPort		  1
		  DstBlock		  "M"
		  DstPort		  1
		}
		Line {
		  ZOrder		  2
		  SrcBlock		  "Mux8"
		  SrcPort		  1
		  DstBlock		  "Reshape"
		  DstPort		  1
		}
		Line {
		  ZOrder		  3
		  SrcBlock		  "Sum5"
		  SrcPort		  1
		  Points		  [100, 0]
		  DstBlock		  "Mux8"
		  DstPort		  6
		}
		Line {
		  ZOrder		  4
		  SrcBlock		  "Sum4"
		  SrcPort		  1
		  Points		  [110, 0]
		  DstBlock		  "Mux8"
		  DstPort		  5
		}
		Line {
		  ZOrder		  5
		  SrcBlock		  "Sum3"
		  SrcPort		  1
		  DstBlock		  "Mux8"
		  DstPort		  4
		}
		Line {
		  ZOrder		  6
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  Points		  [100, 0]
		  DstBlock		  "Mux8"
		  DstPort		  3
		}
		Line {
		  ZOrder		  7
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  Points		  [100, 0]
		  DstBlock		  "Mux8"
		  DstPort		  2
		}
		Line {
		  ZOrder		  8
		  SrcBlock		  "Sum6"
		  SrcPort		  1
		  Points		  [100, 0]
		  DstBlock		  "Mux8"
		  DstPort		  7
		}
		Line {
		  ZOrder		  9
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "Mux8"
		  DstPort		  1
		}
		Line {
		  ZOrder		  10
		  SrcBlock		  "nonLinear"
		  SrcPort		  1
		  Points		  [30, 0; 0, 120]
		  Branch {
		    ZOrder		    11
		    Labels		    [1, 0]
		    Points		    [0, 95]
		    Branch {
		    ZOrder		    12
		    Points		    [0, 90]
		    Branch {
		    ZOrder		    13
		    Points		    [0, 90]
		    Branch {
		    ZOrder		    14
		    Points		    [0, 85]
		    Branch {
		    ZOrder		    15
		    Points		    [0, 85]
		    Branch {
		    ZOrder		    16
		    Points		    [0, 50]
		    DstBlock		    "Sum6"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    17
		    Points		    [35, 0]
		    DstBlock		    "Sum5"
		    DstPort		    2
		    }
		    }
		    Branch {
		    ZOrder		    18
		    Points		    [25, 0]
		    DstBlock		    "Sum4"
		    DstPort		    2
		    }
		    }
		    Branch {
		    ZOrder		    19
		    Points		    [35, 0]
		    DstBlock		    "Sum3"
		    DstPort		    2
		    }
		    }
		    Branch {
		    ZOrder		    20
		    Points		    [35, 0]
		    DstBlock		    "Sum2"
		    DstPort		    2
		    }
		    }
		    Branch {
		    ZOrder		    21
		    Points		    [35, 0]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		  }
		  Branch {
		    ZOrder		    22
		    Points		    [35, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		  }
		}
		Line {
		  ZOrder		  23
		  SrcBlock		  "Dynamics Compensation6"
		  SrcPort		  1
		  DstBlock		  "Sum6"
		  DstPort		  1
		}
		Line {
		  ZOrder		  24
		  SrcBlock		  "Dynamics Compensation5"
		  SrcPort		  1
		  DstBlock		  "Sum5"
		  DstPort		  1
		}
		Line {
		  ZOrder		  25
		  SrcBlock		  "Dynamics Compensation4"
		  SrcPort		  1
		  DstBlock		  "Sum4"
		  DstPort		  1
		}
		Line {
		  ZOrder		  26
		  SrcBlock		  "Dynamics Compensation3"
		  SrcPort		  1
		  DstBlock		  "Sum3"
		  DstPort		  1
		}
		Line {
		  ZOrder		  27
		  SrcBlock		  "Dynamics Compensation2"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  1
		}
		Line {
		  ZOrder		  28
		  Labels		  [0, 0]
		  SrcBlock		  "Dynamics Compensation1"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Line {
		  ZOrder		  29
		  SrcBlock		  "Dynamics Compensation"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  ZOrder		  30
		  SrcBlock		  "qd"
		  SrcPort		  1
		  Points		  [0, 75]
		  Branch {
		    ZOrder		    31
		    Points		    [0, 90]
		    Branch {
		    ZOrder		    32
		    DstBlock		    "Dynamics Compensation1"
		    DstPort		    3
		    }
		    Branch {
		    ZOrder		    33
		    Points		    [0, 85]
		    Branch {
		    ZOrder		    34
		    Points		    [0, 80]
		    Branch {
		    ZOrder		    35
		    Points		    [0, 80]
		    Branch {
		    ZOrder		    36
		    Points		    [0, 0]
		    DstBlock		    "Dynamics Compensation4"
		    DstPort		    3
		    }
		    Branch {
		    ZOrder		    37
		    Points		    [0, 85]
		    Branch {
		    ZOrder		    38
		    DstBlock		    "Dynamics Compensation5"
		    DstPort		    3
		    }
		    Branch {
		    ZOrder		    39
		    Points		    [0, 85]
		    DstBlock		    "Dynamics Compensation6"
		    DstPort		    3
		    }
		    }
		    }
		    Branch {
		    ZOrder		    40
		    DstBlock		    "Dynamics Compensation3"
		    DstPort		    3
		    }
		    }
		    Branch {
		    ZOrder		    41
		    Points		    [0, 0]
		    DstBlock		    "Dynamics Compensation2"
		    DstPort		    3
		    }
		    }
		  }
		  Branch {
		    ZOrder		    42
		    DstBlock		    "Dynamics Compensation"
		    DstPort		    3
		  }
		}
		Line {
		  ZOrder		  43
		  SrcBlock		  "q"
		  SrcPort		  1
		  Points		  [0, 60]
		  Branch {
		    ZOrder		    44
		    Points		    [0, 90]
		    Branch {
		    ZOrder		    45
		    Points		    [0, 85]
		    Branch {
		    ZOrder		    46
		    Points		    [0, 80]
		    Branch {
		    ZOrder		    47
		    Points		    [0, 80]
		    Branch {
		    ZOrder		    48
		    DstBlock		    "Dynamics Compensation4"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    49
		    Points		    [0, 85]
		    Branch {
		    ZOrder		    50
		    DstBlock		    "Dynamics Compensation5"
		    DstPort		    2
		    }
		    Branch {
		    ZOrder		    51
		    Points		    [0, 85]
		    DstBlock		    "Dynamics Compensation6"
		    DstPort		    2
		    }
		    }
		    }
		    Branch {
		    ZOrder		    52
		    DstBlock		    "Dynamics Compensation3"
		    DstPort		    2
		    }
		    }
		    Branch {
		    ZOrder		    53
		    DstBlock		    "Dynamics Compensation2"
		    DstPort		    2
		    }
		    }
		    Branch {
		    ZOrder		    54
		    DstBlock		    "Dynamics Compensation1"
		    DstPort		    2
		    }
		  }
		  Branch {
		    ZOrder		    55
		    DstBlock		    "Dynamics Compensation"
		    DstPort		    2
		  }
		}
		Line {
		  ZOrder		  56
		  SrcBlock		  "Zeros6"
		  SrcPort		  1
		  DstBlock		  "Dynamics Compensation6"
		  DstPort		  4
		}
		Line {
		  ZOrder		  57
		  SrcBlock		  "Zeros4"
		  SrcPort		  1
		  DstBlock		  "Dynamics Compensation4"
		  DstPort		  4
		}
		Line {
		  ZOrder		  58
		  SrcBlock		  "Zeros3"
		  SrcPort		  1
		  DstBlock		  "Dynamics Compensation3"
		  DstPort		  4
		}
		Line {
		  ZOrder		  59
		  SrcBlock		  "Zeros2"
		  SrcPort		  1
		  DstBlock		  "Dynamics Compensation2"
		  DstPort		  4
		}
		Line {
		  ZOrder		  60
		  SrcBlock		  "Zeros1"
		  SrcPort		  1
		  DstBlock		  "Dynamics Compensation1"
		  DstPort		  4
		}
		Line {
		  ZOrder		  61
		  SrcBlock		  "Zeros"
		  SrcPort		  1
		  DstBlock		  "Dynamics Compensation"
		  DstPort		  4
		}
		Line {
		  ZOrder		  62
		  SrcBlock		  "hand_on"
		  SrcPort		  1
		  Points		  [20, 0; 0, 95]
		  Branch {
		    ZOrder		    63
		    DstBlock		    "Dynamics Compensation"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    64
		    Points		    [0, 90]
		    Branch {
		    ZOrder		    65
		    DstBlock		    "Dynamics Compensation1"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    66
		    Points		    [0, 85]
		    Branch {
		    ZOrder		    67
		    DstBlock		    "Dynamics Compensation2"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    68
		    Points		    [0, 80]
		    Branch {
		    ZOrder		    69
		    DstBlock		    "Dynamics Compensation3"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    70
		    Points		    [0, 80]
		    Branch {
		    ZOrder		    71
		    DstBlock		    "Dynamics Compensation4"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    72
		    Points		    [0, 85]
		    Branch {
		    ZOrder		    73
		    DstBlock		    "Dynamics Compensation5"
		    DstPort		    1
		    }
		    Branch {
		    ZOrder		    74
		    Points		    [0, 85]
		    DstBlock		    "Dynamics Compensation6"
		    DstPort		    1
		    }
		    }
		    }
		    }
		    }
		  }
		}
		Line {
		  ZOrder		  75
		  SrcBlock		  "Zeros5"
		  SrcPort		  1
		  DstBlock		  "Dynamics Compensation5"
		  DstPort		  4
		}
		Line {
		  ZOrder		  76
		  SrcBlock		  "Dynamics Compensation"
		  SrcPort		  2
		  DstBlock		  "Terminator"
		  DstPort		  1
		}
		Line {
		  ZOrder		  77
		  SrcBlock		  "Dynamics Compensation1"
		  SrcPort		  2
		  DstBlock		  "Terminator1"
		  DstPort		  1
		}
		Line {
		  ZOrder		  78
		  SrcBlock		  "Dynamics Compensation2"
		  SrcPort		  2
		  DstBlock		  "Terminator2"
		  DstPort		  1
		}
		Line {
		  ZOrder		  79
		  SrcBlock		  "Dynamics Compensation3"
		  SrcPort		  2
		  DstBlock		  "Terminator3"
		  DstPort		  1
		}
		Line {
		  ZOrder		  80
		  SrcBlock		  "Dynamics Compensation4"
		  SrcPort		  2
		  DstBlock		  "Terminator4"
		  DstPort		  1
		}
		Line {
		  ZOrder		  81
		  SrcBlock		  "Dynamics Compensation5"
		  SrcPort		  2
		  DstBlock		  "Terminator5"
		  DstPort		  1
		}
		Line {
		  ZOrder		  82
		  SrcBlock		  "Dynamics Compensation6"
		  SrcPort		  2
		  DstBlock		  "Terminator6"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Terminator
	      Name		      "Terminator"
	      SID		      "1767"
	      Position		      [1180, 585, 1200, 605]
	      ZOrder		      -20
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Zeros"
	      SID		      "1260"
	      Position		      [1010, 605, 1040, 635]
	      ZOrder		      -21
	      Value		      "[0;0;0;0;0;0;0]"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "hand_on"
	      SID		      "1422"
	      Position		      [1090, 645, 1120, 675]
	      ZOrder		      -22
	      Value		      "hand_on"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "tau"
	      SID		      "1261"
	      Position		      [1715, 173, 1745, 187]
	      ZOrder		      -23
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "done"
	      SID		      "1262"
	      Position		      [800, 303, 830, 317]
	      ZOrder		      -24
	      Port		      "2"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Fe"
	      SID		      "1679"
	      Position		      [1650, 403, 1680, 417]
	      ZOrder		      -25
	      Port		      "3"
	      IconDisplay	      "Port number"
	    }
	    Line {
	      ZOrder		      1
	      SrcBlock		      "params"
	      SrcPort		      1
	      Points		      [20, 0]
	      DstBlock		      "Split up parameters"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      2
	      SrcBlock		      "Zeros"
	      SrcPort		      1
	      Points		      [10, 0]
	      Branch {
		ZOrder			3
		DstBlock		"Mux1"
		DstPort			3
	      }
	      Branch {
		ZOrder			4
		Points			[0, 125]
		Branch {
		  ZOrder		  5
		  Points		  [0, 15]
		  DstBlock		  "Dynamics Compensation"
		  DstPort		  4
		}
		Branch {
		  ZOrder		  6
		  DstBlock		  "Dynamics Compensation"
		  DstPort		  3
		}
	      }
	    }
	    Line {
	      ZOrder		      7
	      SrcBlock		      "Dynamics Compensation"
	      SrcPort		      1
	      Points		      [5, 0; 0, -210]
	      Branch {
		ZOrder			8
		Points			[0, -160]
		DstBlock		"Impedance Torque Caclutation"
		DstPort			10
	      }
	      Branch {
		ZOrder			9
		Points			[-260, 0]
		DstBlock		"Subsystem1"
		DstPort			3
	      }
	    }
	    Line {
	      ZOrder		      10
	      SrcBlock		      "Split up parameters"
	      SrcPort		      5
	      Points		      [75, 0]
	      Branch {
		ZOrder			11
		Points			[0, 30]
		DstBlock		"Polynomial Spline Generator"
		DstPort			1
	      }
	      Branch {
		ZOrder			12
		DstBlock		"Impedance Trajectory Generator"
		DstPort			7
	      }
	    }
	    Line {
	      ZOrder		      13
	      SrcBlock		      "Polynomial Spline Generator"
	      SrcPort		      1
	      Points		      [0, -10]
	      DstBlock		      "Impedance Trajectory Generator"
	      DstPort		      8
	    }
	    Line {
	      ZOrder		      14
	      Labels		      [1, 0]
	      SrcBlock		      "Split up parameters"
	      SrcPort		      4
	      DstBlock		      "Impedance Trajectory Generator"
	      DstPort		      6
	    }
	    Line {
	      ZOrder		      15
	      SrcBlock		      "Split up parameters"
	      SrcPort		      1
	      Points		      [0, -20]
	      DstBlock		      "Impedance Trajectory Generator"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      16
	      SrcBlock		      "Impedance Trajectory Generator"
	      SrcPort		      1
	      DstBlock		      "Impedance Torque Caclutation"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      17
	      SrcBlock		      "Impedance Trajectory Generator"
	      SrcPort		      2
	      Points		      [5, 0; 0, -35]
	      DstBlock		      "Impedance Torque Caclutation"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      18
	      SrcBlock		      "Impedance Trajectory Generator"
	      SrcPort		      3
	      Points		      [15, 0; 0, -70]
	      DstBlock		      "Impedance Torque Caclutation"
	      DstPort		      3
	    }
	    Line {
	      ZOrder		      19
	      SrcBlock		      "q"
	      SrcPort		      1
	      Points		      [10, 0]
	      Branch {
		ZOrder			20
		DstBlock		"Impedance Torque Caclutation"
		DstPort			4
	      }
	      Branch {
		ZOrder			21
		Points			[0, 225]
		Branch {
		  ZOrder		  22
		  DstBlock		  "Subsystem1"
		  DstPort		  1
		}
		Branch {
		  ZOrder		  23
		  Points		  [0, 140; 210, 0]
		  Branch {
		    ZOrder		    24
		    DstBlock		    "Mux1"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    25
		    Points		    [0, 160]
		    DstBlock		    "Dynamics Compensation"
		    DstPort		    2
		  }
		}
	      }
	    }
	    Line {
	      ZOrder		      26
	      SrcBlock		      "t"
	      SrcPort		      1
	      Points		      [80, 0; 0, -55]
	      DstBlock		      "Impedance Trajectory Generator"
	      DstPort		      10
	    }
	    Line {
	      ZOrder		      27
	      SrcBlock		      "K"
	      SrcPort		      1
	      DstBlock		      "Impedance Torque Caclutation"
	      DstPort		      6
	    }
	    Line {
	      ZOrder		      28
	      SrcBlock		      "B"
	      SrcPort		      1
	      DstBlock		      "Impedance Torque Caclutation"
	      DstPort		      7
	    }
	    Line {
	      ZOrder		      29
	      SrcBlock		      "Md"
	      SrcPort		      1
	      DstBlock		      "Impedance Torque Caclutation"
	      DstPort		      8
	    }
	    Line {
	      ZOrder		      30
	      SrcBlock		      "t_start"
	      SrcPort		      1
	      Points		      [90, 0; 0, -75]
	      DstBlock		      "Impedance Trajectory Generator"
	      DstPort		      11
	    }
	    Line {
	      ZOrder		      31
	      SrcBlock		      "qd"
	      SrcPort		      1
	      DstBlock		      "Convert NaN to Zero"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      32
	      SrcBlock		      "Convert NaN to Zero"
	      SrcPort		      1
	      Points		      [15, 0]
	      Branch {
		ZOrder			33
		DstBlock		"Impedance Torque Caclutation"
		DstPort			5
	      }
	      Branch {
		ZOrder			34
		Points			[0, 215]
		Branch {
		  ZOrder		  35
		  DstBlock		  "Subsystem1"
		  DstPort		  2
		}
		Branch {
		  ZOrder		  36
		  Points		  [0, 150]
		  DstBlock		  "Mux1"
		  DstPort		  2
		}
	      }
	    }
	    Line {
	      ZOrder		      37
	      SrcBlock		      "Subsystem1"
	      SrcPort		      1
	      Points		      [130, 0; 0, -115]
	      DstBlock		      "Impedance Torque Caclutation"
	      DstPort		      9
	    }
	    Line {
	      ZOrder		      38
	      SrcBlock		      "hand_on"
	      SrcPort		      1
	      Points		      [5, 0]
	      DstBlock		      "Dynamics Compensation"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      39
	      SrcBlock		      "xi"
	      SrcPort		      1
	      DstBlock		      "Impedance Trajectory Generator"
	      DstPort		      3
	    }
	    Line {
	      ZOrder		      40
	      SrcBlock		      "Split up parameters"
	      SrcPort		      6
	      Points		      [60, 0; 0, 85]
	      Branch {
		ZOrder			41
		Points			[0, 195; 880, 0; 0, -160]
		DstBlock		"Impedance Torque Caclutation"
		DstPort			11
	      }
	      Branch {
		ZOrder			42
		Points			[170, 0; 0, -65]
		DstBlock		"Impedance Trajectory Generator"
		DstPort			9
	      }
	    }
	    Line {
	      ZOrder		      43
	      SrcBlock		      "Split up parameters"
	      SrcPort		      7
	      Points		      [40, 0; 0, 280; 915, 0; 0, -155]
	      DstBlock		      "Impedance Torque Caclutation"
	      DstPort		      12
	    }
	    Line {
	      ZOrder		      44
	      SrcBlock		      "Split up parameters"
	      SrcPort		      8
	      Points		      [25, 0; 0, 515; 945, 0; 0, -385]
	      DstBlock		      "Impedance Torque Caclutation"
	      DstPort		      13
	    }
	    Line {
	      ZOrder		      45
	      SrcBlock		      "Impedance Torque Caclutation"
	      SrcPort		      3
	      DstBlock		      "Fe"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      46
	      SrcBlock		      "Impedance Torque Caclutation"
	      SrcPort		      1
	      DstBlock		      "Convert NaN to Zero1"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      47
	      SrcBlock		      "Convert NaN to Zero1"
	      SrcPort		      1
	      DstBlock		      "tau"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      48
	      SrcBlock		      "Impedance Trajectory Generator"
	      SrcPort		      4
	      DstBlock		      "done"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      49
	      SrcBlock		      "Mux1"
	      SrcPort		      1
	      DstBlock		      "Terminator"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      50
	      SrcBlock		      "qi"
	      SrcPort		      1
	      Points		      [25, 0]
	      Branch {
		ZOrder			51
		Points			[65, 0]
		DstBlock		"Split up parameters"
		DstPort			2
	      }
	      Branch {
		ZOrder			52
		Points			[0, -155]
		DstBlock		"Impedance Trajectory Generator"
		DstPort			1
	      }
	    }
	    Line {
	      ZOrder		      53
	      SrcBlock		      "Split up parameters"
	      SrcPort		      2
	      DstBlock		      "Impedance Trajectory Generator"
	      DstPort		      4
	    }
	    Line {
	      ZOrder		      54
	      SrcBlock		      "Split up parameters"
	      SrcPort		      3
	      DstBlock		      "Impedance Trajectory Generator"
	      DstPort		      5
	    }
	    Line {
	      ZOrder		      55
	      SrcBlock		      "Split up parameters"
	      SrcPort		      9
	      Points		      [10, 0; 0, 170; 1025, 0]
	      DstBlock		      "Impedance Torque Caclutation"
	      DstPort		      14
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Limit taud"
	  SID			  "1673"
	  Ports			  [1, 1]
	  Position		  [1655, 487, 1725, 533]
	  ZOrder		  -12
	  LibraryVersion	  "1.32"
	  ErrorFcn		  "Stateflow.Translate.translate"
	  PermitHierarchicalResolution "ExplicitOnly"
	  TreatAsAtomicUnit	  on
	  RequestExecContextInheritance	off
	  SFBlockType		  "MATLAB Function"
	  System {
	    Name		    "Limit taud"
	    Location		    [227, 345, 838, 789]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    SIDHighWatermark	    "1680"
	    Block {
	      BlockType		      Inport
	      Name		      "u"
	      SID		      "1673::1673"
	      Position		      [20, 101, 40, 119]
	      ZOrder		      -1
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Demux
	      Name		      " Demux "
	      SID		      "1673::1679"
	      Ports		      [1, 1]
	      Position		      [270, 230, 320, 270]
	      ZOrder		      2
	      Outputs		      "1"
	    }
	    Block {
	      BlockType		      S-Function
	      Name		      " SFunction "
	      SID		      "1673::1678"
	      Tag		      "Stateflow S-Function wamjc7 30"
	      Ports		      [1, 2]
	      Position		      [180, 100, 230, 160]
	      ZOrder		      1
	      FunctionName	      "sf_sfun"
	      PortCounts	      "[1 2]"
	      EnableBusSupport	      off
	      Port {
		PortNumber		2
		Name			"y"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	      }
	    }
	    Block {
	      BlockType		      Terminator
	      Name		      " Terminator "
	      SID		      "1673::1680"
	      Position		      [460, 241, 480, 259]
	      ZOrder		      3
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "y"
	      SID		      "1673::1681"
	      Position		      [460, 101, 480, 119]
	      ZOrder		      -5
	      IconDisplay	      "Port number"
	    }
	    Line {
	      ZOrder		      5
	      SrcBlock		      "u"
	      SrcPort		      1
	      DstBlock		      " SFunction "
	      DstPort		      1
	    }
	    Line {
	      Name		      "y"
	      ZOrder		      6
	      Labels		      [0, 0]
	      SrcBlock		      " SFunction "
	      SrcPort		      2
	      DstBlock		      "y"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      7
	      SrcBlock		      " Demux "
	      SrcPort		      1
	      DstBlock		      " Terminator "
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      8
	      SrcBlock		      " SFunction "
	      SrcPort		      1
	      DstBlock		      " Demux "
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  Logic
	  Name			  "Logical\nOperator"
	  SID			  "1675"
	  Ports			  [2, 1]
	  Position		  [1755, 587, 1785, 618]
	  ZOrder		  -13
	  ShowName		  off
	  AllPortsSameDT	  off
	  OutDataTypeStr	  "boolean"
	}
	Block {
	  BlockType		  Logic
	  Name			  "Logical\nOperator1"
	  SID			  "1676"
	  Ports			  [1, 1]
	  Position		  [1560, 594, 1590, 626]
	  ZOrder		  -14
	  ShowName		  off
	  Operator		  "NOT"
	  AllPortsSameDT	  off
	  OutDataTypeStr	  "boolean"
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "MATLAB Function"
	  SID			  "1263"
	  Ports			  [4, 5]
	  Position		  [615, 360, 725, 440]
	  ZOrder		  -15
	  LibraryVersion	  "1.32"
	  ErrorFcn		  "Stateflow.Translate.translate"
	  PermitHierarchicalResolution "ExplicitOnly"
	  TreatAsAtomicUnit	  on
	  RequestExecContextInheritance	off
	  SFBlockType		  "MATLAB Function"
	  System {
	    Name		    "MATLAB Function"
	    Location		    [227, 345, 838, 789]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    SIDHighWatermark	    "1277"
	    Block {
	      BlockType		      Inport
	      Name		      "isNotImpOld"
	      SID		      "1263::1263"
	      Position		      [20, 101, 40, 119]
	      ZOrder		      -1
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "pckt"
	      SID		      "1263::1278"
	      Position		      [20, 136, 40, 154]
	      ZOrder		      -2
	      Port		      "2"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "q"
	      SID		      "1263::1279"
	      Position		      [20, 171, 40, 189]
	      ZOrder		      -3
	      Port		      "3"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "time"
	      SID		      "1263::1280"
	      Position		      [20, 206, 40, 224]
	      ZOrder		      -4
	      Port		      "4"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Demux
	      Name		      " Demux "
	      SID		      "1263::1276"
	      Ports		      [1, 1]
	      Position		      [270, 315, 320, 355]
	      ZOrder		      2
	      Outputs		      "1"
	    }
	    Block {
	      BlockType		      S-Function
	      Name		      " SFunction "
	      SID		      "1263::1275"
	      Tag		      "Stateflow S-Function wamjc7 13"
	      Ports		      [4, 6]
	      Position		      [180, 102, 230, 243]
	      ZOrder		      1
	      FunctionName	      "sf_sfun"
	      PortCounts	      "[4 6]"
	      EnableBusSupport	      off
	      Port {
		PortNumber		2
		Name			"isNotImp"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	      }
	      Port {
		PortNumber		3
		Name			"ImpData"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	      }
	      Port {
		PortNumber		4
		Name			"t_s"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	      }
	      Port {
		PortNumber		5
		Name			"xi"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	      }
	      Port {
		PortNumber		6
		Name			"qi"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	      }
	    }
	    Block {
	      BlockType		      Terminator
	      Name		      " Terminator "
	      SID		      "1263::1277"
	      Position		      [460, 326, 480, 344]
	      ZOrder		      3
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "isNotImp"
	      SID		      "1263::1281"
	      Position		      [460, 101, 480, 119]
	      ZOrder		      -8
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "ImpData"
	      SID		      "1263::1282"
	      Position		      [460, 136, 480, 154]
	      ZOrder		      -9
	      Port		      "2"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "t_s"
	      SID		      "1263::1283"
	      Position		      [460, 171, 480, 189]
	      ZOrder		      -10
	      Port		      "3"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "xi"
	      SID		      "1263::1284"
	      Position		      [460, 206, 480, 224]
	      ZOrder		      -11
	      Port		      "4"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "qi"
	      SID		      "1263::1285"
	      Position		      [460, 246, 480, 264]
	      ZOrder		      -12
	      Port		      "5"
	      IconDisplay	      "Port number"
	    }
	    Line {
	      ZOrder		      12
	      SrcBlock		      "isNotImpOld"
	      SrcPort		      1
	      Points		      [120, 0]
	      DstBlock		      " SFunction "
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      13
	      SrcBlock		      "pckt"
	      SrcPort		      1
	      DstBlock		      " SFunction "
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      14
	      SrcBlock		      "q"
	      SrcPort		      1
	      DstBlock		      " SFunction "
	      DstPort		      3
	    }
	    Line {
	      ZOrder		      15
	      SrcBlock		      "time"
	      SrcPort		      1
	      DstBlock		      " SFunction "
	      DstPort		      4
	    }
	    Line {
	      Name		      "isNotImp"
	      ZOrder		      16
	      Labels		      [0, 0]
	      SrcBlock		      " SFunction "
	      SrcPort		      2
	      DstBlock		      "isNotImp"
	      DstPort		      1
	    }
	    Line {
	      Name		      "ImpData"
	      ZOrder		      17
	      Labels		      [0, 0]
	      SrcBlock		      " SFunction "
	      SrcPort		      3
	      DstBlock		      "ImpData"
	      DstPort		      1
	    }
	    Line {
	      Name		      "t_s"
	      ZOrder		      18
	      Labels		      [0, 0]
	      SrcBlock		      " SFunction "
	      SrcPort		      4
	      DstBlock		      "t_s"
	      DstPort		      1
	    }
	    Line {
	      Name		      "xi"
	      ZOrder		      19
	      Labels		      [0, 0]
	      SrcBlock		      " SFunction "
	      SrcPort		      5
	      DstBlock		      "xi"
	      DstPort		      1
	    }
	    Line {
	      Name		      "qi"
	      ZOrder		      20
	      Labels		      [0, 0]
	      SrcBlock		      " SFunction "
	      SrcPort		      6
	      DstBlock		      "qi"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      21
	      SrcBlock		      " Demux "
	      SrcPort		      1
	      DstBlock		      " Terminator "
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      22
	      SrcBlock		      " SFunction "
	      SrcPort		      1
	      DstBlock		      " Demux "
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Plan Arm Trajectory"
	  SID			  "1264"
	  Ports			  [9, 7]
	  Position		  [305, 73, 470, 247]
	  ZOrder		  -16
	  RequestExecContextInheritance	off
	  System {
	    Name		    "Plan Arm Trajectory"
	    Location		    [16, 52, 1996, 1325]
	    Open		    off
	    ModelBrowserVisibility  off
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "udp"
	      SID		      "1265"
	      Position		      [725, 883, 755, 897]
	      ZOrder		      -1
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "udp_rcvd"
	      SID		      "1266"
	      Position		      [725, 913, 755, 927]
	      ZOrder		      -2
	      Port		      "2"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "FTExp"
	      SID		      "1271"
	      Position		      [435, 653, 465, 667]
	      ZOrder		      -3
	      Port		      "3"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "impError"
	      SID		      "1674"
	      Position		      [530, 713, 560, 727]
	      ZOrder		      -4
	      Port		      "4"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "Fe"
	      SID		      "1680"
	      Position		      [1115, 433, 1145, 447]
	      ZOrder		      -5
	      Port		      "5"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "t"
	      SID		      "1267"
	      Position		      [70, 133, 100, 147]
	      ZOrder		      -6
	      Port		      "6"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "q"
	      SID		      "1268"
	      Position		      [790, 943, 820, 957]
	      ZOrder		      -7
	      Port		      "7"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "FT"
	      SID		      "1270"
	      Position		      [335, 633, 365, 647]
	      ZOrder		      -8
	      Port		      "8"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "wam_on"
	      SID		      "1269"
	      Position		      [790, 973, 820, 987]
	      ZOrder		      -9
	      Port		      "9"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Check FT"
	      SID		      "1770"
	      Ports		      [4, 5]
	      Position		      [520, 592, 645, 668]
	      ZOrder		      -10
	      ErrorFcn		      "Stateflow.Translate.translate"
	      PermitHierarchicalResolution "ExplicitOnly"
	      TreatAsAtomicUnit	      on
	      RequestExecContextInheritance off
	      SFBlockType	      "MATLAB Function"
	      System {
		Name			"Check FT"
		Location		[227, 345, 838, 789]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SIDHighWatermark	"1650"
		SIDPrevWatermark	"1641"
		Block {
		  BlockType		  Inport
		  Name			  "type"
		  SID			  "1770::1641"
		  Position		  [20, 101, 40, 119]
		  ZOrder		  -1
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "guarded"
		  SID			  "1770::1651"
		  Position		  [20, 136, 40, 154]
		  ZOrder		  -2
		  Port			  "2"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "FT"
		  SID			  "1770::1652"
		  Position		  [20, 171, 40, 189]
		  ZOrder		  -3
		  Port			  "3"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "FTExp"
		  SID			  "1770::1653"
		  Position		  [20, 206, 40, 224]
		  ZOrder		  -4
		  Port			  "4"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Demux
		  Name			  " Demux "
		  SID			  "1770::1649"
		  Ports			  [1, 1]
		  Position		  [270, 315, 320, 355]
		  ZOrder		  2
		  Outputs		  "1"
		}
		Block {
		  BlockType		  S-Function
		  Name			  " SFunction "
		  SID			  "1770::1648"
		  Tag			  "Stateflow S-Function wamjc7 4"
		  Ports			  [4, 6]
		  Position		  [180, 102, 230, 243]
		  ZOrder		  1
		  FunctionName		  "sf_sfun"
		  PortCounts		  "[4 6]"
		  EnableBusSupport	  off
		  Port {
		    PortNumber		    2
		    Name		    "FTerror"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    3
		    Name		    "InContact"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    4
		    Name		    "contact_scenario"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    5
		    Name		    "FTERR"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    6
		    Name		    "CTS"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Terminator
		  Name			  " Terminator "
		  SID			  "1770::1650"
		  Position		  [460, 326, 480, 344]
		  ZOrder		  3
		}
		Block {
		  BlockType		  Outport
		  Name			  "FTerror"
		  SID			  "1770::1654"
		  Position		  [460, 101, 480, 119]
		  ZOrder		  -8
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "InContact"
		  SID			  "1770::1655"
		  Position		  [460, 136, 480, 154]
		  ZOrder		  -9
		  Port			  "2"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "contact_scenario"
		  SID			  "1770::1656"
		  Position		  [460, 171, 480, 189]
		  ZOrder		  -10
		  Port			  "3"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "FTERR"
		  SID			  "1770::1657"
		  Position		  [460, 206, 480, 224]
		  ZOrder		  -11
		  Port			  "4"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "CTS"
		  SID			  "1770::1647"
		  Position		  [460, 246, 480, 264]
		  ZOrder		  -12
		  Port			  "5"
		  IconDisplay		  "Port number"
		}
		Line {
		  ZOrder		  12
		  SrcBlock		  "type"
		  SrcPort		  1
		  Points		  [120, 0]
		  DstBlock		  " SFunction "
		  DstPort		  1
		}
		Line {
		  ZOrder		  13
		  SrcBlock		  "guarded"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  2
		}
		Line {
		  ZOrder		  14
		  SrcBlock		  "FT"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  3
		}
		Line {
		  ZOrder		  15
		  SrcBlock		  "FTExp"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  4
		}
		Line {
		  Name			  "FTerror"
		  ZOrder		  16
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  2
		  DstBlock		  "FTerror"
		  DstPort		  1
		}
		Line {
		  Name			  "InContact"
		  ZOrder		  17
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  3
		  DstBlock		  "InContact"
		  DstPort		  1
		}
		Line {
		  Name			  "contact_scenario"
		  ZOrder		  18
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  4
		  DstBlock		  "contact_scenario"
		  DstPort		  1
		}
		Line {
		  Name			  "FTERR"
		  ZOrder		  19
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  5
		  DstBlock		  "FTERR"
		  DstPort		  1
		}
		Line {
		  Name			  "CTS"
		  ZOrder		  20
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  6
		  DstBlock		  "CTS"
		  DstPort		  1
		}
		Line {
		  ZOrder		  21
		  SrcBlock		  " Demux "
		  SrcPort		  1
		  DstBlock		  " Terminator "
		  DstPort		  1
		}
		Line {
		  ZOrder		  22
		  SrcBlock		  " SFunction "
		  SrcPort		  1
		  DstBlock		  " Demux "
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Compute parameters\nfor next step"
	      SID		      "1274"
	      Ports		      [15, 7]
	      Position		      [965, 742, 1125, 978]
	      ZOrder		      -11
	      ErrorFcn		      "Stateflow.Translate.translate"
	      PermitHierarchicalResolution "ExplicitOnly"
	      TreatAsAtomicUnit	      on
	      RequestExecContextInheritance off
	      SFBlockType	      "MATLAB Function"
	      System {
		Name			"Compute parameters\nfor next step"
		Location		[227, 345, 838, 789]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SIDHighWatermark	"1285"
		Block {
		  BlockType		  Inport
		  Name			  "qdes"
		  SID			  "1274::1274"
		  Position		  [20, 101, 40, 119]
		  ZOrder		  -1
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "joint_error"
		  SID			  "1274::1286"
		  Position		  [20, 136, 40, 154]
		  ZOrder		  -2
		  Port			  "2"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "FT_error"
		  SID			  "1274::1287"
		  Position		  [20, 171, 40, 189]
		  ZOrder		  -3
		  Port			  "3"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "traj_done"
		  SID			  "1274::1288"
		  Position		  [20, 206, 40, 224]
		  ZOrder		  -4
		  Port			  "4"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "pckt"
		  SID			  "1274::1289"
		  Position		  [20, 246, 40, 264]
		  ZOrder		  -5
		  Port			  "5"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "x0"
		  SID			  "1274::1290"
		  Position		  [20, 281, 40, 299]
		  ZOrder		  -6
		  Port			  "6"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "tstart"
		  SID			  "1274::1291"
		  Position		  [20, 316, 40, 334]
		  ZOrder		  -7
		  Port			  "7"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "t"
		  SID			  "1274::1292"
		  Position		  [20, 351, 40, 369]
		  ZOrder		  -8
		  Port			  "8"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "queue_empty"
		  SID			  "1274::1293"
		  Position		  [20, 386, 40, 404]
		  ZOrder		  -9
		  Port			  "9"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "udp"
		  SID			  "1274::1294"
		  Position		  [20, 426, 40, 444]
		  ZOrder		  -10
		  Port			  "10"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "udp_rcvd"
		  SID			  "1274::1295"
		  Position		  [20, 461, 40, 479]
		  ZOrder		  -11
		  Port			  "11"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "q"
		  SID			  "1274::1296"
		  Position		  [20, 496, 40, 514]
		  ZOrder		  -12
		  Port			  "12"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "wam_on"
		  SID			  "1274::1297"
		  Position		  [20, 531, 40, 549]
		  ZOrder		  -13
		  Port			  "13"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "wam_flip"
		  SID			  "1274::1298"
		  Position		  [20, 566, 40, 584]
		  ZOrder		  -14
		  Port			  "14"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "home"
		  SID			  "1274::1299"
		  Position		  [20, 606, 40, 624]
		  ZOrder		  -15
		  Port			  "15"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Demux
		  Name			  " Demux "
		  SID			  "1274::1284"
		  Ports			  [1, 1]
		  Position		  [270, 390, 320, 430]
		  ZOrder		  2
		  Outputs		  "1"
		}
		Block {
		  BlockType		  S-Function
		  Name			  " SFunction "
		  SID			  "1274::1283"
		  Tag			  "Stateflow S-Function wamjc7 5"
		  Ports			  [15, 8]
		  Position		  [180, 85, 230, 405]
		  ZOrder		  1
		  FunctionName		  "sf_sfun"
		  PortCounts		  "[15 8]"
		  EnableBusSupport	  off
		  Port {
		    PortNumber		    2
		    Name		    "queue_in"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    3
		    Name		    "push"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    4
		    Name		    "pop"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    5
		    Name		    "rst"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    6
		    Name		    "pckt_new"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    7
		    Name		    "x0_new"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    8
		    Name		    "tstart_new"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Terminator
		  Name			  " Terminator "
		  SID			  "1274::1285"
		  Position		  [460, 401, 480, 419]
		  ZOrder		  3
		}
		Block {
		  BlockType		  Outport
		  Name			  "queue_in"
		  SID			  "1274::1300"
		  Position		  [460, 101, 480, 119]
		  ZOrder		  -19
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "push"
		  SID			  "1274::1301"
		  Position		  [460, 136, 480, 154]
		  ZOrder		  -20
		  Port			  "2"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "pop"
		  SID			  "1274::1302"
		  Position		  [460, 171, 480, 189]
		  ZOrder		  -21
		  Port			  "3"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "rst"
		  SID			  "1274::1303"
		  Position		  [460, 206, 480, 224]
		  ZOrder		  -22
		  Port			  "4"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "pckt_new"
		  SID			  "1274::1304"
		  Position		  [460, 246, 480, 264]
		  ZOrder		  -23
		  Port			  "5"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "x0_new"
		  SID			  "1274::1305"
		  Position		  [460, 281, 480, 299]
		  ZOrder		  -24
		  Port			  "6"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "tstart_new"
		  SID			  "1274::1306"
		  Position		  [460, 316, 480, 334]
		  ZOrder		  -25
		  Port			  "7"
		  IconDisplay		  "Port number"
		}
		Line {
		  ZOrder		  25
		  SrcBlock		  "qdes"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  1
		}
		Line {
		  ZOrder		  26
		  SrcBlock		  "joint_error"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  2
		}
		Line {
		  ZOrder		  27
		  SrcBlock		  "FT_error"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  3
		}
		Line {
		  ZOrder		  28
		  SrcBlock		  "traj_done"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  4
		}
		Line {
		  ZOrder		  29
		  SrcBlock		  "pckt"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  5
		}
		Line {
		  ZOrder		  30
		  SrcBlock		  "x0"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  6
		}
		Line {
		  ZOrder		  31
		  SrcBlock		  "tstart"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  7
		}
		Line {
		  ZOrder		  32
		  SrcBlock		  "t"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  8
		}
		Line {
		  ZOrder		  33
		  SrcBlock		  "queue_empty"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  9
		}
		Line {
		  ZOrder		  34
		  SrcBlock		  "udp"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  10
		}
		Line {
		  ZOrder		  35
		  SrcBlock		  "udp_rcvd"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  11
		}
		Line {
		  ZOrder		  36
		  SrcBlock		  "q"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  12
		}
		Line {
		  ZOrder		  37
		  SrcBlock		  "wam_on"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  13
		}
		Line {
		  ZOrder		  38
		  SrcBlock		  "wam_flip"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  14
		}
		Line {
		  ZOrder		  39
		  SrcBlock		  "home"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  15
		}
		Line {
		  Name			  "queue_in"
		  ZOrder		  40
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  2
		  DstBlock		  "queue_in"
		  DstPort		  1
		}
		Line {
		  Name			  "push"
		  ZOrder		  41
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  3
		  DstBlock		  "push"
		  DstPort		  1
		}
		Line {
		  Name			  "pop"
		  ZOrder		  42
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  4
		  DstBlock		  "pop"
		  DstPort		  1
		}
		Line {
		  Name			  "rst"
		  ZOrder		  43
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  5
		  DstBlock		  "rst"
		  DstPort		  1
		}
		Line {
		  Name			  "pckt_new"
		  ZOrder		  44
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  6
		  DstBlock		  "pckt_new"
		  DstPort		  1
		}
		Line {
		  Name			  "x0_new"
		  ZOrder		  45
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  7
		  DstBlock		  "x0_new"
		  DstPort		  1
		}
		Line {
		  Name			  "tstart_new"
		  ZOrder		  46
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  8
		  DstBlock		  "tstart_new"
		  DstPort		  1
		}
		Line {
		  ZOrder		  47
		  SrcBlock		  " Demux "
		  SrcPort		  1
		  DstBlock		  " Terminator "
		  DstPort		  1
		}
		Line {
		  ZOrder		  48
		  SrcBlock		  " SFunction "
		  SrcPort		  1
		  DstBlock		  " Demux "
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Compute qdes,qddes"
	      SID		      "1275"
	      Ports		      [11, 6]
	      Position		      [935, 99, 1080, 271]
	      ZOrder		      -12
	      ErrorFcn		      "Stateflow.Translate.translate"
	      PermitHierarchicalResolution "ExplicitOnly"
	      TreatAsAtomicUnit	      on
	      RequestExecContextInheritance off
	      SFBlockType	      "MATLAB Function"
	      System {
		Name			"Compute qdes,qddes"
		Location		[227, 345, 838, 789]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SIDHighWatermark	"1286"
		Block {
		  BlockType		  Inport
		  Name			  "qdes_last"
		  SID			  "1275::1275"
		  Position		  [20, 101, 40, 119]
		  ZOrder		  -1
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "qddes_last"
		  SID			  "1275::1287"
		  Position		  [20, 136, 40, 154]
		  ZOrder		  -2
		  Port			  "2"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "hand_on"
		  SID			  "1275::1288"
		  Position		  [20, 171, 40, 189]
		  ZOrder		  -3
		  Port			  "3"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "sample_time"
		  SID			  "1275::1289"
		  Position		  [20, 206, 40, 224]
		  ZOrder		  -4
		  Port			  "4"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "xdes"
		  SID			  "1275::1290"
		  Position		  [20, 246, 40, 264]
		  ZOrder		  -5
		  Port			  "5"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "xddes"
		  SID			  "1275::1291"
		  Position		  [20, 281, 40, 299]
		  ZOrder		  -6
		  Port			  "6"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "Tdes"
		  SID			  "1275::1292"
		  Position		  [20, 316, 40, 334]
		  ZOrder		  -7
		  Port			  "7"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "pos"
		  SID			  "1275::1293"
		  Position		  [20, 351, 40, 369]
		  ZOrder		  -8
		  Port			  "8"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "type"
		  SID			  "1275::1294"
		  Position		  [20, 386, 40, 404]
		  ZOrder		  -9
		  Port			  "9"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "q"
		  SID			  "1275::1295"
		  Position		  [20, 426, 40, 444]
		  ZOrder		  -10
		  Port			  "10"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "FT"
		  SID			  "1275::1296"
		  Position		  [20, 461, 40, 479]
		  ZOrder		  -11
		  Port			  "11"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Demux
		  Name			  " Demux "
		  SID			  "1275::1285"
		  Ports			  [1, 1]
		  Position		  [270, 350, 320, 390]
		  ZOrder		  2
		  Outputs		  "1"
		}
		Block {
		  BlockType		  S-Function
		  Name			  " SFunction "
		  SID			  "1275::1284"
		  Tag			  "Stateflow S-Function wamjc7 6"
		  Ports			  [11, 7]
		  Position		  [180, 95, 230, 335]
		  ZOrder		  1
		  FunctionName		  "sf_sfun"
		  PortCounts		  "[11 7]"
		  EnableBusSupport	  off
		  Port {
		    PortNumber		    2
		    Name		    "wdes"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    3
		    Name		    "wddes"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    4
		    Name		    "qdes"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    5
		    Name		    "qddes"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    6
		    Name		    "qdddes"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    7
		    Name		    "error"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Terminator
		  Name			  " Terminator "
		  SID			  "1275::1286"
		  Position		  [460, 361, 480, 379]
		  ZOrder		  3
		}
		Block {
		  BlockType		  Outport
		  Name			  "wdes"
		  SID			  "1275::1297"
		  Position		  [460, 101, 480, 119]
		  ZOrder		  -15
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "wddes"
		  SID			  "1275::1298"
		  Position		  [460, 136, 480, 154]
		  ZOrder		  -16
		  Port			  "2"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "qdes"
		  SID			  "1275::1299"
		  Position		  [460, 171, 480, 189]
		  ZOrder		  -17
		  Port			  "3"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "qddes"
		  SID			  "1275::1300"
		  Position		  [460, 206, 480, 224]
		  ZOrder		  -18
		  Port			  "4"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "qdddes"
		  SID			  "1275::1301"
		  Position		  [460, 246, 480, 264]
		  ZOrder		  -19
		  Port			  "5"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "error"
		  SID			  "1275::1302"
		  Position		  [460, 281, 480, 299]
		  ZOrder		  -20
		  Port			  "6"
		  IconDisplay		  "Port number"
		}
		Line {
		  ZOrder		  20
		  SrcBlock		  "qdes_last"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  1
		}
		Line {
		  ZOrder		  21
		  SrcBlock		  "qddes_last"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  2
		}
		Line {
		  ZOrder		  22
		  SrcBlock		  "hand_on"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  3
		}
		Line {
		  ZOrder		  23
		  SrcBlock		  "sample_time"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  4
		}
		Line {
		  ZOrder		  24
		  SrcBlock		  "xdes"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  5
		}
		Line {
		  ZOrder		  25
		  SrcBlock		  "xddes"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  6
		}
		Line {
		  ZOrder		  26
		  SrcBlock		  "Tdes"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  7
		}
		Line {
		  ZOrder		  27
		  SrcBlock		  "pos"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  8
		}
		Line {
		  ZOrder		  28
		  SrcBlock		  "type"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  9
		}
		Line {
		  ZOrder		  29
		  SrcBlock		  "q"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  10
		}
		Line {
		  ZOrder		  30
		  SrcBlock		  "FT"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  11
		}
		Line {
		  Name			  "wdes"
		  ZOrder		  31
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  2
		  Points		  [0, -35]
		  DstBlock		  "wdes"
		  DstPort		  1
		}
		Line {
		  Name			  "wddes"
		  ZOrder		  32
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  3
		  DstBlock		  "wddes"
		  DstPort		  1
		}
		Line {
		  Name			  "qdes"
		  ZOrder		  33
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  4
		  DstBlock		  "qdes"
		  DstPort		  1
		}
		Line {
		  Name			  "qddes"
		  ZOrder		  34
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  5
		  DstBlock		  "qddes"
		  DstPort		  1
		}
		Line {
		  Name			  "qdddes"
		  ZOrder		  35
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  6
		  DstBlock		  "qdddes"
		  DstPort		  1
		}
		Line {
		  Name			  "error"
		  ZOrder		  36
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  7
		  DstBlock		  "error"
		  DstPort		  1
		}
		Line {
		  ZOrder		  37
		  SrcBlock		  " Demux "
		  SrcPort		  1
		  DstBlock		  " Terminator "
		  DstPort		  1
		}
		Line {
		  ZOrder		  38
		  SrcBlock		  " SFunction "
		  SrcPort		  1
		  DstBlock		  " Demux "
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant"
	      SID		      "1276"
	      Position		      [640, 103, 730, 117]
	      ZOrder		      -13
	      ShowName		      off
	      Value		      "sample_time"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant1"
	      SID		      "1277"
	      Position		      [190, 192, 280, 218]
	      ZOrder		      -14
	      ShowName		      off
	      Value		      "hand_on"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant2"
	      SID		      "1278"
	      Position		      [760, 1002, 850, 1028]
	      ZOrder		      -15
	      ShowName		      off
	      Value		      "arm_home_norest"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Constant3"
	      SID		      "1279"
	      Position		      [640, 83, 730, 97]
	      ZOrder		      -16
	      ShowName		      off
	      Value		      "hand_on"
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux1"
	      SID		      "1281"
	      Ports		      [1, 2]
	      Position		      [1025, 361, 1030, 379]
	      ZOrder		      -17
	      ShowName		      off
	      Outputs		      "[3 4]"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux2"
	      SID		      "1636"
	      Ports		      [1, 2]
	      Position		      [963, 465, 992, 470]
	      ZOrder		      -18
	      BlockRotation	      270
	      ShowName		      off
	      Outputs		      "[1 2]"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux3"
	      SID		      "1769"
	      Ports		      [1, 2]
	      Position		      [975, 341, 980, 359]
	      ZOrder		      -19
	      ShowName		      off
	      Outputs		      "[3 4]"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Detect Change"
	      SID		      "1282"
	      Ports		      [1, 1]
	      Position		      [870, 941, 910, 959]
	      ZOrder		      -20
	      LibraryVersion	      "1.256"
	      SourceBlock	      "simulink/Logic and Bit\nOperations/Detect\nChange"
	      SourceType	      "Detect Change"
	      vinit		      "0"
	      InputProcessing	      "Inherited"
	      OutDataTypeStr	      "uint8"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Determine parameters"
	      SID		      "1283"
	      Ports		      [5, 8]
	      Position		      [325, 161, 470, 294]
	      ZOrder		      -21
	      ErrorFcn		      "Stateflow.Translate.translate"
	      PermitHierarchicalResolution "ExplicitOnly"
	      TreatAsAtomicUnit	      on
	      RequestExecContextInheritance off
	      SFBlockType	      "MATLAB Function"
	      System {
		Name			"Determine parameters"
		Location		[227, 345, 838, 789]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SIDHighWatermark	"1294"
		Block {
		  BlockType		  Inport
		  Name			  "dt"
		  SID			  "1283::1283"
		  Position		  [20, 101, 40, 119]
		  ZOrder		  -1
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "hand_on"
		  SID			  "1283::1295"
		  Position		  [20, 136, 40, 154]
		  ZOrder		  -2
		  Port			  "2"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "x0_in"
		  SID			  "1283::1296"
		  Position		  [20, 171, 40, 189]
		  ZOrder		  -3
		  Port			  "3"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "pckt"
		  SID			  "1283::1297"
		  Position		  [20, 206, 40, 224]
		  ZOrder		  -4
		  Port			  "4"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "FT"
		  SID			  "1283::1298"
		  Position		  [20, 246, 40, 264]
		  ZOrder		  -5
		  Port			  "5"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Demux
		  Name			  " Demux "
		  SID			  "1283::1293"
		  Ports			  [1, 1]
		  Position		  [270, 425, 320, 465]
		  ZOrder		  2
		  Outputs		  "1"
		}
		Block {
		  BlockType		  S-Function
		  Name			  " SFunction "
		  SID			  "1283::1292"
		  Tag			  "Stateflow S-Function wamjc7 8"
		  Ports			  [5, 9]
		  Position		  [180, 100, 230, 300]
		  ZOrder		  1
		  FunctionName		  "sf_sfun"
		  PortCounts		  "[5 9]"
		  EnableBusSupport	  off
		  Port {
		    PortNumber		    2
		    Name		    "x0"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    3
		    Name		    "xf"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    4
		    Name		    "acc"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    5
		    Name		    "vel"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    6
		    Name		    "Tdes"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    7
		    Name		    "pos"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    8
		    Name		    "type"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    9
		    Name		    "guarded"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Terminator
		  Name			  " Terminator "
		  SID			  "1283::1294"
		  Position		  [460, 436, 480, 454]
		  ZOrder		  3
		}
		Block {
		  BlockType		  Outport
		  Name			  "x0"
		  SID			  "1283::1299"
		  Position		  [460, 101, 480, 119]
		  ZOrder		  -9
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "xf"
		  SID			  "1283::1300"
		  Position		  [460, 136, 480, 154]
		  ZOrder		  -10
		  Port			  "2"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "acc"
		  SID			  "1283::1301"
		  Position		  [460, 171, 480, 189]
		  ZOrder		  -11
		  Port			  "3"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "vel"
		  SID			  "1283::1302"
		  Position		  [460, 206, 480, 224]
		  ZOrder		  -12
		  Port			  "4"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Tdes"
		  SID			  "1283::1303"
		  Position		  [460, 246, 480, 264]
		  ZOrder		  -13
		  Port			  "5"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "pos"
		  SID			  "1283::1304"
		  Position		  [460, 281, 480, 299]
		  ZOrder		  -14
		  Port			  "6"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "type"
		  SID			  "1283::1305"
		  Position		  [460, 316, 480, 334]
		  ZOrder		  -15
		  Port			  "7"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "guarded"
		  SID			  "1283::1306"
		  Position		  [460, 351, 480, 369]
		  ZOrder		  -16
		  Port			  "8"
		  IconDisplay		  "Port number"
		}
		Line {
		  ZOrder		  16
		  SrcBlock		  "dt"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  1
		}
		Line {
		  ZOrder		  17
		  SrcBlock		  "hand_on"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  2
		}
		Line {
		  ZOrder		  18
		  SrcBlock		  "x0_in"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  3
		}
		Line {
		  ZOrder		  19
		  SrcBlock		  "pckt"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  4
		}
		Line {
		  ZOrder		  20
		  SrcBlock		  "FT"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  5
		}
		Line {
		  Name			  "x0"
		  ZOrder		  21
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  2
		  DstBlock		  "x0"
		  DstPort		  1
		}
		Line {
		  Name			  "xf"
		  ZOrder		  22
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  3
		  DstBlock		  "xf"
		  DstPort		  1
		}
		Line {
		  Name			  "acc"
		  ZOrder		  23
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  4
		  DstBlock		  "acc"
		  DstPort		  1
		}
		Line {
		  Name			  "vel"
		  ZOrder		  24
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  5
		  DstBlock		  "vel"
		  DstPort		  1
		}
		Line {
		  Name			  "Tdes"
		  ZOrder		  25
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  6
		  DstBlock		  "Tdes"
		  DstPort		  1
		}
		Line {
		  Name			  "pos"
		  ZOrder		  26
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  7
		  DstBlock		  "pos"
		  DstPort		  1
		}
		Line {
		  Name			  "type"
		  ZOrder		  27
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  8
		  DstBlock		  "type"
		  DstPort		  1
		}
		Line {
		  Name			  "guarded"
		  ZOrder		  28
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  9
		  DstBlock		  "guarded"
		  DstPort		  1
		}
		Line {
		  ZOrder		  29
		  SrcBlock		  " Demux "
		  SrcPort		  1
		  DstBlock		  " Terminator "
		  DstPort		  1
		}
		Line {
		  ZOrder		  30
		  SrcBlock		  " SFunction "
		  SrcPort		  1
		  Points		  [20, 0]
		  DstBlock		  " Demux "
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Embedded\nMATLAB Function"
	      SID		      "1771"
	      Ports		      [3, 2]
	      Position		      [745, 592, 835, 648]
	      ZOrder		      -22
	      ShowName		      off
	      LibraryVersion	      "1.31"
	      ErrorFcn		      "Stateflow.Translate.translate"
	      PermitHierarchicalResolution "ExplicitOnly"
	      TreatAsAtomicUnit	      on
	      RequestExecContextInheritance off
	      SFBlockType	      "MATLAB Function"
	      System {
		Name			"Embedded\nMATLAB Function"
		Location		[227, 345, 838, 789]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SIDHighWatermark	"1642"
		SIDPrevWatermark	"1635"
		Block {
		  BlockType		  Inport
		  Name			  "FTError"
		  SID			  "1771::1635"
		  Position		  [20, 101, 40, 119]
		  ZOrder		  -1
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "contact_or_not"
		  SID			  "1771::1643"
		  Position		  [20, 136, 40, 154]
		  ZOrder		  -2
		  Port			  "2"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "contact_scenario"
		  SID			  "1771::1644"
		  Position		  [20, 171, 40, 189]
		  ZOrder		  -3
		  Port			  "3"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Demux
		  Name			  " Demux "
		  SID			  "1771::1641"
		  Ports			  [1, 1]
		  Position		  [270, 230, 320, 270]
		  ZOrder		  2
		  Outputs		  "1"
		}
		Block {
		  BlockType		  S-Function
		  Name			  " SFunction "
		  SID			  "1771::1640"
		  Tag			  "Stateflow S-Function wamjc7 28"
		  Ports			  [3, 3]
		  Position		  [180, 100, 230, 180]
		  ZOrder		  1
		  FunctionName		  "sf_sfun"
		  PortCounts		  "[3 3]"
		  EnableBusSupport	  off
		  Port {
		    PortNumber		    2
		    Name		    "Eout"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    3
		    Name		    "Cout"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Terminator
		  Name			  " Terminator "
		  SID			  "1771::1642"
		  Position		  [460, 241, 480, 259]
		  ZOrder		  3
		}
		Block {
		  BlockType		  Outport
		  Name			  "Eout"
		  SID			  "1771::1645"
		  Position		  [460, 101, 480, 119]
		  ZOrder		  -7
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Cout"
		  SID			  "1771::1646"
		  Position		  [460, 136, 480, 154]
		  ZOrder		  -8
		  Port			  "2"
		  IconDisplay		  "Port number"
		}
		Line {
		  ZOrder		  8
		  SrcBlock		  "FTError"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  1
		}
		Line {
		  ZOrder		  9
		  SrcBlock		  "contact_or_not"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  2
		}
		Line {
		  ZOrder		  10
		  SrcBlock		  "contact_scenario"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  3
		}
		Line {
		  Name			  "Eout"
		  ZOrder		  11
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  2
		  DstBlock		  "Eout"
		  DstPort		  1
		}
		Line {
		  Name			  "Cout"
		  ZOrder		  12
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  3
		  DstBlock		  "Cout"
		  DstPort		  1
		}
		Line {
		  ZOrder		  13
		  SrcBlock		  " Demux "
		  SrcPort		  1
		  DstBlock		  " Terminator "
		  DstPort		  1
		}
		Line {
		  ZOrder		  14
		  SrcBlock		  " SFunction "
		  SrcPort		  1
		  DstBlock		  " Demux "
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Embedded\nMATLAB Function1"
	      SID		      "1678"
	      Ports		      [3, 1]
	      Position		      [625, 694, 710, 726]
	      ZOrder		      -23
	      ShowName		      off
	      LibraryVersion	      "1.31"
	      ErrorFcn		      "Stateflow.Translate.translate"
	      PermitHierarchicalResolution "ExplicitOnly"
	      TreatAsAtomicUnit	      on
	      RequestExecContextInheritance off
	      SFBlockType	      "MATLAB Function"
	      System {
		Name			"Embedded\nMATLAB Function1"
		Location		[227, 345, 838, 789]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SIDHighWatermark	"1686"
		SIDPrevWatermark	"17"
		Block {
		  BlockType		  Inport
		  Name			  "InContact"
		  SID			  "1678::1683"
		  Position		  [20, 101, 40, 119]
		  ZOrder		  -1
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "FTerr"
		  SID			  "1678::1678"
		  Position		  [20, 136, 40, 154]
		  ZOrder		  -2
		  Port			  "2"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "ImpErr"
		  SID			  "1678::1687"
		  Position		  [20, 171, 40, 189]
		  ZOrder		  -3
		  Port			  "3"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Demux
		  Name			  " Demux "
		  SID			  "1678::1685"
		  Ports			  [1, 1]
		  Position		  [270, 230, 320, 270]
		  ZOrder		  2
		  Outputs		  "1"
		}
		Block {
		  BlockType		  S-Function
		  Name			  " SFunction "
		  SID			  "1678::1684"
		  Tag			  "Stateflow S-Function wamjc7 31"
		  Ports			  [3, 2]
		  Position		  [180, 100, 230, 180]
		  ZOrder		  1
		  FunctionName		  "sf_sfun"
		  PortCounts		  "[3 2]"
		  EnableBusSupport	  off
		  Port {
		    PortNumber		    2
		    Name		    "ImpErrOut"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Terminator
		  Name			  " Terminator "
		  SID			  "1678::1686"
		  Position		  [460, 241, 480, 259]
		  ZOrder		  3
		}
		Block {
		  BlockType		  Outport
		  Name			  "ImpErrOut"
		  SID			  "1678::1688"
		  Position		  [460, 101, 480, 119]
		  ZOrder		  -7
		  IconDisplay		  "Port number"
		}
		Line {
		  ZOrder		  7
		  SrcBlock		  "InContact"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  1
		}
		Line {
		  ZOrder		  8
		  SrcBlock		  "FTerr"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  2
		}
		Line {
		  ZOrder		  9
		  SrcBlock		  "ImpErr"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  3
		}
		Line {
		  Name			  "ImpErrOut"
		  ZOrder		  10
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  2
		  DstBlock		  "ImpErrOut"
		  DstPort		  1
		}
		Line {
		  ZOrder		  11
		  SrcBlock		  " Demux "
		  SrcPort		  1
		  DstBlock		  " Terminator "
		  DstPort		  1
		}
		Line {
		  ZOrder		  12
		  SrcBlock		  " SFunction "
		  SrcPort		  1
		  Points		  [20, 0]
		  DstBlock		  " Demux "
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Error Scope"
	      SID		      "1285"
	      Ports		      [1]
	      Position		      [1160, 248, 1235, 292]
	      ZOrder		      -24
	      LibraryVersion	      "1.1706"
	      SourceBlock	      "xpclib/Misc./Scope (xPC) "
	      SourceType	      "xpcscopeblock"
	      scopeno		      "1"
	      scopetype		      "Target"
	      autostart		      on
	      viewmode		      "Numerical"
	      formatstr		      "['x_err %10.5f m,y_err %10.5f m,z_err %10.5f m,rx_err %10.5f,ry_err %10.5f,rz_err %10.5f,dt %"
	      "10.5f']"
	      grid		      on
	      ylimits		      "[0,0]"
	      nosamples		      "1/(10*sample_time)"
	      noprepostsamples	      "0"
	      interleave	      "1"
	      triggermode	      "FreeRun"
	      triggersignal	      "1"
	      triggerlevel	      "0.0"
	      triggerslope	      "Either"
	      triggerscope	      "1"
	      triggersample	      "0"
	      filename		      "data.dat"
	      mode		      "Lazy"
	      writesize		      "512"
	      autorestart	      off
	      dynamicfilemode	      off
	      maxwritefilesize	      "512*1024^2"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      SID		      "1288"
	      Ports		      [3, 1]
	      Position		      [1650, 231, 1655, 269]
	      ZOrder		      -25
	      ShowName		      off
	      Inputs		      "[7 7 7]"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux1"
	      SID		      "1289"
	      Ports		      [2, 1]
	      Position		      [1130, 250, 1135, 290]
	      ZOrder		      -26
	      ShowName		      off
	      Inputs		      "[6 1]"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux2"
	      SID		      "1290"
	      Ports		      [11, 1]
	      Position		      [1195, 314, 1200, 476]
	      ZOrder		      -27
	      ShowName		      off
	      Inputs		      "[6 1 3 3 1 2 1 1 6 2 2]"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux4"
	      SID		      "1292"
	      Ports		      [2, 1]
	      Position		      [765, 465, 770, 505]
	      ZOrder		      -28
	      Inputs		      "[1 1]"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux5"
	      SID		      "1619"
	      Ports		      [2, 1]
	      Position		      [580, 745, 585, 800]
	      ZOrder		      -29
	      ShowName		      off
	      Inputs		      "[4 2]"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Queue"
	      SID		      "1294"
	      Ports		      [4, 2]
	      Position		      [1250, 744, 1345, 811]
	      ZOrder		      -30
	      LibraryVersion	      "1.412"
	      SourceBlock	      "dspbuff3/Queue"
	      SourceType	      "Queue"
	      depth		      "1"
	      trigger		      "Non-zero sample"
	      overflow		      "Ignore"
	      pes		      "Warning"
	      eso		      on
	      fso		      off
	      nso		      off
	      clr		      on
	      clrOutport	      off
	      adf		      on
	    }
	    Block {
	      BlockType		      DataStoreRead
	      Name		      "Read pckt"
	      SID		      "1295"
	      Ports		      [0, 1]
	      Position		      [250, 240, 280, 270]
	      ZOrder		      -31
	      DataStoreName	      "pckt"
	    }
	    Block {
	      BlockType		      DataStoreRead
	      Name		      "Read tstart"
	      SID		      "1296"
	      Ports		      [0, 1]
	      Position		      [125, 180, 155, 210]
	      ZOrder		      -32
	      DataStoreName	      "tstart"
	    }
	    Block {
	      BlockType		      DataStoreRead
	      Name		      "Read x0"
	      SID		      "1297"
	      Ports		      [0, 1]
	      Position		      [190, 230, 220, 260]
	      ZOrder		      -33
	      DataStoreName	      "x0"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Scope (xPC) 1"
	      SID		      "1298"
	      Ports		      [1]
	      Position		      [1700, 220, 1790, 280]
	      ZOrder		      -34
	      LibraryVersion	      "1.1706"
	      SourceBlock	      "xpclib/Misc./Scope (xPC) "
	      SourceType	      "xpcscopeblock"
	      scopeno		      "2"
	      scopetype		      "File"
	      autostart		      on
	      viewmode		      "Graphical redraw"
	      formatstr		      "'%15.6f'"
	      grid		      on
	      ylimits		      "[0,0]"
	      nosamples		      "250"
	      noprepostsamples	      "0"
	      interleave	      "1"
	      triggermode	      "FreeRun"
	      triggersignal	      "1"
	      triggerlevel	      "0.0"
	      triggerslope	      "Either"
	      triggerscope	      "1"
	      triggersample	      "0"
	      filename		      "Qdes<%%%>.dat"
	      mode		      "Lazy"
	      writesize		      "512"
	      autorestart	      on
	      dynamicfilemode	      on
	      maxwritefilesize	      "512*1024^2"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Scope (xPC) 2"
	      SID		      "1299"
	      Ports		      [1]
	      Position		      [1525, 360, 1615, 420]
	      ZOrder		      -35
	      LibraryVersion	      "1.1706"
	      SourceBlock	      "xpclib/Misc./Scope (xPC) "
	      SourceType	      "xpcscopeblock"
	      scopeno		      "4"
	      scopetype		      "File"
	      autostart		      on
	      viewmode		      "Graphical redraw"
	      formatstr		      "'%15.6f'"
	      grid		      on
	      ylimits		      "[0,0]"
	      nosamples		      "250"
	      noprepostsamples	      "0"
	      interleave	      "1"
	      triggermode	      "FreeRun"
	      triggersignal	      "1"
	      triggerlevel	      "0.0"
	      triggerslope	      "Either"
	      triggerscope	      "1"
	      triggersample	      "0"
	      filename		      "ERROR<%%%>.dat"
	      mode		      "Lazy"
	      writesize		      "512"
	      autorestart	      on
	      dynamicfilemode	      on
	      maxwritefilesize	      "512*1024^2"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Scope (xPC) 3"
	      SID		      "1620"
	      Ports		      [1]
	      Position		      [605, 759, 670, 791]
	      ZOrder		      -36
	      LibraryVersion	      "1.1706"
	      SourceBlock	      "xpclib/Misc./Scope (xPC) "
	      SourceType	      "xpcscopeblock"
	      scopeno		      "6"
	      scopetype		      "Target"
	      autostart		      on
	      viewmode		      "Numerical"
	      formatstr		      "'Guard %15.6f,STime %15.6f,AdjType %15.6f,Squeeze %15.6,GripF %15.6f,GripW %15.6f'"
	      grid		      on
	      ylimits		      "[0,0]"
	      nosamples		      "250"
	      noprepostsamples	      "0"
	      interleave	      "1"
	      triggermode	      "FreeRun"
	      triggersignal	      "1"
	      triggerlevel	      "0.0"
	      triggerslope	      "Either"
	      triggerscope	      "1"
	      triggersample	      "0"
	      filename		      "ERROR<%%%>1.dat"
	      mode		      "Lazy"
	      writesize		      "512"
	      autorestart	      on
	      dynamicfilemode	      on
	      maxwritefilesize	      "512*1024^2"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Scope (xPC) 4"
	      SID		      "1301"
	      Ports		      [1]
	      Position		      [790, 732, 860, 768]
	      ZOrder		      -37
	      LibraryVersion	      "1.1706"
	      SourceBlock	      "xpclib/Misc./Scope (xPC) "
	      SourceType	      "xpcscopeblock"
	      scopeno		      "7"
	      scopetype		      "Target"
	      autostart		      on
	      viewmode		      "Numerical"
	      formatstr		      "'%15.6f'"
	      grid		      on
	      ylimits		      "[0,0]"
	      nosamples		      "250"
	      noprepostsamples	      "0"
	      interleave	      "1"
	      triggermode	      "FreeRun"
	      triggersignal	      "1"
	      triggerlevel	      "0.0"
	      triggerslope	      "Either"
	      triggerscope	      "1"
	      triggersample	      "0"
	      filename		      "ERROR<%%%>1.dat"
	      mode		      "Lazy"
	      writesize		      "512"
	      autorestart	      on
	      dynamicfilemode	      on
	      maxwritefilesize	      "512*1024^2"
	    }
	    Block {
	      BlockType		      Selector
	      Name		      "Selector"
	      SID		      "1621"
	      Ports		      [1, 1]
	      Position		      [435, 777, 490, 793]
	      ZOrder		      -38
	      InputPortWidth	      "10"
	      Indices		      "[7,8]"
	    }
	    Block {
	      BlockType		      Selector
	      Name		      "Selector1"
	      SID		      "1622"
	      Ports		      [1, 1]
	      Position		      [525, 752, 560, 768]
	      ZOrder		      -39
	      InputPortWidth	      "5"
	      Indices		      "[1,2,4,5]"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Send Execution Result"
	      SID		      "1772"
	      Ports		      [4]
	      Position		      [1160, 571, 1265, 664]
	      ZOrder		      -40
	      LibraryVersion	      "1.216"
	      TreatAsAtomicUnit	      on
	      RequestExecContextInheritance off
	      System {
		Name			"Send Execution Result"
		Location		[286, 265, 1183, 915]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Done"
		  SID			  "1774"
		  Position		  [55, 58, 85, 72]
		  ZOrder		  -1
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "Execution Status"
		  SID			  "1775"
		  Position		  [55, 208, 85, 222]
		  ZOrder		  -2
		  Port			  "2"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "Contact"
		  SID			  "1776"
		  Position		  [55, 283, 85, 297]
		  ZOrder		  -3
		  Port			  "3"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "t"
		  SID			  "1777"
		  Position		  [55, 358, 85, 372]
		  ZOrder		  -4
		  Port			  "4"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Detect\nChange"
		  SID			  "1778"
		  Ports			  [1, 1]
		  Position		  [175, 134, 225, 146]
		  ZOrder		  -5
		  LibraryVersion	  "1.256"
		  SourceBlock		  "simulink/Logic and Bit\nOperations/Detect\nChange"
		  SourceType		  "Detect Change"
		  vinit			  "0"
		  InputProcessing	  "Inherited"
		  OutDataTypeStr	  "uint8"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Determine Execution Result"
		  SID			  "1779"
		  Ports			  [5, 2]
		  Position		  [350, 31, 565, 399]
		  ZOrder		  -6
		  LibraryVersion	  "1.31"
		  ErrorFcn		  "Stateflow.Translate.translate"
		  PermitHierarchicalResolution "ExplicitOnly"
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  SFBlockType		  "MATLAB Function"
		  System {
		    Name		    "Determine Execution Result"
		    Location		    [227, 345, 838, 789]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    SIDHighWatermark	    "1638"
		    Block {
		    BlockType		    Inport
		    Name		    "Done"
		    SID			    "1779::1629"
		    Position		    [20, 101, 40, 119]
		    ZOrder		    -1
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "DoneChanged"
		    SID			    "1779::1639"
		    Position		    [20, 136, 40, 154]
		    ZOrder		    -2
		    Port		    "2"
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "ExecutionStatus"
		    SID			    "1779::1640"
		    Position		    [20, 171, 40, 189]
		    ZOrder		    -3
		    Port		    "3"
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "contact"
		    SID			    "1779::1641"
		    Position		    [20, 206, 40, 224]
		    ZOrder		    -4
		    Port		    "4"
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "t"
		    SID			    "1779::1630"
		    Position		    [20, 246, 40, 264]
		    ZOrder		    -5
		    Port		    "5"
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Demux
		    Name		    " Demux "
		    SID			    "1779::1637"
		    Ports		    [1, 1]
		    Position		    [270, 230, 320, 270]
		    ZOrder		    2
		    Outputs		    "1"
		    }
		    Block {
		    BlockType		    S-Function
		    Name		    " SFunction "
		    SID			    "1779::1636"
		    Tag			    "Stateflow S-Function wamjc7 12"
		    Ports		    [5, 3]
		    Position		    [180, 100, 230, 220]
		    ZOrder		    1
		    FunctionName	    "sf_sfun"
		    PortCounts		    "[5 3]"
		    EnableBusSupport	    off
		    Port {
		    PortNumber		    2
		    Name		    "sendPacket"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    Port {
		    PortNumber		    3
		    Name		    "result"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Terminator
		    Name		    " Terminator "
		    SID			    "1779::1638"
		    Position		    [460, 241, 480, 259]
		    ZOrder		    3
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "sendPacket"
		    SID			    "1779::1642"
		    Position		    [460, 101, 480, 119]
		    ZOrder		    -9
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "result"
		    SID			    "1779::1643"
		    Position		    [460, 136, 480, 154]
		    ZOrder		    -10
		    Port		    "2"
		    IconDisplay		    "Port number"
		    }
		    Line {
		    ZOrder		    10
		    SrcBlock		    "Done"
		    SrcPort		    1
		    DstBlock		    " SFunction "
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    11
		    SrcBlock		    "DoneChanged"
		    SrcPort		    1
		    DstBlock		    " SFunction "
		    DstPort		    2
		    }
		    Line {
		    ZOrder		    12
		    SrcBlock		    "ExecutionStatus"
		    SrcPort		    1
		    DstBlock		    " SFunction "
		    DstPort		    3
		    }
		    Line {
		    ZOrder		    13
		    SrcBlock		    "contact"
		    SrcPort		    1
		    DstBlock		    " SFunction "
		    DstPort		    4
		    }
		    Line {
		    ZOrder		    14
		    SrcBlock		    "t"
		    SrcPort		    1
		    DstBlock		    " SFunction "
		    DstPort		    5
		    }
		    Line {
		    Name		    "sendPacket"
		    ZOrder		    15
		    Labels		    [0, 0]
		    SrcBlock		    " SFunction "
		    SrcPort		    2
		    DstBlock		    "sendPacket"
		    DstPort		    1
		    }
		    Line {
		    Name		    "result"
		    ZOrder		    16
		    Labels		    [0, 0]
		    SrcBlock		    " SFunction "
		    SrcPort		    3
		    DstBlock		    "result"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    17
		    SrcBlock		    " Demux "
		    SrcPort		    1
		    DstBlock		    " Terminator "
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    18
		    SrcBlock		    " SFunction "
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    " Demux "
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Enabled\nSubsystem"
		  SID			  "1780"
		  Ports			  [1, 0, 1]
		  Position		  [690, 287, 790, 333]
		  ZOrder		  -7
		  LibraryVersion	  "1.216"
		  TreatAsAtomicUnit	  on
		  RequestExecContextInheritance	off
		  System {
		    Name		    "Enabled\nSubsystem"
		    Location		    [543, 503, 1311, 936]
		    Open		    off
		    ModelBrowserVisibility  off
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "ExectuionResult"
		    SID			    "1781"
		    Position		    [110, 103, 140, 117]
		    ZOrder		    -1
		    IconDisplay		    "Port number"
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    SID			    "1782"
		    Ports		    []
		    Position		    [235, 20, 255, 40]
		    ZOrder		    -2
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "Pack"
		    SID			    "1783"
		    Ports		    [1, 1]
		    Position		    [195, 89, 275, 131]
		    ZOrder		    -3
		    LibraryVersion	    "1.1706"
		    SourceBlock		    "xpclib/UDP/Pack"
		    SourceType		    "xpcany2byte"
		    datatypes		    "{'double'}"
		    byteAlign		    "1"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "Send"
		    SID			    "1784"
		    Ports		    [1]
		    Position		    [320, 85, 400, 135]
		    ZOrder		    -4
		    LibraryVersion	    "1.1706"
		    SourceBlock		    "xpclib/UDP/Send"
		    SourceType		    "xpcudpbytesend"
		    ipAddress		    "192.168.1.11"
		    ipPort		    "3334"
		    localPort		    "-1"
		    vblLen		    off
		    sampletime		    "sample_time"
		    }
		    Line {
		    ZOrder		    1
		    SrcBlock		    "ExectuionResult"
		    SrcPort		    1
		    DstBlock		    "Pack"
		    DstPort		    1
		    }
		    Line {
		    ZOrder		    2
		    SrcBlock		    "Pack"
		    SrcPort		    1
		    DstBlock		    "Send"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  ZOrder		  1
		  SrcBlock		  "Done"
		  SrcPort		  1
		  Points		  [30, 0]
		  Branch {
		    ZOrder		    2
		    Points		    [0, 75]
		    DstBlock		    "Detect\nChange"
		    DstPort		    1
		  }
		  Branch {
		    ZOrder		    3
		    DstBlock		    "Determine Execution Result"
		    DstPort		    1
		  }
		}
		Line {
		  ZOrder		  4
		  SrcBlock		  "Execution Status"
		  SrcPort		  1
		  DstBlock		  "Determine Execution Result"
		  DstPort		  3
		}
		Line {
		  ZOrder		  5
		  SrcBlock		  "Determine Execution Result"
		  SrcPort		  2
		  DstBlock		  "Enabled\nSubsystem"
		  DstPort		  1
		}
		Line {
		  ZOrder		  6
		  SrcBlock		  "Determine Execution Result"
		  SrcPort		  1
		  Points		  [170, 0]
		  DstBlock		  "Enabled\nSubsystem"
		  DstPort		  enable
		}
		Line {
		  ZOrder		  7
		  SrcBlock		  "Detect\nChange"
		  SrcPort		  1
		  DstBlock		  "Determine Execution Result"
		  DstPort		  2
		}
		Line {
		  ZOrder		  8
		  SrcBlock		  "Contact"
		  SrcPort		  1
		  DstBlock		  "Determine Execution Result"
		  DstPort		  4
		}
		Line {
		  ZOrder		  9
		  SrcBlock		  "t"
		  SrcPort		  1
		  DstBlock		  "Determine Execution Result"
		  DstPort		  5
		}
		Annotation {
		  SID			  "1808"
		  Position		  [425, 251, 427, 266]
		  InternalMargins	  [0, 0, 0, 0]
		  FixedHeight		  off
		  FixedWidth		  off
		  ZOrder		  -1
		}
	      }
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Subtract"
	      SID		      "1312"
	      Ports		      [2, 1]
	      Position		      [190, 132, 220, 163]
	      ZOrder		      -41
	      ShowName		      off
	      Inputs		      "+-"
	      InputSameDT	      off
	      OutDataTypeStr	      "Inherit: Inherit via internal rule"
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch"
	      SID		      "1313"
	      Position		      [1415, 869, 1445, 901]
	      ZOrder		      -42
	      ShowName		      off
	      Criteria		      "u2 ~= 0"
	      InputSameDT	      off
	      SaturateOnIntegerOverflow	off
	    }
	    Block {
	      BlockType		      Terminator
	      Name		      "Terminator1"
	      SID		      "1639"
	      Position		      [1005, 352, 1015, 358]
	      ZOrder		      -43
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Terminator
	      Name		      "Terminator2"
	      SID		      "1640"
	      Position		      [1065, 372, 1075, 378]
	      ZOrder		      -44
	      ShowName		      off
	    }
	    Block {
	      BlockType		      Terminator
	      Name		      "Terminator3"
	      SID		      "1638"
	      Position		      [1005, 447, 1015, 453]
	      ZOrder		      -45
	      ShowName		      off
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Trapezoidal Profile2"
	      SID		      "1315"
	      Ports		      [7, 4]
	      Position		      [620, 151, 755, 259]
	      ZOrder		      -46
	      LibraryVersion	      "1.31"
	      ErrorFcn		      "Stateflow.Translate.translate"
	      PermitHierarchicalResolution "ExplicitOnly"
	      TreatAsAtomicUnit	      on
	      RequestExecContextInheritance off
	      SFBlockType	      "MATLAB Function"
	      System {
		Name			"Trapezoidal Profile2"
		Location		[227, 345, 838, 789]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SIDHighWatermark	"1326"
		Block {
		  BlockType		  Inport
		  Name			  "dt"
		  SID			  "1315::1315"
		  Position		  [20, 101, 40, 119]
		  ZOrder		  -1
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "x0"
		  SID			  "1315::1327"
		  Position		  [20, 136, 40, 154]
		  ZOrder		  -2
		  Port			  "2"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "xf"
		  SID			  "1315::1328"
		  Position		  [20, 171, 40, 189]
		  ZOrder		  -3
		  Port			  "3"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "acc"
		  SID			  "1315::1329"
		  Position		  [20, 206, 40, 224]
		  ZOrder		  -4
		  Port			  "4"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "vel"
		  SID			  "1315::1330"
		  Position		  [20, 246, 40, 264]
		  ZOrder		  -5
		  Port			  "5"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "type"
		  SID			  "1315::1331"
		  Position		  [20, 281, 40, 299]
		  ZOrder		  -6
		  Port			  "6"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "cartesian_error"
		  SID			  "1315::1332"
		  Position		  [20, 316, 40, 334]
		  ZOrder		  -7
		  Port			  "7"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Demux
		  Name			  " Demux "
		  SID			  "1315::1325"
		  Ports			  [1, 1]
		  Position		  [270, 280, 320, 320]
		  ZOrder		  2
		  Outputs		  "1"
		}
		Block {
		  BlockType		  S-Function
		  Name			  " SFunction "
		  SID			  "1315::1324"
		  Tag			  "Stateflow S-Function wamjc7 9"
		  Ports			  [7, 5]
		  Position		  [180, 100, 230, 260]
		  ZOrder		  1
		  FunctionName		  "sf_sfun"
		  PortCounts		  "[7 5]"
		  EnableBusSupport	  off
		  Port {
		    PortNumber		    2
		    Name		    "xdes"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    3
		    Name		    "xddes"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    4
		    Name		    "done"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    5
		    Name		    "m"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Terminator
		  Name			  " Terminator "
		  SID			  "1315::1326"
		  Position		  [460, 291, 480, 309]
		  ZOrder		  3
		}
		Block {
		  BlockType		  Outport
		  Name			  "xdes"
		  SID			  "1315::1333"
		  Position		  [460, 101, 480, 119]
		  ZOrder		  -11
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "xddes"
		  SID			  "1315::1334"
		  Position		  [460, 136, 480, 154]
		  ZOrder		  -12
		  Port			  "2"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "done"
		  SID			  "1315::1335"
		  Position		  [460, 171, 480, 189]
		  ZOrder		  -13
		  Port			  "3"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "m"
		  SID			  "1315::1336"
		  Position		  [460, 206, 480, 224]
		  ZOrder		  -14
		  Port			  "4"
		  IconDisplay		  "Port number"
		}
		Line {
		  ZOrder		  14
		  SrcBlock		  "dt"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  1
		}
		Line {
		  ZOrder		  15
		  SrcBlock		  "x0"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  2
		}
		Line {
		  ZOrder		  16
		  SrcBlock		  "xf"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  3
		}
		Line {
		  ZOrder		  17
		  SrcBlock		  "acc"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  4
		}
		Line {
		  ZOrder		  18
		  SrcBlock		  "vel"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  5
		}
		Line {
		  ZOrder		  19
		  SrcBlock		  "type"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  6
		}
		Line {
		  ZOrder		  20
		  SrcBlock		  "cartesian_error"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  7
		}
		Line {
		  Name			  "xdes"
		  ZOrder		  21
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  2
		  Points		  [0, -40]
		  DstBlock		  "xdes"
		  DstPort		  1
		}
		Line {
		  Name			  "xddes"
		  ZOrder		  22
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  3
		  DstBlock		  "xddes"
		  DstPort		  1
		}
		Line {
		  Name			  "done"
		  ZOrder		  23
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  4
		  DstBlock		  "done"
		  DstPort		  1
		}
		Line {
		  Name			  "m"
		  ZOrder		  24
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  5
		  DstBlock		  "m"
		  DstPort		  1
		}
		Line {
		  ZOrder		  25
		  SrcBlock		  " Demux "
		  SrcPort		  1
		  DstBlock		  " Terminator "
		  DstPort		  1
		}
		Line {
		  ZOrder		  26
		  SrcBlock		  " SFunction "
		  SrcPort		  1
		  Points		  [20, 0]
		  DstBlock		  " Demux "
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      UnitDelay
	      Name		      "Unit Delay"
	      SID		      "1316"
	      Position		      [990, 51, 1025, 69]
	      ZOrder		      -47
	      BlockMirror	      on
	      ShowName		      off
	      SampleTime	      "-1"
	    }
	    Block {
	      BlockType		      UnitDelay
	      Name		      "Unit Delay1"
	      SID		      "1317"
	      Position		      [1020, 299, 1065, 311]
	      ZOrder		      -48
	      BlockMirror	      on
	      ShowName		      off
	      InitialCondition	      "1"
	      SampleTime	      "-1"
	    }
	    Block {
	      BlockType		      UnitDelay
	      Name		      "Unit Delay2"
	      SID		      "1318"
	      Position		      [1250, 1033, 1285, 1067]
	      ZOrder		      -49
	      BlockMirror	      on
	      ShowName		      off
	      InitialCondition	      "1"
	      SampleTime	      "-1"
	    }
	    Block {
	      BlockType		      UnitDelay
	      Name		      "Unit Delay3"
	      SID		      "1319"
	      Position		      [990, 26, 1025, 44]
	      ZOrder		      -50
	      BlockMirror	      on
	      ShowName		      off
	      SampleTime	      "-1"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Verify"
	      SID		      "1320"
	      Ports		      [2, 3]
	      Position		      [1110, 155, 1220, 215]
	      ZOrder		      -51
	      ErrorFcn		      "Stateflow.Translate.translate"
	      PermitHierarchicalResolution "ExplicitOnly"
	      TreatAsAtomicUnit	      on
	      RequestExecContextInheritance off
	      SFBlockType	      "MATLAB Function"
	      System {
		Name			"Verify"
		Location		[227, 345, 838, 789]
		Open			off
		ModelBrowserVisibility	off
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SIDHighWatermark	"1331"
		Block {
		  BlockType		  Inport
		  Name			  "qdes_in"
		  SID			  "1320::1320"
		  Position		  [20, 101, 40, 119]
		  ZOrder		  -1
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Inport
		  Name			  "qddes_in"
		  SID			  "1320::1332"
		  Position		  [20, 136, 40, 154]
		  ZOrder		  -2
		  Port			  "2"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Demux
		  Name			  " Demux "
		  SID			  "1320::1330"
		  Ports			  [1, 1]
		  Position		  [270, 245, 320, 285]
		  ZOrder		  2
		  Outputs		  "1"
		}
		Block {
		  BlockType		  S-Function
		  Name			  " SFunction "
		  SID			  "1320::1329"
		  Tag			  "Stateflow S-Function wamjc7 18"
		  Ports			  [2, 4]
		  Position		  [180, 102, 230, 203]
		  ZOrder		  1
		  FunctionName		  "sf_sfun"
		  PortCounts		  "[2 4]"
		  EnableBusSupport	  off
		  Port {
		    PortNumber		    2
		    Name		    "qdes"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    3
		    Name		    "qddes"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    4
		    Name		    "error"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Terminator
		  Name			  " Terminator "
		  SID			  "1320::1331"
		  Position		  [460, 256, 480, 274]
		  ZOrder		  3
		}
		Block {
		  BlockType		  Outport
		  Name			  "qdes"
		  SID			  "1320::1333"
		  Position		  [460, 101, 480, 119]
		  ZOrder		  -6
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "qddes"
		  SID			  "1320::1334"
		  Position		  [460, 136, 480, 154]
		  ZOrder		  -7
		  Port			  "2"
		  IconDisplay		  "Port number"
		}
		Block {
		  BlockType		  Outport
		  Name			  "error"
		  SID			  "1320::1335"
		  Position		  [460, 171, 480, 189]
		  ZOrder		  -8
		  Port			  "3"
		  IconDisplay		  "Port number"
		}
		Line {
		  ZOrder		  8
		  SrcBlock		  "qdes_in"
		  SrcPort		  1
		  Points		  [120, 0]
		  DstBlock		  " SFunction "
		  DstPort		  1
		}
		Line {
		  ZOrder		  9
		  SrcBlock		  "qddes_in"
		  SrcPort		  1
		  DstBlock		  " SFunction "
		  DstPort		  2
		}
		Line {
		  Name			  "qdes"
		  ZOrder		  10
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  2
		  DstBlock		  "qdes"
		  DstPort		  1
		}
		Line {
		  Name			  "qddes"
		  ZOrder		  11
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  3
		  DstBlock		  "qddes"
		  DstPort		  1
		}
		Line {
		  Name			  "error"
		  ZOrder		  12
		  Labels		  [0, 0]
		  SrcBlock		  " SFunction "
		  SrcPort		  4
		  DstBlock		  "error"
		  DstPort		  1
		}
		Line {
		  ZOrder		  13
		  SrcBlock		  " Demux "
		  SrcPort		  1
		  DstBlock		  " Terminator "
		  DstPort		  1
		}
		Line {
		  ZOrder		  14
		  SrcBlock		  " SFunction "
		  SrcPort		  1
		  DstBlock		  " Demux "
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      DataStoreWrite
	      Name		      "Write pckt"
	      SID		      "1321"
	      Ports		      [1]
	      Position		      [1480, 870, 1510, 900]
	      ZOrder		      -52
	      DataStoreName	      "pckt"
	    }
	    Block {
	      BlockType		      DataStoreWrite
	      Name		      "Write tstart"
	      SID		      "1322"
	      Ports		      [1]
	      Position		      [1145, 950, 1175, 980]
	      ZOrder		      -53
	      DataStoreName	      "tstart"
	    }
	    Block {
	      BlockType		      DataStoreWrite
	      Name		      "Write x0"
	      SID		      "1323"
	      Ports		      [1]
	      Position		      [1200, 915, 1230, 945]
	      ZOrder		      -54
	      DataStoreName	      "x0"
	    }
	    Block {
	      BlockType		      DataStoreMemory
	      Name		      "pckt Memory"
	      SID		      "1324"
	      Position		      [280, 45, 312, 75]
	      ZOrder		      -55
	      DataStoreName	      "pckt"
	      InitialValue	      "[0 0 pi/4 0 pi/2 0 0.1 0 zeros(1,741)]'"
	    }
	    Block {
	      BlockType		      DataStoreMemory
	      Name		      "tstart Memory"
	      SID		      "1325"
	      Position		      [345, 45, 377, 75]
	      ZOrder		      -56
	      DataStoreName	      "tstart"
	    }
	    Block {
	      BlockType		      DataStoreMemory
	      Name		      "x0 Memory"
	      SID		      "1326"
	      Position		      [215, 45, 247, 75]
	      ZOrder		      -57
	      DataStoreName	      "x0"
	      InitialValue	      "arm_home'"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "wdes"
	      SID		      "1327"
	      Position		      [1195, 103, 1225, 117]
	      ZOrder		      -58
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "wddes"
	      SID		      "1328"
	      Position		      [1225, 133, 1255, 147]
	      ZOrder		      -59
	      Port		      "2"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Contact"
	      SID		      "1329"
	      Position		      [805, 478, 835, 492]
	      ZOrder		      -60
	      Port		      "3"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "qdes"
	      SID		      "1330"
	      Position		      [1500, 158, 1530, 172]
	      ZOrder		      -61
	      Port		      "4"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "qddes"
	      SID		      "1331"
	      Position		      [1460, 178, 1490, 192]
	      ZOrder		      -62
	      Port		      "5"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "qdddes"
	      SID		      "1332"
	      Position		      [1555, 263, 1585, 277]
	      ZOrder		      -63
	      Port		      "6"
	      IconDisplay	      "Port number"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "pckt"
	      SID		      "1333"
	      Position		      [335, 683, 365, 697]
	      ZOrder		      -64
	      Port		      "7"
	      IconDisplay	      "Port number"
	    }
	    Line {
	      ZOrder		      1
	      SrcBlock		      "t"
	      SrcPort		      1
	      Points		      [5, 0]
	      Branch {
		ZOrder			2
		Points			[0, 0]
		DstBlock		"Subtract"
		DstPort			1
	      }
	      Branch {
		ZOrder			3
		Points			[0, 720; 800, 0]
		Branch {
		  ZOrder		  4
		  DstBlock		  "Compute parameters\nfor next step"
		  DstPort		  8
		}
		Branch {
		  ZOrder		  5
		  Points		  [0, -205]
		  DstBlock		  "Send Execution Result"
		  DstPort		  4
		}
	      }
	    }
	    Line {
	      ZOrder		      6
	      SrcBlock		      "Read tstart"
	      SrcPort		      1
	      Points		      [10, 0]
	      Branch {
		ZOrder			7
		Points			[0, -40]
		DstBlock		"Subtract"
		DstPort			2
	      }
	      Branch {
		ZOrder			8
		Points			[0, 650]
		DstBlock		"Compute parameters\nfor next step"
		DstPort			7
	      }
	    }
	    Line {
	      ZOrder		      9
	      SrcBlock		      "Read x0"
	      SrcPort		      1
	      Points		      [10, 0; 0, 0]
	      Branch {
		ZOrder			10
		Points			[0, 585]
		DstBlock		"Compute parameters\nfor next step"
		DstPort			6
	      }
	      Branch {
		ZOrder			11
		Points			[0, -15]
		DstBlock		"Determine parameters"
		DstPort			3
	      }
	    }
	    Line {
	      ZOrder		      12
	      SrcBlock		      "Read pckt"
	      SrcPort		      1
	      Points		      [10, 0]
	      Branch {
		ZOrder			13
		DstBlock		"Determine parameters"
		DstPort			4
	      }
	      Branch {
		ZOrder			14
		Points			[0, 435]
		Branch {
		  ZOrder		  15
		  Points		  [0, 125]
		  DstBlock		  "Compute parameters\nfor next step"
		  DstPort		  5
		}
		Branch {
		  ZOrder		  16
		  DstBlock		  "pckt"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      ZOrder		      17
	      SrcBlock		      "Compute parameters\nfor next step"
	      SrcPort		      7
	      DstBlock		      "Write tstart"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      18
	      SrcBlock		      "Compute parameters\nfor next step"
	      SrcPort		      6
	      DstBlock		      "Write x0"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      19
	      SrcBlock		      "wam_on"
	      SrcPort		      1
	      Points		      [10, 0; 0, -30]
	      Branch {
		ZOrder			20
		Points			[0, -15]
		DstBlock		"Compute parameters\nfor next step"
		DstPort			13
	      }
	      Branch {
		ZOrder			21
		DstBlock		"Detect Change"
		DstPort			1
	      }
	    }
	    Line {
	      ZOrder		      22
	      SrcBlock		      "Queue"
	      SrcPort		      2
	      Points		      [15, 0; 0, 255]
	      DstBlock		      "Unit Delay2"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      23
	      SrcBlock		      "q"
	      SrcPort		      1
	      Points		      [0, -30; 55, 0]
	      Branch {
		ZOrder			24
		DstBlock		"Compute parameters\nfor next step"
		DstPort			12
	      }
	      Branch {
		ZOrder			25
		Points			[0, -675]
		DstBlock		"Compute qdes,qddes"
		DstPort			10
	      }
	    }
	    Line {
	      ZOrder		      26
	      SrcBlock		      "Compute parameters\nfor next step"
	      SrcPort		      3
	      Points		      [45, 0]
	      Branch {
		ZOrder			27
		Points			[0, -40]
		DstBlock		"Queue"
		DstPort			3
	      }
	      Branch {
		ZOrder			28
		Points			[0, 60]
		DstBlock		"Switch"
		DstPort			2
	      }
	    }
	    Line {
	      ZOrder		      29
	      SrcBlock		      "Compute parameters\nfor next step"
	      SrcPort		      4
	      Points		      [75, 0; 0, -60]
	      DstBlock		      "Queue"
	      DstPort		      4
	    }
	    Line {
	      ZOrder		      30
	      SrcBlock		      "Unit Delay2"
	      SrcPort		      1
	      Points		      [-535, 0; 0, -175]
	      DstBlock		      "Compute parameters\nfor next step"
	      DstPort		      9
	    }
	    Line {
	      ZOrder		      31
	      SrcBlock		      "Compute parameters\nfor next step"
	      SrcPort		      2
	      Points		      [25, 0; 0, -20]
	      DstBlock		      "Queue"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      32
	      SrcBlock		      "Compute parameters\nfor next step"
	      SrcPort		      1
	      DstBlock		      "Queue"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      33
	      SrcBlock		      "udp_rcvd"
	      SrcPort		      1
	      Points		      [50, 0; 0, -15]
	      DstBlock		      "Compute parameters\nfor next step"
	      DstPort		      11
	    }
	    Line {
	      ZOrder		      34
	      SrcBlock		      "udp"
	      SrcPort		      1
	      DstBlock		      "Compute parameters\nfor next step"
	      DstPort		      10
	    }
	    Line {
	      ZOrder		      35
	      SrcBlock		      "Constant1"
	      SrcPort		      1
	      DstBlock		      "Determine parameters"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      36
	      SrcBlock		      "Queue"
	      SrcPort		      1
	      Points		      [30, 0; 0, 115]
	      DstBlock		      "Switch"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      37
	      SrcBlock		      "Compute parameters\nfor next step"
	      SrcPort		      5
	      DstBlock		      "Switch"
	      DstPort		      3
	    }
	    Line {
	      ZOrder		      38
	      SrcBlock		      "Switch"
	      SrcPort		      1
	      DstBlock		      "Write pckt"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      39
	      SrcBlock		      "Detect Change"
	      SrcPort		      1
	      DstBlock		      "Compute parameters\nfor next step"
	      DstPort		      14
	    }
	    Line {
	      ZOrder		      40
	      SrcBlock		      "Constant2"
	      SrcPort		      1
	      Points		      [95, 0]
	      DstBlock		      "Compute parameters\nfor next step"
	      DstPort		      15
	    }
	    Line {
	      ZOrder		      41
	      SrcBlock		      "Unit Delay"
	      SrcPort		      1
	      Points		      [-70, 0; 0, 50]
	      DstBlock		      "Compute qdes,qddes"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      42
	      Labels		      [2, 0]
	      SrcBlock		      "Constant"
	      SrcPort		      1
	      Points		      [110, 0; 0, 45]
	      DstBlock		      "Compute qdes,qddes"
	      DstPort		      4
	    }
	    Line {
	      ZOrder		      43
	      SrcBlock		      "Subtract"
	      SrcPort		      1
	      Points		      [75, 0]
	      Branch {
		ZOrder			44
		Points			[280, 0; 0, 10]
		Branch {
		  ZOrder		  45
		  DstBlock		  "Trapezoidal Profile2"
		  DstPort		  1
		}
		Branch {
		  ZOrder		  46
		  Points		  [0, 0; 0, 120]
		  DstBlock		  "Mux1"
		  DstPort		  2
		}
	      }
	      Branch {
		ZOrder			47
		Labels			[1, 0]
		Points			[0, 30]
		DstBlock		"Determine parameters"
		DstPort			1
	      }
	    }
	    Line {
	      ZOrder		      48
	      SrcBlock		      "Determine parameters"
	      SrcPort		      1
	      DstBlock		      "Trapezoidal Profile2"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      49
	      SrcBlock		      "Determine parameters"
	      SrcPort		      2
	      DstBlock		      "Trapezoidal Profile2"
	      DstPort		      3
	    }
	    Line {
	      ZOrder		      50
	      SrcBlock		      "Determine parameters"
	      SrcPort		      3
	      DstBlock		      "Trapezoidal Profile2"
	      DstPort		      4
	    }
	    Line {
	      ZOrder		      51
	      SrcBlock		      "Determine parameters"
	      SrcPort		      4
	      DstBlock		      "Trapezoidal Profile2"
	      DstPort		      5
	    }
	    Line {
	      ZOrder		      52
	      SrcBlock		      "Determine parameters"
	      SrcPort		      6
	      Points		      [85, 0; 0, 40; 300, 0; 0, -75]
	      DstBlock		      "Compute qdes,qddes"
	      DstPort		      8
	    }
	    Line {
	      ZOrder		      53
	      Labels		      [3, 0]
	      SrcBlock		      "Constant3"
	      SrcPort		      1
	      Points		      [125, 0; 0, 50]
	      DstBlock		      "Compute qdes,qddes"
	      DstPort		      3
	    }
	    Line {
	      ZOrder		      54
	      SrcBlock		      "Compute qdes,qddes"
	      SrcPort		      1
	      DstBlock		      "wdes"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      55
	      SrcBlock		      "Compute qdes,qddes"
	      SrcPort		      2
	      DstBlock		      "wddes"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      56
	      SrcBlock		      "Determine parameters"
	      SrcPort		      5
	      Points		      [100, 0; 0, 50; 275, 0; 0, -85]
	      DstBlock		      "Compute qdes,qddes"
	      DstPort		      7
	    }
	    Line {
	      ZOrder		      57
	      SrcBlock		      "Trapezoidal Profile2"
	      SrcPort		      1
	      Points		      [70, 0]
	      Branch {
		ZOrder			58
		DstBlock		"Compute qdes,qddes"
		DstPort			5
	      }
	      Branch {
		ZOrder			59
		Points			[0, 180]
		DstBlock		"Demux3"
		DstPort			1
	      }
	    }
	    Line {
	      ZOrder		      60
	      SrcBlock		      "Trapezoidal Profile2"
	      SrcPort		      2
	      Points		      [80, 0]
	      Branch {
		ZOrder			61
		Points			[0, -10]
		DstBlock		"Compute qdes,qddes"
		DstPort			6
	      }
	      Branch {
		ZOrder			62
		Points			[0, 175]
		DstBlock		"Demux1"
		DstPort			1
	      }
	    }
	    Line {
	      ZOrder		      63
	      SrcBlock		      "Compute qdes,qddes"
	      SrcPort		      3
	      DstBlock		      "Verify"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      64
	      SrcBlock		      "Compute qdes,qddes"
	      SrcPort		      4
	      DstBlock		      "Verify"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      65
	      SrcBlock		      "Verify"
	      SrcPort		      3
	      Points		      [20, 0; 0, 340; -355, 0; 0, 225]
	      DstBlock		      "Compute parameters\nfor next step"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      66
	      SrcBlock		      "Compute qdes,qddes"
	      SrcPort		      6
	      Points		      [10, 0]
	      Branch {
		ZOrder			67
		DstBlock		"Mux1"
		DstPort			1
	      }
	      Branch {
		ZOrder			68
		Points			[0, 45]
		Branch {
		  ZOrder		  69
		  DstBlock		  "Unit Delay1"
		  DstPort		  1
		}
		Branch {
		  ZOrder		  70
		  Points		  [0, 15]
		  DstBlock		  "Mux2"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      ZOrder		      71
	      SrcBlock		      "Unit Delay1"
	      SrcPort		      1
	      Points		      [-415, 0; 0, -55]
	      DstBlock		      "Trapezoidal Profile2"
	      DstPort		      7
	    }
	    Line {
	      ZOrder		      72
	      SrcBlock		      "Verify"
	      SrcPort		      2
	      Points		      [65, 0]
	      Branch {
		ZOrder			73
		Points			[0, -150]
		DstBlock		"Unit Delay3"
		DstPort			1
	      }
	      Branch {
		ZOrder			74
		Points			[0, 65]
		DstBlock		"Mux"
		DstPort			2
	      }
	      Branch {
		ZOrder			75
		DstBlock		"qddes"
		DstPort			1
	      }
	    }
	    Line {
	      ZOrder		      76
	      Labels		      [1, 0]
	      SrcBlock		      "Verify"
	      SrcPort		      1
	      Points		      [45, 0]
	      Branch {
		ZOrder			77
		Points			[0, -105]
		DstBlock		"Unit Delay"
		DstPort			1
	      }
	      Branch {
		ZOrder			78
		Points			[0, 395; -370, 0; 0, 195]
		DstBlock		"Compute parameters\nfor next step"
		DstPort			1
	      }
	      Branch {
		ZOrder			79
		Points			[150, 0]
		Branch {
		  ZOrder		  80
		  DstBlock		  "qdes"
		  DstPort		  1
		}
		Branch {
		  ZOrder		  81
		  Points		  [0, 75]
		  DstBlock		  "Mux"
		  DstPort		  1
		}
	      }
	    }
	    Line {
	      ZOrder		      82
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "Scope (xPC) 1"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      83
	      SrcBlock		      "Mux1"
	      SrcPort		      1
	      DstBlock		      "Error Scope"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      84
	      SrcBlock		      "Determine parameters"
	      SrcPort		      7
	      Points		      [25, 0; 0, 35]
	      Branch {
		ZOrder			85
		Points			[85, 0]
		Branch {
		  ZOrder		  86
		  Points		  [0, -65]
		  DstBlock		  "Trapezoidal Profile2"
		  DstPort		  6
		}
		Branch {
		  ZOrder		  87
		  Points		  [285, 0; 0, -15]
		  Branch {
		    ZOrder		    88
		    Points		    [0, -55]
		    DstBlock		    "Compute qdes,qddes"
		    DstPort		    9
		  }
		  Branch {
		    ZOrder		    89
		    Points		    [210, 0; 0, 50]
		    DstBlock		    "Mux2"
		    DstPort		    2
		  }
		}
	      }
	      Branch {
		ZOrder			90
		Points			[0, 300]
		DstBlock		"Check FT"
		DstPort			1
	      }
	    }
	    Line {
	      ZOrder		      91
	      SrcBlock		      "Demux1"
	      SrcPort		      1
	      DstBlock		      "Mux2"
	      DstPort		      4
	    }
	    Line {
	      ZOrder		      92
	      SrcBlock		      "Unit Delay3"
	      SrcPort		      1
	      Points		      [-90, 0; 0, 90]
	      DstBlock		      "Compute qdes,qddes"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      93
	      SrcBlock		      "Compute qdes,qddes"
	      SrcPort		      5
	      Points		      [195, 0; 0, 30; 190, 0]
	      Branch {
		ZOrder			94
		DstBlock		"Mux"
		DstPort			3
	      }
	      Branch {
		ZOrder			95
		Points			[0, 10]
		DstBlock		"qdddes"
		DstPort			1
	      }
	    }
	    Line {
	      ZOrder		      96
	      SrcBlock		      "FT"
	      SrcPort		      1
	      Points		      [25, 0; 0, -10]
	      Branch {
		ZOrder			97
		Points			[0, -55; -85, 0]
		DstBlock		"Determine parameters"
		DstPort			5
	      }
	      Branch {
		ZOrder			98
		Points			[0, 155]
		DstBlock		"Selector"
		DstPort			1
	      }
	      Branch {
		ZOrder			99
		Labels			[2, 0]
		Points			[0, 10; 80, 0]
		Branch {
		  ZOrder		  100
		  DstBlock		  "Check FT"
		  DstPort		  3
		}
		Branch {
		  ZOrder		  101
		  Points		  [0, -325; 445, 0]
		  DstBlock		  "Compute qdes,qddes"
		  DstPort		  11
		}
	      }
	    }
	    Line {
	      ZOrder		      102
	      SrcBlock		      "FTExp"
	      SrcPort		      1
	      DstBlock		      "Check FT"
	      DstPort		      4
	    }
	    Line {
	      ZOrder		      103
	      SrcBlock		      "Check FT"
	      SrcPort		      4
	      Points		      [75, 0; 0, 105]
	      DstBlock		      "Scope (xPC) 4"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      104
	      SrcBlock		      "Check FT"
	      SrcPort		      2
	      Points		      [0, 5; 15, 0]
	      Branch {
		ZOrder			105
		Points			[0, 65; -55, 0]
		DstBlock		"Embedded\nMATLAB Function1"
		DstPort			1
	      }
	      Branch {
		ZOrder			106
		Points			[0, -145]
		DstBlock		"Mux4"
		DstPort			1
	      }
	      Branch {
		ZOrder			107
		Points			[0, 0]
		DstBlock		"Embedded\nMATLAB Function"
		DstPort			2
	      }
	    }
	    Line {
	      ZOrder		      108
	      SrcBlock		      "Check FT"
	      SrcPort		      3
	      Points		      [0, 10; 25, 0]
	      Branch {
		ZOrder			109
		Points			[0, -145]
		DstBlock		"Mux4"
		DstPort			2
	      }
	      Branch {
		ZOrder			110
		DstBlock		"Embedded\nMATLAB Function"
		DstPort			3
	      }
	    }
	    Line {
	      ZOrder		      111
	      SrcBlock		      "Mux4"
	      SrcPort		      1
	      Points		      [10, 0]
	      Branch {
		ZOrder			112
		DstBlock		"Contact"
		DstPort			1
	      }
	      Branch {
		ZOrder			113
		Points			[0, -90]
		DstBlock		"Mux2"
		DstPort			6
	      }
	    }
	    Line {
	      ZOrder		      114
	      SrcBlock		      "Mux5"
	      SrcPort		      1
	      DstBlock		      "Scope (xPC) 3"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      115
	      SrcBlock		      "Selector"
	      SrcPort		      1
	      DstBlock		      "Mux5"
	      DstPort		      2
	    }
	    Line {
	      ZOrder		      116
	      SrcBlock		      "Selector1"
	      SrcPort		      1
	      DstBlock		      "Mux5"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      117
	      SrcBlock		      "Embedded\nMATLAB Function"
	      SrcPort		      1
	      Points		      [140, 0]
	      Branch {
		ZOrder			118
		DstBlock		"Demux2"
		DstPort			1
	      }
	      Branch {
		ZOrder			119
		DstBlock		"Send Execution Result"
		DstPort			2
	      }
	    }
	    Line {
	      ZOrder		      120
	      Labels		      [2, 0]
	      SrcBlock		      "Embedded\nMATLAB Function"
	      SrcPort		      2
	      Points		      [0, -5; 210, 0]
	      Branch {
		ZOrder			121
		DstBlock		"Send Execution Result"
		DstPort			3
	      }
	      Branch {
		ZOrder			122
		Points			[0, -175]
		DstBlock		"Mux2"
		DstPort			10
	      }
	    }
	    Line {
	      ZOrder		      123
	      SrcBlock		      "Demux2"
	      SrcPort		      2
	      Points		      [0, -10]
	      DstBlock		      "Terminator3"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      124
	      SrcBlock		      "Demux1"
	      SrcPort		      2
	      DstBlock		      "Terminator2"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      125
	      SrcBlock		      "Demux3"
	      SrcPort		      2
	      DstBlock		      "Terminator1"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      126
	      SrcBlock		      "Determine parameters"
	      SrcPort		      8
	      Points		      [15, 0; 0, 340]
	      Branch {
		ZOrder			127
		Points			[0, 140]
		DstBlock		"Selector1"
		DstPort			1
	      }
	      Branch {
		ZOrder			128
		DstBlock		"Check FT"
		DstPort			2
	      }
	    }
	    Line {
	      ZOrder		      129
	      SrcBlock		      "Trapezoidal Profile2"
	      SrcPort		      3
	      Points		      [60, 0; 0, 190; 50, 0]
	      Branch {
		ZOrder			130
		Points			[0, 170]
		Branch {
		  ZOrder		  131
		  Points		  [0, 220]
		  DstBlock		  "Compute parameters\nfor next step"
		  DstPort		  4
		}
		Branch {
		  ZOrder		  132
		  DstBlock		  "Send Execution Result"
		  DstPort		  1
		}
	      }
	      Branch {
		ZOrder			133
		Labels			[1, 0]
		DstBlock		"Mux2"
		DstPort			7
	      }
	    }
	    Line {
	      ZOrder		      134
	      SrcBlock		      "Demux2"
	      SrcPort		      1
	      Points		      [0, -80]
	      DstBlock		      "Mux2"
	      DstPort		      5
	    }
	    Line {
	      ZOrder		      135
	      SrcBlock		      "impError"
	      SrcPort		      1
	      DstBlock		      "Embedded\nMATLAB Function1"
	      DstPort		      3
	    }
	    Line {
	      ZOrder		      136
	      SrcBlock		      "Check FT"
	      SrcPort		      1
	      Points		      [5, 0]
	      Branch {
		ZOrder			137
		Points			[0, 75; -55, 0; 0, 35]
		DstBlock		"Embedded\nMATLAB Function1"
		DstPort			2
	      }
	      Branch {
		ZOrder			138
		DstBlock		"Embedded\nMATLAB Function"
		DstPort			1
	      }
	    }
	    Line {
	      ZOrder		      139
	      SrcBlock		      "Fe"
	      SrcPort		      1
	      DstBlock		      "Mux2"
	      DstPort		      9
	    }
	    Line {
	      ZOrder		      140
	      Labels		      [2, 0]
	      SrcBlock		      "Mux2"
	      SrcPort		      1
	      Points		      [0, -5]
	      DstBlock		      "Scope (xPC) 2"
	      DstPort		      1
	    }
	    Line {
	      ZOrder		      141
	      SrcBlock		      "Demux3"
	      SrcPort		      1
	      Points		      [195, 0]
	      DstBlock		      "Mux2"
	      DstPort		      3
	    }
	    Line {
	      ZOrder		      142
	      SrcBlock		      "Embedded\nMATLAB Function1"
	      SrcPort		      1
	      Points		      [5, 0]
	      Branch {
		ZOrder			143
		Points			[0, -285]
		DstBlock		"Mux2"
		DstPort			8
	      }
	      Branch {
		ZOrder			144
		Points			[0, 75]
		DstBlock		"Compute parameters\nfor next step"
		DstPort			3
	      }
	    }
	    Line {
	      ZOrder		      145
	      SrcBlock		      "Check FT"
	      SrcPort		      5
	      Points		      [490, 0; 0, -190]
	      DstBlock		      "Mux2"
	      DstPort		      11
	    }
	    Annotation {
	      SID		      "1809"
	      Position		      [983, 158, 985, 173]
	      InternalMargins	      [0, 0, 0, 0]
	      FixedHeight	      off
	      FixedWidth	      off
	      ZOrder		      -1
	    }
	    Annotation {
	      SID		      "1810"
	      Position		      [974, 308, 976, 323]
	      InternalMargins	      [0, 0, 0, 0]
	      FixedHeight	      off
	      FixedWidth	      off
	      ZOrder		      -2
	    }
	    Annotation {
	      SID		      "1811"
	      Position		      [981, 321, 983, 336]
	      InternalMargins	      [0, 0, 0, 0]
	      FixedHeight	      off
	      FixedWidth	      off
	      ZOrder		      -3
	    }
	    Annotation {
	      SID		      "1812"
	      Position		      [572, 554, 574, 569]
	      InternalMargins	      [0, 0, 0, 0]
	      FixedHeight	      off
	      FixedWidth	      off
	      ZOrder		      -4
	    }
	  }
	}
	Block {
	  BlockType		  Product
	  Name			  "Product"
	  SID			  "1795"
	  Ports			  [2, 1]
	  Position		  [1565, 177, 1595, 208]
	  ZOrder		  -17
	  InputSameDT		  off
	  OutDataTypeStr	  "Inherit: Inherit via internal rule"
	  SaturateOnIntegerOverflow off
	}
	Block {
	  BlockType		  Switch
	  Name			  "Switch"
	  SID			  "1334"
	  Position		  [1415, 250, 1465, 290]
	  ZOrder		  -18
	  Criteria		  "u2 ~= 0"
	  InputSameDT		  off
	  SaturateOnIntegerOverflow off
	}
	Block {
	  BlockType		  Reference
	  Name			  "Torque Scope"
	  SID			  "1226"
	  Ports			  [1]
	  Position		  [1615, 348, 1690, 392]
	  ZOrder		  -19
	  LibraryVersion	  "1.1706"
	  SourceBlock		  "xpclib/Misc./Scope (xPC) "
	  SourceType		  "xpcscopeblock"
	  scopeno		  "10"
	  scopetype		  "Target"
	  autostart		  on
	  viewmode		  "Numerical"
	  formatstr		  "['joint_1 %10.5f N-m,joint_2 %10.5f N-m,joint_3 %10.5f N-m,joint_4 %10.5f N-m,joint_5 %10.5f N-m,join"
	  "t_6 %10.5f N-m,joint_7 %10.5f N-m']"
	  grid			  on
	  ylimits		  "[0,0]"
	  nosamples		  "1/(10*sample_time)"
	  noprepostsamples	  "0"
	  interleave		  "1"
	  triggermode		  "FreeRun"
	  triggersignal		  "1"
	  triggerlevel		  "0.0"
	  triggerslope		  "Either"
	  triggerscope		  "1"
	  triggersample		  "0"
	  filename		  "data.dat"
	  mode			  "Lazy"
	  writesize		  "512"
	  autorestart		  off
	  dynamicfilemode	  off
	  maxwritefilesize	  "512*1024^2"
	}
	Block {
	  BlockType		  UnitDelay
	  Name			  "Unit Delay"
	  SID			  "1336"
	  Position		  [655, 318, 690, 352]
	  ZOrder		  -20
	  BlockMirror		  on
	  ShowName		  off
	  SampleTime		  "-1"
	}
	Block {
	  BlockType		  Outport
	  Name			  "wdes"
	  SID			  "1337"
	  Position		  [775, 78, 805, 92]
	  ZOrder		  -21
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  Outport
	  Name			  "wdses"
	  SID			  "1338"
	  Position		  [530, 103, 560, 117]
	  ZOrder		  -22
	  Port			  "2"
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  Outport
	  Name			  "Contact"
	  SID			  "1340"
	  Position		  [495, 128, 525, 142]
	  ZOrder		  -23
	  Port			  "3"
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  Outport
	  Name			  "qdes"
	  SID			  "1339"
	  Position		  [580, 105, 610, 120]
	  ZOrder		  -24
	  BlockRotation		  270
	  Port			  "4"
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  Outport
	  Name			  "qddes"
	  SID			  "1341"
	  Position		  [645, 143, 675, 157]
	  ZOrder		  -25
	  Port			  "5"
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  Outport
	  Name			  "tau"
	  SID			  "1342"
	  Position		  [1640, 188, 1670, 202]
	  ZOrder		  -26
	  Port			  "6"
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  Outport
	  Name			  "qdddes"
	  SID			  "1343"
	  Position		  [710, 143, 740, 157]
	  ZOrder		  -27
	  Port			  "7"
	  IconDisplay		  "Port number"
	}
	Block {
	  BlockType		  Outport
	  Name			  "SensorExpFT"
	  SID			  "1344"
	  Position		  [1035, 243, 1065, 257]
	  ZOrder		  -28
	  Port			  "8"
	  IconDisplay		  "Port number"
	}
	Line {
	  ZOrder		  1
	  Labels		  [3, 0]
	  SrcBlock		  "Plan Arm Trajectory"
	  SrcPort		  5
	  Points		  [60, 0; 0, 10; 90, 0]
	  Branch {
	    ZOrder		    2
	    Points		    [0, -45]
	    DstBlock		    "qddes"
	    DstPort		    1
	  }
	  Branch {
	    ZOrder		    3
	    DstBlock		    "Compute Arm Torque"
	    DstPort		    2
	  }
	}
	Line {
	  ZOrder		  4
	  SrcBlock		  "Plan Arm Trajectory"
	  SrcPort		  6
	  Points		  [210, 0]
	  Branch {
	    ZOrder		    5
	    DstBlock		    "Compute Arm Torque"
	    DstPort		    3
	  }
	  Branch {
	    ZOrder		    6
	    Points		    [0, -60]
	    DstBlock		    "qdddes"
	    DstPort		    1
	  }
	}
	Line {
	  ZOrder		  7
	  SrcBlock		  "Compute Arm Torque"
	  SrcPort		  2
	  Points		  [70, 0]
	  Branch {
	    ZOrder		    8
	    Labels		    [1, 0]
	    DstBlock		    "SensorExpFT"
	    DstPort		    1
	  }
	  Branch {
	    ZOrder		    9
	    Points		    [0, -225; -785, 0; 0, 95]
	    DstBlock		    "Plan Arm Trajectory"
	    DstPort		    3
	  }
	}
	Line {
	  ZOrder		  10
	  Labels		  [0, 0]
	  SrcBlock		  "t"
	  SrcPort		  1
	  Points		  [5, 0]
	  Branch {
	    ZOrder		    11
	    DstBlock		    "Plan Arm Trajectory"
	    DstPort		    6
	  }
	  Branch {
	    ZOrder		    12
	    Points		    [0, 250]
	    Branch {
	      ZOrder		      13
	      DstBlock		      "MATLAB Function"
	      DstPort		      4
	    }
	    Branch {
	      ZOrder		      14
	      Points		      [0, 215; 1035, 0]
	      Branch {
		ZOrder			15
		DstBlock		"Impedance Controller"
		DstPort			7
	      }
	      Branch {
		ZOrder			16
		Points			[0, 80; 365, 0; 0, -205]
		DstBlock		"Differentiate"
		DstPort			2
	      }
	    }
	  }
	}
	Line {
	  ZOrder		  17
	  SrcBlock		  "qd"
	  SrcPort		  1
	  Points		  [395, 0]
	  Branch {
	    ZOrder		    18
	    Points		    [0, -60]
	    DstBlock		    "Compute Arm Torque"
	    DstPort		    6
	  }
	  Branch {
	    ZOrder		    19
	    Points		    [0, 315]
	    DstBlock		    "Impedance Controller"
	    DstPort		    6
	  }
	}
	Line {
	  ZOrder		  20
	  SrcBlock		  "wam_on"
	  SrcPort		  1
	  Points		  [25, 0]
	  Branch {
	    ZOrder		    21
	    DstBlock		    "Plan Arm Trajectory"
	    DstPort		    9
	  }
	  Branch {
	    ZOrder		    22
	    Points		    [0, 25; 290, 0; 0, -40]
	    DstBlock		    "Compute Arm Torque"
	    DstPort		    4
	  }
	}
	Line {
	  ZOrder		  23
	  Labels		  [0, 0]
	  SrcBlock		  "Plan Arm Trajectory"
	  SrcPort		  1
	  DstBlock		  "wdes"
	  DstPort		  1
	}
	Line {
	  ZOrder		  24
	  SrcBlock		  "udp"
	  SrcPort		  1
	  DstBlock		  "Plan Arm Trajectory"
	  DstPort		  1
	}
	Line {
	  ZOrder		  25
	  SrcBlock		  "udp_rcvd"
	  SrcPort		  1
	  DstBlock		  "Plan Arm Trajectory"
	  DstPort		  2
	}
	Line {
	  ZOrder		  26
	  SrcBlock		  "Plan Arm Trajectory"
	  SrcPort		  2
	  DstBlock		  "wdses"
	  DstPort		  1
	}
	Line {
	  ZOrder		  27
	  SrcBlock		  "Plan Arm Trajectory"
	  SrcPort		  3
	  DstBlock		  "Contact"
	  DstPort		  1
	}
	Line {
	  ZOrder		  28
	  SrcBlock		  "FT"
	  SrcPort		  1
	  DstBlock		  "Plan Arm Trajectory"
	  DstPort		  8
	}
	Line {
	  ZOrder		  29
	  SrcBlock		  "Unit Delay"
	  SrcPort		  1
	  Points		  [-60, 0; 0, 35]
	  DstBlock		  "MATLAB Function"
	  DstPort		  1
	}
	Line {
	  ZOrder		  30
	  SrcBlock		  "MATLAB Function"
	  SrcPort		  1
	  Points		  [50, 0]
	  Branch {
	    ZOrder		    31
	    Points		    [0, -35]
	    DstBlock		    "Unit Delay"
	    DstPort		    1
	  }
	  Branch {
	    ZOrder		    32
	    Points		    [545, 0]
	    Branch {
	      ZOrder		      33
	      Points		      [0, -100]
	      DstBlock		      "Switch"
	      DstPort		      2
	    }
	    Branch {
	      ZOrder		      34
	      Points		      [75, 0; 0, 240]
	      DstBlock		      "Logical\nOperator1"
	      DstPort		      1
	    }
	  }
	}
	Line {
	  ZOrder		  35
	  Labels		  [1, 0]
	  SrcBlock		  "Plan Arm Trajectory"
	  SrcPort		  7
	  Points		  [40, 0; 0, 155]
	  DstBlock		  "MATLAB Function"
	  DstPort		  2
	}
	Line {
	  ZOrder		  36
	  SrcBlock		  "MATLAB Function"
	  SrcPort		  2
	  Points		  [425, 0]
	  DstBlock		  "Impedance Controller"
	  DstPort		  1
	}
	Line {
	  ZOrder		  37
	  SrcBlock		  "MATLAB Function"
	  SrcPort		  3
	  Points		  [380, 0; 0, 170]
	  DstBlock		  "Impedance Controller"
	  DstPort		  2
	}
	Line {
	  ZOrder		  38
	  SrcBlock		  "Impedance Controller"
	  SrcPort		  1
	  Points		  [5, 0; 0, -275]
	  DstBlock		  "Switch"
	  DstPort		  3
	}
	Line {
	  ZOrder		  39
	  SrcBlock		  "Compute Arm Torque"
	  SrcPort		  1
	  Points		  [525, 0; 0, 55]
	  DstBlock		  "Switch"
	  DstPort		  1
	}
	Line {
	  ZOrder		  40
	  SrcBlock		  "Switch"
	  SrcPort		  1
	  Points		  [10, 0]
	  Branch {
	    ZOrder		    41
	    Points		    [0, 230]
	    DstBlock		    "Differentiate"
	    DstPort		    1
	  }
	  Branch {
	    ZOrder		    42
	    Points		    [60, 0]
	    Branch {
	      ZOrder		      43
	      Points		      [0, -70]
	      DstBlock		      "Product"
	      DstPort		      2
	    }
	    Branch {
	      ZOrder		      44
	      Points		      [0, 100]
	      DstBlock		      "Torque Scope"
	      DstPort		      1
	    }
	  }
	}
	Line {
	  ZOrder		  45
	  SrcBlock		  "Plan Arm Trajectory"
	  SrcPort		  4
	  Points		  [70, 0; 0, 20; 50, 0]
	  Branch {
	    ZOrder		    46
	    DstBlock		    "Compute Arm Torque"
	    DstPort		    1
	  }
	  Branch {
	    ZOrder		    47
	    DstBlock		    "qdes"
	    DstPort		    1
	  }
	}
	Line {
	  ZOrder		  48
	  SrcBlock		  "MATLAB Function"
	  SrcPort		  4
	  Points		  [345, 0; 0, 170]
	  DstBlock		  "Impedance Controller"
	  DstPort		  3
	}
	Line {
	  ZOrder		  49
	  SrcBlock		  "MATLAB Function"
	  SrcPort		  5
	  Points		  [310, 0; 0, 170]
	  DstBlock		  "Impedance Controller"
	  DstPort		  4
	}
	Line {
	  ZOrder		  50
	  SrcBlock		  "Differentiate"
	  SrcPort		  1
	  DstBlock		  "Limit taud"
	  DstPort		  1
	}
	Line {
	  ZOrder		  51
	  SrcBlock		  "Limit taud"
	  SrcPort		  1
	  Points		  [10, 0]
	  DstBlock		  "Logical\nOperator"
	  DstPort		  1
	}
	Line {
	  ZOrder		  52
	  SrcBlock		  "Logical\nOperator1"
	  SrcPort		  1
	  DstBlock		  "Logical\nOperator"
	  DstPort		  2
	}
	Line {
	  ZOrder		  53
	  SrcBlock		  "Logical\nOperator"
	  SrcPort		  1
	  Points		  [5, 0; 0, 130; -1775, 0; 0, -595]
	  DstBlock		  "Plan Arm Trajectory"
	  DstPort		  4
	}
	Line {
	  ZOrder		  54
	  SrcBlock		  "Impedance Controller"
	  SrcPort		  3
	  Points		  [5, 0; 0, 75; -1350, 0; 0, -555]
	  DstBlock		  "Plan Arm Trajectory"
	  DstPort		  5
	}
	Line {
	  ZOrder		  55
	  SrcBlock		  "q"
	  SrcPort		  1
	  Points		  [5, 0]
	  Branch {
	    ZOrder		    56
	    DstBlock		    "Plan Arm Trajectory"
	    DstPort		    7
	  }
	  Branch {
	    ZOrder		    57
	    Points		    [0, 100]
	    Branch {
	      ZOrder		      58
	      Points		      [0, 110]
	      DstBlock		      "MATLAB Function"
	      DstPort		      3
	    }
	    Branch {
	      ZOrder		      59
	      Labels		      [-1, 1]
	      Points		      [435, 0]
	      Branch {
		ZOrder			60
		Points			[0, -60]
		DstBlock		"Compute Arm Torque"
		DstPort			5
	      }
	      Branch {
		ZOrder			61
		Points			[0, 315]
		DstBlock		"Impedance Controller"
		DstPort			5
	      }
	    }
	  }
	}
	Line {
	  ZOrder		  62
	  SrcBlock		  "TAUSIGNAL"
	  SrcPort		  1
	  Points		  [70, 0]
	  Branch {
	    ZOrder		    63
	    Points		    [0, -20]
	    DstBlock		    "Compute Arm Torque"
	    DstPort		    7
	  }
	  Branch {
	    ZOrder		    64
	    Points		    [555, 0; 0, -105]
	    DstBlock		    "Product"
	    DstPort		    1
	  }
	}
	Line {
	  ZOrder		  65
	  SrcBlock		  "Product"
	  SrcPort		  1
	  DstBlock		  "tau"
	  DstPort		  1
	}
      }
    }
    Line {
      ZOrder		      1
      SrcBlock		      "Subsystem"
      SrcPort		      6
      Points		      [75, 0; 0, 60; 105, 0]
      Branch {
	ZOrder			2
	DstBlock		"Send Feedback UDP"
	DstPort			9
      }
      Branch {
	ZOrder			3
	Points			[0, 120]
	Branch {
	  ZOrder		  4
	  DstBlock		  "Send to Arm"
	  DstPort		  1
	}
	Branch {
	  ZOrder		  5
	  Points		  [0, 75; -515, 0; 0, -25]
	  DstBlock		  "Get Arm State"
	  DstPort		  5
	}
      }
    }
    Line {
      ZOrder		      6
      SrcBlock		      "Get Arm State"
      SrcPort		      1
      Points		      [25, 0]
      Branch {
	ZOrder			7
	Points			[295, 0; 0, -180]
	DstBlock		"Send Feedback UDP"
	DstPort			6
      }
      Branch {
	ZOrder			8
	Labels			[0, 0]
	Points			[0, -220]
	DstBlock		"Subsystem"
	DstPort			4
      }
    }
    Line {
      ZOrder		      9
      Labels		      [1, 1]
      SrcBlock		      "Get Time"
      SrcPort		      1
      Points		      [5, 0]
      Branch {
	ZOrder			10
	Points			[0, 165]
	Branch {
	  ZOrder		  11
	  DstBlock		  "Get Arm State"
	  DstPort		  2
	}
	Branch {
	  ZOrder		  12
	  Points		  [0, 120]
	  DstBlock		  "Receive Controller Commands"
	  DstPort		  1
	}
      }
      Branch {
	ZOrder			13
	Points			[150, 0; 0, -80]
	DstBlock		"Subsystem"
	DstPort			3
      }
    }
    Line {
      ZOrder		      14
      SrcBlock		      "Subsystem"
      SrcPort		      2
      DstBlock		      "Send Feedback UDP"
      DstPort		      2
    }
    Line {
      ZOrder		      15
      SrcBlock		      "Subsystem"
      SrcPort		      1
      DstBlock		      "Send Feedback UDP"
      DstPort		      1
    }
    Line {
      ZOrder		      16
      SrcBlock		      "Receive Arm UDP"
      SrcPort		      1
      DstBlock		      "Subsystem"
      DstPort		      1
    }
    Line {
      ZOrder		      17
      SrcBlock		      "Receive Arm UDP"
      SrcPort		      2
      DstBlock		      "Subsystem"
      DstPort		      2
    }
    Line {
      ZOrder		      18
      SrcBlock		      "Get Arm State"
      SrcPort		      3
      Points		      [55, 0]
      Branch {
	ZOrder			19
	Labels			[1, 0]
	Points			[285, 0; 0, -170]
	DstBlock		"Send Feedback UDP"
	DstPort			8
      }
      Branch {
	ZOrder			20
	Labels			[0, 0]
	Points			[0, -210]
	DstBlock		"Subsystem"
	DstPort			6
      }
    }
    Line {
      ZOrder		      21
      SrcBlock		      "Get Arm State"
      SrcPort		      4
      Points		      [70, 0]
      Branch {
	ZOrder			22
	Points			[325, 0; 0, -15]
	Branch {
	  ZOrder		  23
	  DstBlock		  "Send to Arm"
	  DstPort		  2
	}
	Branch {
	  ZOrder		  24
	  Points		  [0, -350; 240, 0]
	  DstBlock		  "Send Feedback UDP"
	  DstPort		  enable
	}
      }
      Branch {
	ZOrder			25
	Labels			[0, 0]
	Points			[0, -205]
	DstBlock		"Subsystem"
	DstPort			7
      }
    }
    Line {
      ZOrder		      26
      SrcBlock		      "Get Arm State"
      SrcPort		      2
      Points		      [40, 0]
      Branch {
	ZOrder			27
	Points			[290, 0; 0, -175]
	DstBlock		"Send Feedback UDP"
	DstPort			7
      }
      Branch {
	ZOrder			28
	Labels			[0, 0]
	Points			[0, -215]
	DstBlock		"Subsystem"
	DstPort			5
      }
    }
    Line {
      ZOrder		      29
      SrcBlock		      "Receive Controller Commands"
      SrcPort		      1
      Points		      [15, 0; 0, -30; -150, 0; 0, -65]
      DstBlock		      "Get Arm State"
      DstPort		      3
    }
    Line {
      ZOrder		      30
      SrcBlock		      "Receive WSG Commands from MATLAB"
      SrcPort		      1
      DstBlock		      "Send To Gripper"
      DstPort		      1
    }
    Line {
      ZOrder		      31
      SrcBlock		      "Receive WSG Commands from MATLAB"
      SrcPort		      2
      DstBlock		      "Send To Gripper"
      DstPort		      trigger
    }
    Line {
      ZOrder		      32
      SrcBlock		      "Subsystem"
      SrcPort		      4
      DstBlock		      "Send Feedback UDP"
      DstPort		      4
    }
    Line {
      ZOrder		      33
      SrcBlock		      "Subsystem"
      SrcPort		      5
      DstBlock		      "Send Feedback UDP"
      DstPort		      5
    }
    Line {
      ZOrder		      34
      SrcBlock		      "Subsystem"
      SrcPort		      7
      Points		      [60, 0; 0, 120; -400, 0; 0, 30]
      DstBlock		      "Get Arm State"
      DstPort		      1
    }
    Line {
      ZOrder		      35
      SrcBlock		      "Subsystem"
      SrcPort		      8
      Points		      [45, 0; 0, 85; -400, 0; 0, 90]
      DstBlock		      "Get Arm State"
      DstPort		      4
    }
    Line {
      ZOrder		      36
      SrcBlock		      "Subsystem"
      SrcPort		      3
      DstBlock		      "Send Feedback UDP"
      DstPort		      3
    }
    Line {
      ZOrder		      37
      SrcBlock		      "Receive Controller Commands"
      SrcPort		      2
      Points		      [120, 0; 0, -275]
      DstBlock		      "Subsystem"
      DstPort		      8
    }
    Annotation {
      SID		      "1813"
      Position		      [209, 599, 211, 614]
      InternalMargins	      [0, 0, 0, 0]
      FixedHeight	      off
      FixedWidth	      off
      ZOrder		      -1
    }
    Annotation {
      SID		      "1814"
      Position		      [350, 173, 352, 188]
      InternalMargins	      [0, 0, 0, 0]
      FixedHeight	      off
      FixedWidth	      off
      ZOrder		      -2
    }
    Annotation {
      SID		      "1815"
      Position		      [162, 179, 164, 194]
      InternalMargins	      [0, 0, 0, 0]
      FixedHeight	      off
      FixedWidth	      off
      ZOrder		      -3
    }
  }
}
MatData {
  NumRecords		  17
  DataRecord {
    Tag			    DataTag0
    Data		    "  %)30     .    \\ (   8    (     @         %    \"     $    !     0         %  0 \"     $    8    =F5R"
    "<VEO;@!C;VYT96YT &9O<FUA=   #@   #@    &    \"     8         !0    @    !     0    $         \"0    @    S,S,S,S/S"
    "/PX    @ @  !@    @    $          4    (     0   .\\!   !         !    #O 0  5&AI<R!M;V1E;\"!I<R!A('9E<GD@<&]W97)F"
    "=6P@8V]N=')O;&QE<B!F;W(@8V]N=')O;&QI;F<@8F]T:\"!T:&4@0F%R<F5T= IA<FT@86YD(&AA;F0@870@=&AE('-A;64@=&EM92!A;F0@:6X@8"
    "2!C;V]R9&EN871E9\"!F87-H:6]N+B!4:&4@=7!P97)M;W-T\"F)L;V-K('EO=2!A<F4@;&]O:VEN9R!A=\"!C;VYT86EN<R!S;VUE($-!3B!I;FET"
    ":6%L:7IA=&EO;B!C;VUM86YD<RP@87,@=V5L; IA<R!T:&4@8VQO<V5D(&QO;W @8V]N=')O;&QE<G,@9F]R('1H92!A<FT@86YD(&AA;F0N(%1H92"
    "!H86YD(&-O;G1R;VQL97(*:7,@9F5D('1H92!C=7)R96YT(&%R;2!P;W-I=&EO;B!A;F0@=F5L;V-I='D@979E<GD@8WEC;&4@<V\\@=&AA=\"!I=\""
    "!C86X*=7-E('1H:7,@:6YF;W)M871I;VX@=&\\@:6YT96QL:6=E;G1L>2!U<&1A=&4@9W)A<W!S+B!$;W5B;&4@8VQI8VL@=&AE\"F)L;V-K<R!T;R"
    "!L;V]K(&%T(&UO<F4@;V8@=&AE(&1E=&%I;',@;V8@96%C:\"!S=6)S>7-T96TN  X    P    !@    @    $          4    (     0    ,"
    "    !         !   P!46%0 "
  }
  DataRecord {
    Tag			    DataTag1
    Data		    "  %)30     .    , (   8    (     @         %    \"     $    !     0         %  0 \"     $    8    =F5R<"
    "VEO;@!C;VYT96YT &9O<FUA=   #@   #@    &    \"     8         !0    @    !     0    $         \"0    @    S,S,S,S/S/"
    "PX   !@ 0  !@    @    $          4    (     0   \"X!   !         !     N 0  2&5R92!W92!S96YD(&%N(#@@=&\\@=&AE(&QO="
    "V5R(&%R;2X@4')O<&5R='D@.\"!I<R!T:&4@34]$12!A;F0@=&AE\"C$P,C@@*#$@,# P,# @,# Q,# I(&UE86YS('1O(\")S970@82!L;W=E<B!A"
    "<FT@<')O<&5R='DB+B!&:6YA;&QY('=E\"G)E8V5I=F4@=&AE(&UO9&4@<')O<&5R='D@9G)O;2!#04X@240@,3$U.\"P@=&AE;B!D;R!S;VUE(&)I"
    "=\"!U;G!A8VMI;F<N\"D%L;\"!O9B!T:&ES(&ES('=E;&P@9&]C=6UE;G1A=&5D(&EN('1H92 B0T%.($-O;6UU;FEC871I;VX@4W!E8R(@;V8@=&A"
    "E\"D)A<G)E='0@9&]C=6UE;G1A=&EO;BX   X    P    !@    @    $          4    (     0    ,    !         !   P!46%0 "
  }
  DataRecord {
    Tag			    DataTag2
    Data		    "  %)30     .    B     8    (     @         %    \"     $    !     0         %  0 $P    $    3    :&%S26"
    "YH97)I=&5D3W!T:6]N        #@   #     &    \"     D\"        !0    @    !     0    $          @ !  $    "
  }
  DataRecord {
    Tag			    DataTag3
    Data		    "  %)30     .    .     8    (    !          %    \"     $    (     0         0    \"    $1A=&%486<U"
  }
  DataRecord {
    Tag			    DataTag4
    Data		    "  %)30     .    . (   8    (     @         %    \"     $    !     0         %  0 \"     $    8    =F5R<"
    "VEO;@!C;VYT96YT &9O<FUA=   #@   #@    &    \"     8         !0    @    !     0    $         \"0    @    S,S,S,S/S/"
    "PX   !H 0  !@    @    $          4    (     0   #(!   !         !     R 0  2&5R92!W92!R96-E:79E('1H92!#04X@;65S<V%"
    "G92!F<F]M(#0@9&EF9F5R96YT(&ED96YT:69I97)S(\"AO;F4@9F]R(&5A8V@*:F]I;G0I(&%N9\"!C;VUB:6YE('1H97-E('!O<VET:6]N<R!I;G1"
    "O(&]N92!S:6=N86P@=VET:\" T(&5L96UE;G1S+B!4:&4*;W5T<'5T(&ES('1H92!J;VEN=\"!P;W-I=&EO;B!W:71H('5N:71S(&]F(&UO=&]R+V5"
    "N8V]D97(@8V]U;G1S+B!!;&P@;V8*=&AI<R!I<R!W96QL(&1O8W5M96YT871E9\"!I;B!T:&4@(D-!3B!#;VUM=6YI8V%T:6]N(%-P96,B(&]F('1H"
    "92!\"87)R971T\"F1O8W5M96YT871I;VXN        #@   #     &    \"     0         !0    @    !     P    $         $  # %1"
    "85  "
  }
  DataRecord {
    Tag			    DataTag5
    Data		    "  %)30     .    < (   8    (     @         %    \"     $    !     0         %  0 \"     $    8    =F5R<"
    "VEO;@!C;VYT96YT &9O<FUA=   #@   #@    &    \"     8         !0    @    !     0    $         \"0    @    S,S,S,S/S/"
    "PX   \"@ 0  !@    @    $          4    (     0   &L!   !         !    !K 0  5&AI<R!B;&]C:R!R96-E:79E<R!A;&P@5410('"
    "!A8VME=',@9G)O;2!T:&4@4V-H=6YK(%=31S4P($=R:7!P97(N($ET('=I;&P@\"F5C:&\\@979E<GD@<&%C:V5T('1O('1H92!-051,04(@8V]M<'"
    "5T97(@9F]R(&]P=&EO;F%L('!R;V-E<W-I;F<N(\"!)9B!T:&4*<&%C:V5T(&ES(&$@9F]R8V4@<&%C:V5T+\"!I=\"!W:6QL(&]U='!U=\"!T:&4@"
    "9F]R8V4@;VX@=&AE(&]U='!U=\"!P;W)T+@I)9B!T:&4@<&%C:V5T(&ES(&YO=\"!A(&9O<F-E('!A8VME=\"P@:70@=VEL;\"!O=71P=70@=&AE('"
    "!R979I;W5S;'D@<F5A9\" *9F]R8V4@;VX@=&AE(&]U='!U=\"!P;W)T(\"AO<B!Z97)O(&EF(&YO(&9O<F-E('!A8VME=',@:&%V92!B965N(')E8"
    "60I       .    ,     8    (    !          %    \"     $    #     0         0  , 5%A4  "
  }
  DataRecord {
    Tag			    DataTag6
    Data		    "  %)30     .    F $   8    (     @         %    \"     $    !     0         %  0 \"     $    8    =F5R<"
    "VEO;@!C;VYT96YT &9O<FUA=   #@   #@    &    \"     8         !0    @    !     0    $         \"0    @    S,S,S,S/S/"
    "PX   #(    !@    @    $          4    (     0   )(    !         !    \"2    5&AI<R!B;&]C:R!I<R!F;W(@<F5C96EV:6YG('"
    "!O<VET:6]N(&]V97(@=&AE($-!3B!C87)D+B!3964@=&AE(&EN9&EV:61U86P*<W5B<WES=&5M<R!F;W(@;6]R92!D;V-U;65N=&%T:6]N+B!4:&4@"
    ";W5T<'5T(&ES('$@=VAI8V@@:7,@:6X@<F%D:6%N<RX        .    ,     8    (    !          %    \"     $    #     0       "
    "  0  , 5%A4  "
  }
  DataRecord {
    Tag			    DataTag7
    Data		    "  %)30     .    < (   8    (     @         %    \"     $    !     0         %  0 \"     $    0    =F5R<"
    "VEO;@!C;VYT96YT  X    X    !@    @    &          4    (     0    $    !          D    (    FIF9F9F9\\3\\.    X $  "
    " 8    (    !          %    \"     $   \"I 0   0         0    J0$  $AE<F4@=V4@9&\\@=&AE('-I;7!L92!C;VYV97)S:6]N(&9R"
    ";VT@;6]T;W(@<&]S:71I;VX@=&\\@:F]I;G0@<&]S:71I;VXL\"G1H96X@8V]N=F5R=\"!E;F-O9&5R(&-O=6YT<R!T;R!J;VEN=\"!R861I86YS+\""
    "!T:&5N(&%C8V]U;G0@9F]R('1H92!O9F9S970*:6X@=&AE(&AO;64@<&]S:71I;VX@=&\\@9FEN86QL>2!O=71P=70@=&AE(&IO:6YT('!O<VET:6]"
    "N(&EN(')A9&EA;G,N(%1H90I-,DH@<&]S:71I;VX@;6%T<FEX(&-A;B!B92!F;W5N9\"!I;B!T:&4@9&]C=6UE;G1A=&EO;BX@2F]I;G0@-\"!H87,"
    "@82 M,3@@87,*;W!P;W-E9\"!T;R K,3@@8F5C875S92!T:&4@;6]T;W(@=V%S(')E=F5R<V5D(&%T(&]N92!P;VEN=\"!D=7)I;F<@82!R97!A:7("
    "N\"DD@8F5L:65V92!N97=E<B!M;V1E;',@;V8@=&AE(%=!32!A9&AE<F4@=&\\@=&AI<R M,3@N          "
  }
  DataRecord {
    Tag			    DataTag8
    Data		    "  %)30     .    . (   8    (     @         %    \"     $    !     0         %  0 \"     $    8    =F5R<"
    "VEO;@!C;VYT96YT &9O<FUA=   #@   #@    &    \"     8         !0    @    !     0    $         \"0    @    S,S,S,S/S/"
    "PX   !H 0  !@    @    $          4    (     0   #(!   !         !     R 0  2&5R92!W92!R96-E:79E('1H92!#04X@;65S<V%"
    "G92!F<F]M(#0@9&EF9F5R96YT(&ED96YT:69I97)S(\"AO;F4@9F]R(&5A8V@*:F]I;G0I(&%N9\"!C;VUB:6YE('1H97-E('!O<VET:6]N<R!I;G1"
    "O(&]N92!S:6=N86P@=VET:\" T(&5L96UE;G1S+B!4:&4*;W5T<'5T(&ES('1H92!J;VEN=\"!P;W-I=&EO;B!W:71H('5N:71S(&]F(&UO=&]R+V5"
    "N8V]D97(@8V]U;G1S+B!!;&P@;V8*=&AI<R!I<R!W96QL(&1O8W5M96YT871E9\"!I;B!T:&4@(D-!3B!#;VUM=6YI8V%T:6]N(%-P96,B(&]F('1H"
    "92!\"87)R971T\"F1O8W5M96YT871I;VXN        #@   #     &    \"     0         !0    @    !     P    $         $  # %1"
    "85  "
  }
  DataRecord {
    Tag			    DataTag9
    Data		    "  %)30     .    ^ $   8    (     @         %    \"     $    !     0         %  0 \"     $    8    =F5R<"
    "VEO;@!C;VYT96YT &9O<FUA=   #@   #@    &    \"     8         !0    @    !     0    $         \"0    @    S,S,S,S/S/"
    "PX    H 0  !@    @    $          4    (     0   /,    !         !    #S    2&5R92!W92!S96YD('!R;W!E<G1Y(#0X('=H:6-"
    "H(&ES(&9O<B B86-T=6%L('!O<VET:6]N(BX@5V4@<V5N9\"!T;R!#04X@240*,3 R-\"!W:&EC:\"!M96%N<R!A(&=R;W5P(&)R;V%D8V%S=\"!F<"
    "F]M(&AO<W0@=&\\@86QL(&QO=V5R(&%R;2!A8W1U871O<G,N\"D%L;\"!O9B!T:&ES(&ES('=E;&P@9&]C=6UE;G1A=&5D(&EN('1H92 B0T%.($-O"
    ";6UU;FEC871I;VX@4W!E8R(@;V8@=&AE\"D)A<G)E='0@9&]C=6UE;G1A=&EO;BX*       .    ,     8    (    !          %    \"   "
    "  $    #     0         0  , 5%A4  "
  }
  DataRecord {
    Tag			    DataTag10
    Data		    "  %)30     .    \\ (   8    (     @         %    \"     $    !     0         %  0 \"     $    8    =F5R"
    "<VEO;@!C;VYT96YT &9O<FUA=   #@   #@    &    \"     8         !0    @    !     0    $         \"0    @    S,S,S,S/S"
    "/PX    @ @  !@    @    $          4    (     0   .H!   !         !    #J 0  5V4@<F5C96EV92!51% @=')A:F5C=&]R>2!P;V"
    "EN=',@;VX@<&]R=\" R,#(P,B H9F]R(&%R;2DN(%)I9VAT(&YO=R!E=F5N( IT:&4@9V%I;G,@87)E('-E;F1I;F<@;W9E<B!51% @8G5T(&]N8V4"
    "@=V4@9FEN9\"!S;VUE(&=O;V0@9V%I;G,@=&AE>2!S:&]U;&0*8F4@:&%R9\"!C;V1E9\"!I;B!A;F0@<VAO=6QD(&YO=\"!C;VUE(&]V97(@5410+"
    "B!4:&4@;65M;W)Y(&)L;V-K(&%N9\"!L;V=I8V%L\"D]2(&%T('1H92!B;W1T;VT@:7,@=7-E9\"!T;R!C:&5C:R!W:&5T:&5R(&]R(&YO=\"!W92!"
    "H879E(')E8V5I=F5D(&1A=&$*<VEN8V4@=&AE(&UO9&5L('-T87)T960@<G5N;FEN9RX@268@<V\\L('=E('-H;W5L9\"!P87-S(&%L;VYG('1H870"
    "@9&%T82P*;W1H97)W:7-E('=E('-H;W5L9\"!P87-S('1H92!C=7)R96YT('!O<VET:6]N(\"AI+F4N('1H92!S86UE(&%S(&)E:6YG(&EN\"F=R87"
    "9I='D@8V]M<&5N<V%T:6]N('5N=&EL('-O;64@5410(&ES(')E8V5I=F5D*0        X    P    !@    @    $          4    (     0  "
    "  ,    !         !   P!46%0 "
  }
  DataRecord {
    Tag			    DataTag11
    Data		    "  %)30     .      $   8    (     @         %    \"     $    !     0         %  0 \"     $    8    =F5R<"
    "VEO;@!C;VYT96YT &9O<FUA=   #@   #@    &    \"     8         !0    @    !     0    $         \"0    @    S,S,S,S/S/"
    "PX    P    !@    @    $          4    (               !         !          #@   #     &    \"     0         !0    "
    "@    !     P    $         $  # %185  "
  }
  DataRecord {
    Tag			    DataTag12
    Data		    "  %)30     .    : 0   8    (     @         %    \"     $    !     0         %  0 \"     $    8    =F5R<"
    "VEO;@!C;VYT96YT &9O<FUA=   #@   #@    &    \"     8         !0    @    !     0    $         \"0    @    S,S,S,S/S/"
    "PX   \"8 P  !@    @    $          4    (     0   &4#   !         !    !E P  5&AI<R!B;&]C:R!D;V5S(&%L;\"!O9B!T:&4@8"
    "V]M;75N:6-A=&EO;B!W:71H('1H92!704T@;W9E<B!T:&4@0T%.(&-A<F0N\"D9I<G-T('=E(&-H96-K('1H92!704T@;6]D92!T;R!S964@:68@:7"
    "0@:6X@:7,@4VAI9G0M261L92!O<B!3:&EF=\"U!8W1I=F4*;6]D92X@270@:7,@;F5C97-S87)Y('1O('!A<W,@=&AI<R!A<R!O=71P=70L('-O('1"
    "H870@4$E$(&MN;W=S('=H971H97(@:70*<VAO=6QD(&)E(&EN=&5G<F%T:6YG(&]N('1H92!E<G)O<B!O<B!N;W0N($EF('=E(&%R92!I;B!3:&EF="
    "\"U)9&QE(&UO9&4L\"G=E('-E;F0@>F5R;R!T;W)Q=65S+B!!;'-O(&EN('1H:7,@8FQO8VLL('=E(&-O;G9E<G0@:F]I;G0@=&]R<75E('1O(&UO="
    "&]R\"F-U<G)E;G0@=7-I;F<@=&AE('1R86YS9F]R;6%T:6]N<R!I;B!T:&4@9&]C=6UE;G1A=&EO;BX@5&AE;B!W92!P86-K('1H90IT;W)Q=64@<&"
    "%C:V5T<R!I;G1O(&$@0T%.(&UE<W-A9V4@86YD('-E;F0@:70N\"@I4;R!R96-E:79E(&IO:6YT('!O<VET:6]N<R!W92!A;'-O('-E;F0@82!#04X"
    "@;65S<V%G92!W:&EC:\"!W:6QL(')E<W!O;F0*8F%C:R!W:71H('1H92!A<'!R;W!R:6%T92!I;F9O<FUA=&EO;BX@3VYC92!W92!R96-E:79E('1H"
    "92!J;VEN=\"!P;W-I=&EO;G,L\"G=E(&YE960@=&\\@9&EF9F5R96YT:6%T92!I=\"!T;R!G970@:F]I;G0@=F5L;V-I=&EE<R H<VEN8V4@=&AE(%"
    "=!32!D;V5S(&YO= IH879E('1A8VAO;65T97)S*2X@1FEN86QL>2P@<&%S<VEN9R!I=\"!T:')O=6=H(&$@;6]V:6YG(&%V97)A9V4@;V8@=&AE(&Q"
    "A<W0*;B!R96%D:6YG<R!R96UO=F5S('-O;64@;V8@=&AE(&YO:7-E(&%N9\"!G:79E<R!U<R!A('-M;V]T:&5R('9E;&]C:71Y\"G-I9VYA;\"X   "
    " .    ,     8    (    !          %    \"     $    #     0         0  , 5%A4  "
  }
  DataRecord {
    Tag			    DataTag13
    Data		    "  %)30     .    L (   8    (     @         %    \"     $    !     0         %  0 \"     $    8    =F5R<"
    "VEO;@!C;VYT96YT &9O<FUA=   #@   #@    &    \"     8         !0    @    !     0    $         \"0    @    S,S,S,S/S/"
    "PX   #@ 0  !@    @    $          4    (     0   *T!   !         !    \"M 0  2&5R92!W92!D;R!T:&4@<VEM<&QE(&-O;G9E<G"
    "-I;VX@9G)O;2!J;VEN=\"!T;W)Q=64@=&\\@;6]T;W(@=&]R<75E+\"!T:&5N\"FUO=&]R('1O<G%U92!T;R!M;W1O<B!C=7)R96YT+B!4:&4@2C)-"
    "('1O<G%U92!M871R:7@@8V%N(&)E(&9O=6YD(&EN('1H90ID;V-U;65N=&%T:6]N+B!*;VEN=\" T(&AA<R!A(\"TQ.\"!A<R!O<'!O<V5D('1O(\""
    "LQ.\"!B96-A=7-E('1H92!M;W1O<B!W87,*<F5V97)S960@870@;VYE('!O:6YT(&1U<FEN9R!A(')E<&%I<BX@22!B96QI979E(&YE=V5R(&UO9&5"
    "L<R!O9B!T:&4@5T%-\"F%D:&5R92!T;R!T:&ES(\"TQ.\"X@5&AE(#(W,# @:7,@82!C;VYV97)S:6]N(&9R;VT@3FT@=&\\@8W5R<F5N=\"!F;W(@"
    "=&AE\"G!U8VMS+B!296%D('1H92!D;V-U;65N=&%T:6]N(&9O<B!M;W)E(&EN9F\\@86)O=70@=VAA=\"!A('!U8VL@:7,N    #@   #     &   "
    " \"     0         !0    @    !     P    $         $  # %185  "
  }
  DataRecord {
    Tag			    DataTag14
    Data		    "  %)30     .    > ,   8    (     @         %    \"     $    !     0         %  0 \"     $    8    =F5R<"
    "VEO;@!C;VYT96YT &9O<FUA=   #@   #@    &    \"     8         !0    @    !     0    $         \"0    @    S,S,S,S/S/"
    "PX   \"H @  !@    @    $          4    (     0   '<\"   !         !    !W @  2&5R92!W92!S<&QI=\"!T:&4@8W5R<F5N=\"!"
    "S:6=N86P@:6YT;R!J;VEN=',@,2TT(&%N9\"!J;VEN=',@-2TW('1H96X@9&\\@<V]M92!B:70@<&%C:VEN9PIT;R!P86-K(&EN=&\\@,30M8FET(#"
    "(G<R!C;VUP;&5M96YT(&YU;6)E<G,N(%1H92!)1\" Q-S @*#$P,3 @,3 Q,\"D@;65A;G,*(G-E=\"!P<F]P97)T>2 T,B(L('=H97)E('!R;W!E<"
    "G1Y(#0R(&ES('1H92!M;W1O<B!T;W)Q=65S+B!4:&4@:6YI=&EA;\" Q(&UE86YS(\")'<F]U<\"!\"<F]D8V%S=\"(*5V4@<V5N9\"!T;R!T:&4@;"
    "&]W97(@87)M(\"AJ;VEN=\" Q+30I('5S:6YG('1H92!#04X@;65S<V%G92!)1\" Q,#(U(\"@Q(# P,# P(# P,# Q*0IW:&EC:\"!M96%N<R!A(&"
    "=R;W5P(&)R;V%D8V%S=\"!F<F]M(&AO<W0@=&\\@=&AE(&QO=V5R(&%R;2X@(%=E('-E;F0@=&\\@=&AE('5P<&5R(&%R;2 H:F]I;G1S(#4M-RD*="
    "7-I;F<@=&AE($-!3B!M97-S86=E($E$(#$P,C8@*#$@,# P,# @,# P,3 I('=H:6-H(&UE86YS(&$@9W)O=7 @8G)O9&-A<W0@9G)O;2!H;W-T('1"
    "O('5P<&5R(&%R;2X*06QL(&]F('1H:7,@:7,@=V5L;\"!D;V-U;65N=&%T960@:6X@=&AE(\")#04X@0V]M;75N:6-A=&EO;B!3<&5C(B!O9B!T:&4"
    "@0F%R<F5T=\"!D;V-U;65N=&%T:6]N+@ .    ,     8    (    !          %    \"     $    #     0         0  , 5%A4  "
  }
  DataRecord {
    Tag			    DataTag15
    Data		    "  %)30     .    X $   8    (     @         %    \"     $    !     0         %  0 \"     $    0    =F5R<"
    "VEO;@!C;VYT96YT  X    X    !@    @    &          4    (     0    $    !          D    (    FIF9F9F9\\3\\.    4 $  "
    " 8    (    !          %    \"     $    @ 0   0         0    ( $  %1H:7,@:7,@=VAE<F4@=&AE(&-O;G1R;VP@:&%P<&5N<RX@5V"
    "4@=&%K92!T:&4@8W5R<F5N=\"!P;W-I=&EO;B!A;F0*=F5L;V-I='D@87,@:6YP=70L(&%N9\"!P87-S('1H;W-E('1O(&$@4$E$(&)L;V-K('=H:6"
    "-H('1H96X@<'5S:&5S(&]U=\"!A\"F1E<VER960@86-C96QE<F%T:6]N+B!4:&4@9&5S:7)E9\"!A8V-E;&5R871I;VYS(&=O('1H<F]U9V@@4F5C="
    "7)S:79E($YE=W1O;@I%=6QE<B!W:&EC:\"!T:&5N(&]U='!U=',@=&AE(&%P<')O<')I871E('1O<G%U97,@=&\\@8F4@<V5N=\"!T;R!T:&4@5T%-"
    "+@"
  }
  DataRecord {
    Tag			    DataTag16
    Data		    "  %)30     .    > (   8    (     @         %    \"     $    !     0         %  0 \"     $    0    =F5R<"
    "VEO;@!C;VYT96YT  X    X    !@    @    &          4    (     0    $    !          D    (    FIF9F9F9\\3\\.    Z $  "
    " 8    (    !          %    \"     $   \"T 0   0         0    M $  %1H:7,@:7,@=&AE(%!)1\"!C;VYT<F]L('!O<G1I;VXN($1E"
    "<VER960@<&]S:71I;VX@8V]M97,@9G)O;2!T:&4@5410\"G)E8V5I=F4@8FQO8VLN($9O<B!N;W<@=&AE(&1E<VER960@=F5L;V-I='D@:7,@>F5R;"
    "RP@8G5T(&5V96YT=6%L;'D@=V4@=VEL; IW;W)K(&EN('!A<F%B;VQI8R!B;&5N9&EN9R!A=\"!T<F%J96-T;W)Y('!O:6YT<RX@5&AE(&EN=&5G<F"
    "%L('1E<FT@:7,*<W=I=&-H960@;V9F(&EF('1H92!704T@:7,@:6X@4VAI9G0M261L92!M;V1E('1O(&%V;VED(&EN=&5G<F%T;W(@=VEN9'5P+@I4"
    ":&5R92!I<R!A;'-O(&$@<V%T=7)A=&EO;B!L:6UI=\"!O;B!T:&4@:6YT96=R871I;VXN($9I;F%L;'DL('1H92!O=71P=70@:7,*=&AE(&1E<VER9"
    "60@:F]I;G0@86-C96QE<F%T:6]N<R!W:&EC:\"!I<R!F960@=&\\@4F5C=7)S:79E($YE=W1O;B!%=6QE<BX     "
  }
}
#Finite State Machines
#
#   Stateflow Version 8.1 (R2014a) dated Feb  8 2014, 02:29:12
#
#
Stateflow {
  machine {
    id			    1
    name		    "wamjc7"
    created		    "11-Aug-2008 12:03:48"
    isLibrary		    0
    firstTarget		    373
    sfVersion		    76014001.002
  }
  chart {
    id			    2
    name		    "Subsystem/Compute Arm Torque/Dynamics Compensation"
    windowPosition	    [392 254.431 213 385]
    viewLimits		    [0 156.75 0 153.75]
    screen		    [1 1 1280 1024 1.333333333333333]
    treeNode		    [0 3 0 0]
    firstTransition	    11
    firstJunction	    10
    viewObj		    2
    machine		    1
    ssIdHighWaterMark	    9
    decomposition	    CLUSTER_CHART
    type		    EML_CHART
    firstData		    4
    chartFileNumber	    1
    disableImplicitCasting  1
    eml {
      name		      "dynamicsComp"
    }
  }
  state {
    id			    3
    labelString		    "eML_blk_kernel()"
    position		    [18 64.5 118 66]
    fontSize		    12
    chart		    2
    treeNode		    [2 0 0 0]
    superState		    SUBCHART
    subviewer		    2
    ssIdNumber		    1
    type		    FUNC_STATE
    decomposition	    CLUSTER_STATE
    eml {
      isEML		      1
      script		      "function [tau, FTsensor] = dynamicsComp(hand_on,q,qd,qdd)\n%-------------------------------------"
      "------------------------------------------------\n%   SETUP THE ARM\n%------------------------------------------"
      "-------------------------------------------    \n    DH_a = [0 0 0.045 -0.045 0 0 0];\n    DH_d = [0 0 .55 0 0.3"
      " 0 0.061];\n    DH_alpha = [-pi/2 pi/2 -pi/2 pi/2 -pi/2 pi/2 0];\n\n    m = [8.3936 4.8487 1.7251 2.17266212 0.3"
      "5655692 0.40915886 0.07548270];\n    \n    com = zeros(3,7);\n    com(:,1) = [0.3506e-3, 132.6795e-3, 0.6286e-3]"
      ";\n    com(:,2) = [-0.2230e-3, -21.3924e-3, 13.3754e-3];\n    com(:,3) = [-38.7565e-3, 217.9078e-3, 0.0252e-3];\n"
      "    com(:,4) = [0.00553408,0.00006822,0.11927695];\n    com(:,5) = [0.00005483,0.02886286,0.00148493];\n    com("
      ":,6) = [-0.00005923,-0.01686123,0.02419052];\n    com(:,7) = [ 0.00014836,0.00007252,-0.00335185];\n    \n    % "
      "Need Inertia matricies\n    I = zeros(3,3,7);\n    I(:,:,1) = [ 95157.4294e-6,   246.1404e-6,   -95.0183e-6 ;\n "
      "                  246.1404e-6, 92032.3524e-6,  -962.6725e-6 ;\n                   -95.0183e-6,  -962.6725e-6, 59"
      "290.5997e-6 ];\n    I(:,:,2) = [ 29326.8098e-6,   -43.3994e-6,  -129.2942e-6 ;\n                   -43.3994e-6, "
      "20781.5826e-6,  1348.6924e-6 ;\n                  -129.2942e-6,  1348.6924e-6, 22807.3271e-6 ];\n    I(:,:,3) = "
      "[ 56662.2970e-6, -2321.6892e-6,     8.2125e-6 ;\n                 -2321.6892e-6,  3158.0509e-6,   -16.6307e-6 ;\n"
      "                     8.2125e-6,   -16.6307e-6, 56806.6024e-6 ];\n    I(:,:,4) = [  0.01067491,  0.00004503, -0.0"
      "0135557 ;\n                  0.00004503,  0.01058659, -0.00011002 ;\n                 -0.00135557, -0.00011002, "
      " 0.00282036 ];\n    I(:,:,5) = [  0.00037112, -0.00000008, -0.00000003 ;\n                 -0.00000008,  0.00019"
      "434, -0.00001613 ;\n                 -0.00000003, -0.00001613,  0.00038209 ];\n    I(:,:,6) =  [  0.00054889,  0"
      ".00000019, -0.00000010 ;\n                   0.00000019,  0.00023846, -0.00004430 ;\n                  -0.000000"
      "10, -0.00004430,  0.00045133 ];\n    I(:,:,7) = [ 0.00003911, 0.00000019, 0.00000000 ;      % WAM without hand\n"
      "                 0.00000019, 0.00003877, 0.00000000 ;\n                 0.00000000, 0.00000000, 0.00007614 ];\n "
      "   \n    %Link Gear Ratio\n    % The differential drive mechanism was ignored here because it's not\n    % suppo"
      "rted by the robotic toolbox yet.\n    % Please refer to: http://www.me.unm.edu/~starr/research/WAM_MassParams_AA"
      "-00.pdf\n    G = zeros(7,1);\n    G(1) =  42.00;\n    G(2) =  28.25;\n    G(3) =  28.25;\n    G(4) =  18.00;\n  "
      "  G(5) =  9.70;\n    G(6) =  9.70;\n    G(7) =  14.93;\n    %Link Motor Inertia\n    Jm = zeros(7,1);\n    Jm(1)"
      " = 0.00011631;\n    Jm(2) = 0.00011831;\n    Jm(3) = 0.00011831;\n    Jm(4) = 0.00010686;\n    Jm(5) = 0.0000168"
      "5;\n    Jm(6) = 0.00001745;\n    Jm(7) = 0.00000142;\n             \n    if hand_on\n        hand_mass = 1.3731;"
      "\n        DH_d(7) = DH_d(7) + .0953; % Adding the distance to the hand frame for the Schunk Gripper\n        com"
      "(:,7) = ([0.001127;	-0.000211;	0.054851].*hand_mass + com(:,7).*m(7))/(hand_mass + m(7)); % Finding the combined"
      " center of mass\n        m(7) = m(7) + hand_mass; % Adding the mass of the hand\n        I(:,:,7) = [ .003167342"
      ",          0,         0;       % Approximate Inertia Tensor for Schunk Gripper\n                              0,"
      " .001128942,         0;\n                              0,          0, .00258007;];\n    end\n    \n%------------"
      "-------------------------------------------------------------------------\n%  END SETUP OF THE ARM\n%-----------"
      "--------------------------------------------------------------------------\n\n    z0 = [0;0;1];\n    grav = [0 0"
      " 9.81];\n	fext = zeros(6, 1);\n    n = 7;\n    FTsensor = zeros(6,1);\n    \n    tau = zeros(n,1);\n    \n    Fm"
      " = zeros(3,7);\n    Nm = zeros(3,7);\n    N = zeros(3,1);\n    pstarm = zeros(3,7);\n    Rm = zeros(3,3,7);\n   "
      " w = zeros(3,1);\n    wd = zeros(3,1);\n    v = zeros(3,1);\n    vd = grav(:);\n    \n    \n    %\n	% init some "
      "variables, compute the link rotation matrices\n	%\n    for j=1:n,\n        a = DH_a(j);\n        d = DH_d(j);\n "
      "       alpha = DH_alpha(j);\n        Tj = getTransformDH(a, d, alpha, q(j));\n        \n        pstar = [a; d*si"
      "n(alpha); d*cos(alpha)];\n        if j == 1,\n            pstar = eye(3) * pstar;\n            Tj = eye(4) * Tj;"
      "\n        end\n        pstarm(:,j) = pstar;\n        Rm(:,:,j) = Tj(1:3,1:3);\n    end\n    \n    %\n	%  the for"
      "ward recursion\n	%\n    for j=1:n,\n        Rt = Rm(:,:,j)';	% transpose!!\n        pstar = pstarm(:,j);\n      "
      "  r = com(:,j)';\n\n        %\n        % statement order is important here\n        %\n        % revolute axis\n"
      "        wd = Rt*(wd + z0*qdd(j) + cross(w,z0*qd(j)));\n        w = Rt*(w + z0*qd(j));\n        %v = cross(w,psta"
      "r) + Rt*v;\n        vd = cross(wd,pstar) + cross(w, cross(w,pstar)) + Rt*vd;\n\n        %vhat = cross(wd,r') + c"
      "ross(w,cross(w,r')) + vd;\n        vhat = cross(wd,r') + cross(w,cross(w,r')) + vd;\n        F = m(j)*vhat;\n   "
      "     N = I(1:3,1:3,j)*wd + cross(w,I(1:3,1:3,j)*w);\n        Fm(:,j) = F;\n        Nm(:,j) = N;\n    end\n    \n"
      "    \n    %\n	%  the backward recursion\n	%\n\n    fext = fext(:);\n    f = fext(1:3);		% force/moments on end o"
      "f arm\n    nn = fext(4:6);\n\n    for j=n:-1:1,\n        pstar = pstarm(:,j);\n\n        %\n        % order of t"
      "hese statements is important, since both\n        % nn and f are functions of previous f.\n        %\n        if"
      " j == n,\n            R = eye(3,3);\n        else\n            R = Rm(:,:,j+1);\n        end\n        r = com(:,"
      "j)';\n        \n        % The expected force/torque at the sensor.  Used for dynamic compensation\n        % of "
      "the gripper.\n        if j == n\n            FTsensor(1:3) = R*f + Fm(:,j);\n            FTsensor(4:6) = cross(r"
      "',Fm(:,j));\n        end\n        \n        nn = R*(nn + cross(R'*pstar,f)) + cross(pstar+r',Fm(:,j)) + Nm(:,j);"
      "\n        f = R*f + Fm(:,j);\n        \n        R = Rm(:,:,j);\n        % revolute\n        tau(j) = nn'*(R'*z0)"
      " + G(j)^2 * Jm(j)*qdd(j);% + abs(G(j)) * friction(link, qd(j));\n    end\n\nend\n\nfunction T = getTransformDH(a"
      ",d,alpha,q)\n    ct = cos(q);\n    st = sin(q);\n    cb = cos(alpha);\n    sb = sin(alpha);\n    \n    T = [ ct,"
      " -st*cb,  st*sb, a*ct;\n          st,  ct*cb, -ct*sb, a*st;\n          0, sb, cb, d;\n          0, 0, 0, 1 ];\ne"
      "nd"
      editorLayout	      "100 M4x1[376 150 1319 881]"
    }
  }
  data {
    id			    4
    ssIdNumber		    4
    name		    "hand_on"
    linkNode		    [2 0 5]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    5
    ssIdNumber		    5
    name		    "tau"
    linkNode		    [2 4 6]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    6
    ssIdNumber		    6
    name		    "q"
    linkNode		    [2 5 7]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    7
    ssIdNumber		    7
    name		    "qd"
    linkNode		    [2 6 8]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    8
    ssIdNumber		    8
    name		    "qdd"
    linkNode		    [2 7 9]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    9
    ssIdNumber		    9
    name		    "FTsensor"
    linkNode		    [2 8 0]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  junction {
    id			    10
    position		    [23.5747 49.5747 7]
    chart		    2
    linkNode		    [2 0 0]
    subviewer		    2
    ssIdNumber		    3
    type		    CONNECTIVE_JUNCTION
  }
  transition {
    id			    11
    labelString		    "{eML_blk_kernel();}"
    labelPosition	    [36.125 25.875 102.544 14.964]
    fontSize		    12
    src {
      intersection	      [0 0 1 0 23.5747 14.625 0 0]
    }
    dst {
      id		      10
      intersection	      [1 0 -1 0 23.5747 42.5747 0 0]
    }
    midPoint		    [23.5747 24.9468]
    chart		    2
    linkNode		    [2 0 0]
    dataLimits		    [23.575 23.575 14.625 34.575]
    subviewer		    2
    drawStyle		    SMART
    slide {
      sticky		      BOTH_STICK
    }
    executionOrder	    1
    ssIdNumber		    2
  }
  instance {
    id			    12
    name		    "Subsystem/Compute Arm Torque/Dynamics Compensation"
    machine		    1
    chart		    2
  }
  chart {
    id			    13
    name		    "Subsystem/Impedance Controller/Convert NaN to Zero"
    windowPosition	    [365.333 220.298 213 385]
    viewLimits		    [0 156.75 0 153.75]
    screen		    [1 1 1280 1024 1.333333333333333]
    treeNode		    [0 14 0 0]
    firstTransition	    18
    firstJunction	    17
    viewObj		    13
    machine		    1
    ssIdHighWaterMark	    5
    decomposition	    CLUSTER_CHART
    type		    EML_CHART
    firstData		    15
    chartFileNumber	    2
    disableImplicitCasting  1
    eml {
      name		      "fcn"
    }
  }
  state {
    id			    14
    labelString		    "eML_blk_kernel()"
    position		    [18 64.5 118 66]
    fontSize		    12
    chart		    13
    treeNode		    [13 0 0 0]
    superState		    SUBCHART
    subviewer		    13
    ssIdNumber		    1
    type		    FUNC_STATE
    decomposition	    CLUSTER_STATE
    eml {
      isEML		      1
      script		      "function y = fcn(u)\n%#eml\n\nu(isnan(u)) = 0; % convert NaN into 0!!!!\nu(isinf(u)) = 0;\n\ny = "
      "u;"
      editorLayout	      "100 M4x1[54 154 1460 920]"
    }
  }
  data {
    id			    15
    ssIdNumber		    4
    name		    "u"
    linkNode		    [13 0 16]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    16
    ssIdNumber		    5
    name		    "y"
    linkNode		    [13 15 0]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  junction {
    id			    17
    position		    [23.5747 49.5747 7]
    chart		    13
    linkNode		    [13 0 0]
    subviewer		    13
    ssIdNumber		    3
    type		    CONNECTIVE_JUNCTION
  }
  transition {
    id			    18
    labelString		    "{eML_blk_kernel();}"
    labelPosition	    [36.125 25.875 102.544 14.964]
    fontSize		    12
    src {
      intersection	      [0 0 1 0 23.5747 14.625 0 0]
    }
    dst {
      id		      17
      intersection	      [1 0 -1 0 23.5747 42.5747 0 0]
    }
    midPoint		    [23.5747 24.9468]
    chart		    13
    linkNode		    [13 0 0]
    dataLimits		    [23.575 23.575 14.625 34.575]
    subviewer		    13
    drawStyle		    SMART
    slide {
      sticky		      BOTH_STICK
    }
    executionOrder	    1
    ssIdNumber		    2
  }
  instance {
    id			    19
    name		    "Subsystem/Impedance Controller/Convert NaN to Zero"
    machine		    1
    chart		    13
  }
  chart {
    id			    20
    name		    "Subsystem/Compute Arm Torque/Compute Tool\nConfiguration"
    windowPosition	    [365.333 220.298 213 385]
    viewLimits		    [0 156.75 0 153.75]
    screen		    [1 1 1280 1024 1.333333333333333]
    treeNode		    [0 21 0 0]
    firstTransition	    26
    firstJunction	    25
    viewObj		    20
    machine		    1
    ssIdHighWaterMark	    6
    decomposition	    CLUSTER_CHART
    type		    EML_CHART
    firstData		    22
    chartFileNumber	    3
    disableImplicitCasting  1
    eml {
      name		      "tool_config"
    }
    supportVariableSizing   0
  }
  state {
    id			    21
    labelString		    "eML_blk_kernel()"
    position		    [18 64.5 118 66]
    fontSize		    12
    chart		    20
    treeNode		    [20 0 0 0]
    superState		    SUBCHART
    subviewer		    20
    ssIdNumber		    1
    type		    FUNC_STATE
    decomposition	    CLUSTER_STATE
    eml {
      isEML		      1
      script		      "function w = tool_config(q,hand_on)\n    % a, d, and alpha (b) DH parameters\n    dh_a = [0 0 0.0"
      "45 -0.045 0 0 0 0];\n    dh_d = [0 0 0.55 0 0.3 0 .061 0]; % Not sure about dh_d(8) For the hand\n    dh_b = [-p"
      "i/2 pi/2 -pi/2 pi/2 -pi/2 pi/2 0 0];\n    \n    % hand on\n    if (hand_on)\n        dh_d(8) = 0.0953; % Schunk "
      "Gripper\n    end\n    \n    qFull = [q; 0];\n        \n    ct = cos(qFull);\n    st = sin(qFull);\n    cb = cos("
      "dh_b);\n    sb = sin(dh_b);\n\n    % compute forward kinematics\n    T0 = eye(4);\n    for i=1:8\n        T = [ "
      "ct(i), -st(i)*cb(i),  st(i)*sb(i), dh_a(i)*ct(i);\n              st(i),  ct(i)*cb(i), -ct(i)*sb(i), dh_a(i)*st(i"
      ");\n              0, sb(i), cb(i), dh_d(i);\n              0, 0, 0, 1 ];\n        T0 = T0*T;\n    end\n\n    w ="
      " [ T0(1:3,4); T0(1:3,3) ];\nend\n"
      editorLayout	      "100 M4x1[66 61 1319 881]"
      fimathString	      "fimath(...\n'RoundMode', 'floor',...\n'OverflowMode', 'wrap',...\n'ProductMode', 'KeepLSB', "
      "'ProductWordLength', 32,...\n'SumMode', 'KeepLSB', 'SumWordLength', 32,...\n'CastBeforeSum', true)"
      emlDefaultFimath	      FimathUserSpecified
    }
  }
  data {
    id			    22
    ssIdNumber		    4
    name		    "q"
    linkNode		    [20 0 23]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    23
    ssIdNumber		    5
    name		    "w"
    linkNode		    [20 22 24]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    24
    ssIdNumber		    6
    name		    "hand_on"
    linkNode		    [20 23 0]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  junction {
    id			    25
    position		    [23.5747 49.5747 7]
    chart		    20
    linkNode		    [20 0 0]
    subviewer		    20
    ssIdNumber		    3
    type		    CONNECTIVE_JUNCTION
  }
  transition {
    id			    26
    labelString		    "{eML_blk_kernel();}"
    labelPosition	    [36.125 25.875 102.544 14.964]
    fontSize		    12
    src {
      intersection	      [0 0 1 0 23.5747 14.625 0 0]
    }
    dst {
      id		      25
      intersection	      [1 0 -1 0 23.5747 42.5747 0 0]
    }
    midPoint		    [23.5747 24.9468]
    chart		    20
    linkNode		    [20 0 0]
    dataLimits		    [23.575 23.575 14.625 34.575]
    subviewer		    20
    drawStyle		    SMART
    slide {
      sticky		      BOTH_STICK
    }
    executionOrder	    1
    ssIdNumber		    2
  }
  instance {
    id			    27
    name		    "Subsystem/Compute Arm Torque/Compute Tool\nConfiguration"
    machine		    1
    chart		    20
  }
  chart {
    id			    28
    name		    "Subsystem/Plan Arm Trajectory/Check FT"
    windowPosition	    [414 326.75 213 385]
    viewLimits		    [0 156.75 0 153.75]
    screen		    [1 1 1280 1024 1.333333333333333]
    treeNode		    [0 29 0 0]
    firstTransition	    40
    firstJunction	    39
    viewObj		    28
    machine		    1
    ssIdHighWaterMark	    40
    decomposition	    CLUSTER_CHART
    type		    EML_CHART
    firstData		    30
    chartFileNumber	    4
    disableImplicitCasting  1
    eml {
      name		      "verify_FT"
    }
    supportVariableSizing   0
  }
  state {
    id			    29
    labelString		    "eML_blk_kernel()"
    position		    [18 64.5 118 66]
    fontSize		    12
    chart		    28
    treeNode		    [28 0 0 0]
    superState		    SUBCHART
    subviewer		    28
    ssIdNumber		    1
    type		    FUNC_STATE
    decomposition	    CLUSTER_STATE
    eml {
      isEML		      1
      script		      "function [FTerror, InContact,contact_scenario, FTERR,CTS]  = verify_FT(type, guarded, FT, FTExp)\n"
      "    persistent ErrorCounts type_last ContactCounts AxisBlocked_counts;\n    \n    % Initialize ErrorCounts\n    "
      "if isempty(ErrorCounts) || isempty(ContactCounts) || isempty(type_last) || isempty(AxisBlocked_counts)\n        "
      "ErrorCounts = 0;\n        ContactCounts = 0;\n        type_last = type;\n        reset = 1;\n        AxisBlocked"
      "_counts = -1;\n    else\n        reset = 0;\n    end\n    \n    if type_last == 0 && (type == 1 || type == 2)\n "
      "      reset = 1; \n    end\n    \n    % Assume no error, set to 1 if we should stop.\n    FTerror = 0;\n    InCo"
      "ntact = 0;\n    \n    % Compute the error (FT has a gripper force in FT(7) and Gripper width in FT(8))\n    Grip"
      "perForce = FT(7);\n    GripperWidth = FT(8);\n    AxisBlocked = FT(10);\n    FErr = -FTExp(1:3) - FT(1:3);\n    "
      "TauErr = -FTExp(4:6) - FT(4:6);\n    FTERR = [GripperForce;FErr;TauErr];\n    \n    %\n    dt = guarded(3);\n   "
      " adjustMode = guarded(4);\n    squeeze = guarded(5);\n    \n    signal = FTERR;\n    \n    [ signal_smoothed ] ="
      " smooth(signal, reset);\n    \n    % Get wether contact exists and the contact scenario\n    [contact_or_not] = "
      "contact_detection(signal_smoothed);\n    [contact_scenario LRBest] = contact_mode_detection(signal_smoothed, Gri"
      "pperWidth);\n\n    if adjustMode == 1 || adjustMode == 2 || adjustMode == 3  % If we are backing up, moving left"
      "/right, moving up/down\n        contact_or_not = 0; % Disable contact\n    end\n    \n    FTERR = [contact_or_no"
      "t+contact_scenario*.1;FErr;TauErr];\n    \n%     % Axis blocked should only occur when the arm is being held sta"
      "tionary\n%     if AxisBlocked && type == 0 && dt < .01 && AxisBlocked_counts == -1\n%        AxisBlocked_counts "
      "= 100;\n%     end\n%     if AxisBlocked_counts > 0\n%        AxisBlocked_counts = AxisBlocked_counts - 1;\n%    "
      " elseif AxisBlocked_counts == 0\n%        AxisBlocked_counts = -1;\n%        InContact = 2;\n%        contact_sc"
      "enario = LRBest;\n%     end\n    \n\n    % guarded(1) - set to 1 for a guarded move, zero for an unguarded move\n"
      "    % guarded(2) - the first time that the guarded move should be active (can be used for moves that are only gu"
      "arded after a certain time)\n    % guarded(3) - dt, the current time in the guarded move\n    if guarded(1) && d"
      "t > guarded(2)\n        % If we are in a Jacobian cartesian space move or a trajectory move\n        if type == "
      "1 || type == 2\n            \n            % Error if force error in any direction is greater than 10N \n        "
      "    % Error if torque error in any direction is greater than 2Nm\n            if max(abs(FErr)) > 20 ||  max(abs"
      "(TauErr)) > 2\n\n               ErrorCounts = ErrorCounts + 1;\n               % There have to be a few errors i"
      "n a row to trip\n               if(ErrorCounts >= 150)\n                   FTerror = 1;\n                   Erro"
      "rCounts = 0;\n               end\n            else\n               % No error, so reset the counter\n           "
      "    ErrorCounts = 0;\n            end            \n        end\n        \n        if contact_or_not ~= 0\n      "
      "      ContactCounts = ContactCounts + 1;\n            % There have to be several contacts in a row to trip\n    "
      "        if ContactCounts >= 150\n                InContact = 1;\n                ContactCounts = 0;\n           "
      " end\n        else\n            ContactCounts = 0;\n        end\n        \n    end\n    CTS = [ErrorCounts Conta"
      "ctCounts];\n    type_last = type;\n\nend\n\n% This function decides whether contact happened using the force-tor"
      "que\n% sensor and specified threshold. \n% signal_vector should be a time-averaged 7*1 vector [gripperforce, for"
      "ce, torque]\n% threshold is a scalar representing the strictness, recommended value\n% between [10, 20]\nfunctio"
      "n [ contact ] =  contact_detection(signal_vector)\n    threshold = 16;\n\n    Mus = [-0.337634322861447  -0.1303"
      "86058335315  -0.098594565877126;\n            0.273757011075547  -0.016476289250917  -0.072807232006565;\n      "
      "     -0.000208767802535   0.036818865520259   0.046065050271432];\n    Pis = [0.157951625363198   0.195300606091"
      "319   0.646747768545482];\n    Sigma = zeros(3,3,3);\n    Sigma(:,:,1) = [0.204764891913026  -0.096565136348113 "
      "  0.009147745682555;\n                   -0.096565136348113   0.238887381134154  -0.038984546927037;\n          "
      "          0.009147745682555  -0.038984546927037   0.075270646313585];\n    Sigma(:,:,2) = [0.099889296660488   0"
      ".035874721853541   0.033846034465123;\n                    0.035874721853541   0.105346220734475   0.02866642293"
      "5959;\n                    0.033846034465123   0.028666422935959   0.155774067788949];\n    Sigma(:,:,3) = [0.05"
      "4725825465771   0.003368648301894  -0.014556274228691;\n                    0.003368648301894   0.04449055211430"
      "1  -0.004333417130894;\n                   -0.014556274228691  -0.004333417130894   0.045027482383305];\n    m_n"
      "c = [ -0.052387061108295   0.032833282827717  -0.079498518372937  -0.059858140113800   0.002470515976984   0.002"
      "255694209123  0.000276539576848];\n    pca_vector_nc = [-0.004188538649641   0.027820200838378  -0.0142377464797"
      "98   0.999495221975548   0.003443678359730   0.000411892412716  -0.001746944908936;\n                     -0.427"
      "448016586007  -0.024401593759104   0.902721495939015   0.011730377792682  -0.007815172210556  -0.025143914544832"
      "  -0.030915384355590;\n                      0.798011594955261  -0.477360371170200   0.364479902258289   0.02168"
      "2258200983   0.041351251599484  -0.016434509962265  -0.002971827007047;\n                      0.423236309103029"
      "   0.877633894049199   0.223924886795269  -0.019461679311100  -0.003296799307204  -0.007494207961175  -0.0064521"
      "89269240;\n                     -0.035310632068167   0.022396696121380  -0.011263896600617  -0.004310313793208  "
      " 0.991135832915610  -0.125220033218201  -0.008706152174191;\n                     -0.005501687781820   0.0033901"
      "52482245   0.042126110498095   0.001191043086522   0.090655724693849   0.664386771964729   0.740644292050432;\n "
      "                     0.006485439767152  -0.001821419394632   0.001322390256420  -0.001680718286583   0.087393189"
      "431848   0.736173565237476  -0.671089383211312];\n    \n    nlogL = negative_log_likelihood(Mus, Sigma, Pis, (si"
      "gnal_vector(:) - m_nc(:))' * pca_vector_nc(:, 1:3));\n    contact = double(nlogL >= threshold);\nend\n\n\n% This"
      " function calculates the negative log-likelihood and posterior\n% responsibility given an observation for a know"
      "n GMM\nfunction [nlogl, post] = negative_log_likelihood(Mus, Sigmas, pis, X)\n    k = size(Mus, 1);\n    probs ="
      " zeros(1, k);\n    for i = 1:k\n        probs(i) = single_multivariate_gaussian_distribution(Mus(i, :), Sigmas(:"
      ", :, i), X); \n    end\n    nlogl = -log(sum(probs .* pis));\n    \n    post = zeros(1, k);\n    for i = 1:k\n  "
      "      post(i) = pis(i)*probs(i)/sum(pis.*probs);\n    end\nend\n\n% This function calculates a single multi-vari"
      "ate gaussian distribution\n% probability\nfunction [prob] = single_multivariate_gaussian_distribution(mu, sigma,"
      " x)\n    k = length(mu);\n    mu = mu(:);\n    x = x(:);\n    prob = 1/((2*pi)^(k/2)*(det(sigma)^0.5))*exp(-0.5*"
      "(x-mu)'/(sigma)*(x-mu));\nend\n\n% This function decides which contact mode happened using the force-torque\n% s"
      "ensor, current gripper width, annd pre-computed gaussian kernel among three different cases, left\n% fingertip, "
      "right fingertip and palm \n\n% It's not a perfect implementation yet. Because the highest success rate\n% on tra"
      "ining data is now around 90%. The sigma matrices in the parameter\n% set file are optimized based on the trainin"
      "g data.\n\n% signal_vector should be a time-averaged 7*1 vector [gripperforce, force, torque]\n% contactmode = 1"
      " when left fingertip\n% contactmode = 2 when right fingertip\n% contactmode = 4 when palm\n\nfunction [ contactm"
      "ode, LRBest ] = contact_mode_detection(signal_vector, gripper_width)\n\n    % Parameters from Set8\n    sigma1 ="
      " [0.011958878344803  -0.034577862520242  -0.040028047727885;\n             -0.034577862520242   0.31706565259975"
      "7   0.211101604469568;\n             -0.040028047727885   0.211101604469568   2.244619660879594];\n    sigma2 = "
      "[0.005148714984431  -0.001939773758019   0.001817410780275;\n             -0.001939773758019   0.529389506048068"
      "  -0.448411334605652;\n              0.001817410780275  -0.448411334605652   3.883697095128499];\n    sigma3 = ["
      "0.033974727475917  -0.076588901043173  -0.006617010900665;\n             -0.076588901043173   1.400901014437577 "
      "  0.212599907484024;\n             -0.006617010900665   0.212599907484024   0.105210315698683];\n\n    kernel1 ="
      " mode_kernel_fingertip(signal_vector(2:4), 1, gripper_width);\n    kernel2 = mode_kernel_fingertip(signal_vector"
      "(2:4), 2, gripper_width);\n    kernel4 = mode_kernel_fingertip(signal_vector(2:4), 4, gripper_width);\n\n    dat"
      "a_vector = [signal_vector(5:6); signal_vector(1)];\n    density1 = N(sigma1, data_vector, kernel1);\n    density"
      "2 = N(sigma2, data_vector, kernel2);\n    density4 = N(sigma3, data_vector, kernel4);\n\n    contactmode = 0;\n\n"
      "    % Find the actual contact mode\n    if density1 >= density2 && density1 >= density4\n        contactmode = 1"
      ";\n    end\n    if density2 >= density4 && density2 >= density1\n        contactmode = 2;\n    end\n    if densi"
      "ty4 >= density1 && density4 >= density2\n        contactmode = 4;\n    end\n    \n    % Find the best from left "
      "fingertip or right fingertip\n    % From experiments a right fingertip contact will be detected when\n    % ther"
      "e is a left finger contact and vice versa.\n    if density1 >= density2\n       LRBest = 2;\n    else\n       LR"
      "Best = 1;\n    end\n    \nend\n\n% Multi-variate Gaussian distribution density function\nfunction  density = N(s"
      "igma, x, mu)\n    density = 1/(2*pi)^(1.5)/sqrt(det(sigma)) * exp(-0.5 * sum((x-mu)' / sigma .* (x-mu)', 2));\ne"
      "nd\n\n% Calculate different gaussian kernels\nfunction [ kernel ] = mode_kernel_fingertip(force, mode, gripper_w"
      "idth)\n    offset1 = 0.1763;  % from force-torque origin to fingertip\n    offset2 = 0.0953;  % from force-torqu"
      "e origin to palm\n    \n    switch mode\n        case 1\n            disvec = [0  gripper_width/2  offset1-offse"
      "t2];\n            gfkernel = force(2);\n            torquekernel = cross(disvec, force);\n            kernel = ["
      "torquekernel(1:2)'; gfkernel];\n        case 2\n            disvec = [0 -gripper_width/2  offset1-offset2];\n   "
      "         gfkernel = -force(2);\n            torquekernel = cross(disvec, force);\n            kernel = [torqueke"
      "rnel(1:2)'; gfkernel];\n        case 4\n            disvec = [0  0  0];\n            gfkernel = 0;\n            "
      "torquekernel = cross(disvec, force);\n            kernel = [torquekernel(1:2)'; gfkernel];\n    end\nend\n\nfunc"
      "tion  [ newdata ] = smooth(data, reset)\n    persistent data_window total_count\n    \n    time_window_size = 20"
      ";\n    \n    total = zeros(size(data,1),1); % Used to sum up the current values\n    \n    % Initialize the time"
      " window of the data with the specified window size,\n    % only the specified value at first call will be effect"
      "ive.\n    if isempty(data_window) || reset\n        data_window = repmat(data,1,time_window_size);\n        tota"
      "l_count = 0;\n    end\n        \n    if total_count < time_window_size\n        total_count = total_count + 1;\n"
      "    end\n    \n    % Move all of the old data to the front by one slot\n    for i = 1:time_window_size-1\n      "
      " data_window(:,i) = data_window(:,i+1);\n    end\n    % Put data at the end of the window\n    data_window(:,end"
      ") = data(:);\n    \n    for i = time_window_size-total_count+1:time_window_size\n       total = total + data_win"
      "dow(:,i);\n    end\n    \n    % Calculate the average of the window\n    newdata = total / total_count;\n\nend\n"
      editorLayout	      "100 M4x1[145 145 1200 780]"
      fimathString	      "fimath(...\n'RoundMode', 'floor',...\n'OverflowMode', 'wrap',...\n'ProductMode', 'KeepLSB', "
      "'ProductWordLength', 32,...\n'SumMode', 'KeepLSB', 'SumWordLength', 32,...\n'CastBeforeSum', true)"
      emlDefaultFimath	      FimathUserSpecified
    }
  }
  data {
    id			    30
    ssIdNumber		    28
    name		    "type"
    linkNode		    [28 0 31]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    31
    ssIdNumber		    38
    name		    "guarded"
    linkNode		    [28 30 32]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    32
    ssIdNumber		    29
    name		    "FT"
    linkNode		    [28 31 33]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    33
    ssIdNumber		    30
    name		    "FTerror"
    linkNode		    [28 32 34]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    34
    ssIdNumber		    37
    name		    "InContact"
    linkNode		    [28 33 35]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    35
    ssIdNumber		    31
    name		    "FTExp"
    linkNode		    [28 34 36]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    36
    ssIdNumber		    33
    name		    "contact_scenario"
    linkNode		    [28 35 37]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    37
    ssIdNumber		    35
    name		    "FTERR"
    linkNode		    [28 36 38]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    38
    ssIdNumber		    40
    name		    "CTS"
    linkNode		    [28 37 0]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  junction {
    id			    39
    position		    [23.5747 49.5747 7]
    chart		    28
    linkNode		    [28 0 0]
    subviewer		    28
    ssIdNumber		    3
    type		    CONNECTIVE_JUNCTION
  }
  transition {
    id			    40
    labelString		    "{eML_blk_kernel();}"
    labelPosition	    [36.125 25.875 102.544 14.964]
    fontSize		    12
    src {
      intersection	      [0 0 1 0 23.5747 14.625 0 0]
    }
    dst {
      id		      39
      intersection	      [1 0 -1 0 23.5747 42.5747 0 0]
    }
    midPoint		    [23.5747 24.9468]
    chart		    28
    linkNode		    [28 0 0]
    dataLimits		    [23.575 23.575 14.625 34.575]
    subviewer		    28
    drawStyle		    SMART
    slide {
      sticky		      BOTH_STICK
    }
    executionOrder	    1
    ssIdNumber		    2
  }
  instance {
    id			    41
    name		    "Subsystem/Plan Arm Trajectory/Check FT"
    machine		    1
    chart		    28
  }
  chart {
    id			    42
    name		    "Subsystem/Plan Arm Trajectory/Compute parameters\nfor next step"
    windowPosition	    [400.889 239.64 213 385]
    viewLimits		    [0 156.75 0 153.75]
    screen		    [1 1 1280 1024 1.333333333333333]
    treeNode		    [0 43 0 0]
    firstTransition	    67
    firstJunction	    66
    viewObj		    42
    machine		    1
    ssIdHighWaterMark	    28
    decomposition	    CLUSTER_CHART
    type		    EML_CHART
    firstData		    44
    chartFileNumber	    5
    disableImplicitCasting  1
    eml {
      name		      "fcn"
    }
    supportVariableSizing   0
  }
  state {
    id			    43
    labelString		    "eML_blk_kernel()"
    position		    [18 64.5 118 66]
    fontSize		    12
    chart		    42
    treeNode		    [42 0 0 0]
    superState		    SUBCHART
    subviewer		    42
    ssIdNumber		    1
    type		    FUNC_STATE
    decomposition	    CLUSTER_STATE
    eml {
      isEML		      1
      script		      "function [queue_in,push,pop,rst,pckt_new,x0_new,tstart_new] = fcn(qdes,joint_error, FT_error,traj"
      "_done,pckt,x0,tstart,t,queue_empty,udp,udp_rcvd,q,wam_on,wam_flip,home)\n\n    PCKT_LENGTH = 749; % A constant f"
      "or the number of doubles in a UDP packet\n    PCKT_END_ZEROS = PCKT_LENGTH - 8;\n\n    % the input the the queue"
      " will always be the UDP packet\n    % whether or not we actually push it onto the queue is defined below\n    qu"
      "eue_in = udp;\n    \n    % the wam is on\n    if (wam_on)\n        % don't reset queue, and push whenever UDP is"
      " received\n        rst = 0;\n        push = udp_rcvd;\n        \n        % if the wam was just flipped on\n     "
      "   if(wam_flip)\n            % feed a static trajectory to move to home position, with a=0.5 and v=0.5\n        "
      "    % set J2 and J4 not resting, causes vibration\n            pop = 0;\n            x0_new = q;\n            pc"
      "kt_new = [0; home; 0.5*ones(PCKT_END_ZEROS,1)];\n            tstart_new = t;\n        % else if there was an err"
      "or\n        elseif(joint_error || FT_error)\n            rst = 1; % Clear all of the commands\n            push "
      "= 1;\n            pop = 1;\n            x0_new = qdes;  % qdes has been checked for joint limits\n            pc"
      "kt_new = [0; qdes; zeros(PCKT_END_ZEROS,1)];\n            tstart_new = t;\n            queue_in = pckt_new;\n\n "
      "       % else if the last step of the trajectory is done\n        elseif(traj_done)\n            if (queue_empty"
      ")\n                % trajectory finished but queue is empty, so just hold position for now\n                pop "
      "= 0;\n                x0_new = qdes;\n                pckt_new = [0; qdes; zeros(PCKT_END_ZEROS,1)];\n          "
      "      tstart_new = t;\n            else\n                % grab the next packet in the queue\n                % "
      "pckt_new unused here, will grab the popped element instead\n                pop = 1;\n                x0_new = q"
      "des;\n                pckt_new = zeros(PCKT_LENGTH,1);\n                tstart_new = t;\n            end\n      "
      "  % otherwise, we're still in the current trajectory step\n        else\n            % don't change state\n     "
      "       pop = 0;\n            x0_new = x0;\n            pckt_new = pckt;\n            tstart_new = tstart;\n     "
      "   end\n    % the wam is off\n    else\n        % reset queue, and don't push on anything new\n        rst = 1;\n"
      "        push = 0;\n        % set start and desired position to the current position\n        pop = 0;\n        x"
      "0_new = q;\n        pckt_new = [0; q; zeros(PCKT_END_ZEROS,1)];\n        tstart_new = t;\n    end\nend"
      editorLayout	      "100 M4x1[176 200 1936 1186]"
      fimathString	      "fimath(...\n'RoundMode', 'floor',...\n'OverflowMode', 'wrap',...\n'ProductMode', 'KeepLSB', "
      "'ProductWordLength', 32,...\n'SumMode', 'KeepLSB', 'SumWordLength', 32,...\n'CastBeforeSum', true)"
      emlDefaultFimath	      FimathUserSpecified
    }
  }
  data {
    id			    44
    ssIdNumber		    23
    name		    "qdes"
    linkNode		    [42 0 45]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    45
    ssIdNumber		    26
    name		    "joint_error"
    linkNode		    [42 44 46]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    46
    ssIdNumber		    28
    name		    "FT_error"
    linkNode		    [42 45 47]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    47
    ssIdNumber		    19
    name		    "queue_in"
    linkNode		    [42 46 48]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    48
    ssIdNumber		    20
    name		    "push"
    linkNode		    [42 47 49]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    49
    ssIdNumber		    6
    name		    "traj_done"
    linkNode		    [42 48 50]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    50
    ssIdNumber		    9
    name		    "pckt"
    linkNode		    [42 49 51]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    51
    ssIdNumber		    8
    name		    "x0"
    linkNode		    [42 50 52]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    52
    ssIdNumber		    10
    name		    "tstart"
    linkNode		    [42 51 53]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    53
    ssIdNumber		    16
    name		    "t"
    linkNode		    [42 52 54]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    54
    ssIdNumber		    7
    name		    "queue_empty"
    linkNode		    [42 53 55]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    55
    ssIdNumber		    21
    name		    "udp"
    linkNode		    [42 54 56]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    56
    ssIdNumber		    22
    name		    "udp_rcvd"
    linkNode		    [42 55 57]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    57
    ssIdNumber		    18
    name		    "q"
    linkNode		    [42 56 58]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    58
    ssIdNumber		    14
    name		    "pop"
    linkNode		    [42 57 59]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    59
    ssIdNumber		    15
    name		    "rst"
    linkNode		    [42 58 60]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    60
    ssIdNumber		    12
    name		    "pckt_new"
    linkNode		    [42 59 61]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    61
    ssIdNumber		    4
    name		    "wam_on"
    linkNode		    [42 60 62]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    62
    ssIdNumber		    11
    name		    "x0_new"
    linkNode		    [42 61 63]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    63
    ssIdNumber		    13
    name		    "tstart_new"
    linkNode		    [42 62 64]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    64
    ssIdNumber		    24
    name		    "wam_flip"
    linkNode		    [42 63 65]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    65
    ssIdNumber		    25
    name		    "home"
    linkNode		    [42 64 0]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  junction {
    id			    66
    position		    [23.5747 49.5747 7]
    chart		    42
    linkNode		    [42 0 0]
    subviewer		    42
    ssIdNumber		    3
    type		    CONNECTIVE_JUNCTION
  }
  transition {
    id			    67
    labelString		    "{eML_blk_kernel();}"
    labelPosition	    [36.125 25.875 102.544 14.964]
    fontSize		    12
    src {
      intersection	      [0 0 1 0 23.5747 14.625 0 0]
    }
    dst {
      id		      66
      intersection	      [1 0 -1 0 23.5747 42.5747 0 0]
    }
    midPoint		    [23.5747 24.9468]
    chart		    42
    linkNode		    [42 0 0]
    dataLimits		    [23.575 23.575 14.625 34.575]
    subviewer		    42
    drawStyle		    SMART
    slide {
      sticky		      BOTH_STICK
    }
    executionOrder	    1
    ssIdNumber		    2
  }
  instance {
    id			    68
    name		    "Subsystem/Plan Arm Trajectory/Compute parameters\nfor next step"
    machine		    1
    chart		    42
  }
  chart {
    id			    69
    name		    "Subsystem/Plan Arm Trajectory/Compute qdes,qddes"
    windowPosition	    [365.333 220.298 213 385]
    viewLimits		    [0 156.75 0 153.75]
    screen		    [1 1 1280 1024 1.333333333333333]
    treeNode		    [0 70 0 0]
    firstTransition	    89
    firstJunction	    88
    viewObj		    69
    machine		    1
    ssIdHighWaterMark	    21
    decomposition	    CLUSTER_CHART
    type		    EML_CHART
    firstData		    71
    chartFileNumber	    6
    disableImplicitCasting  1
    eml {
      name		      "get_q"
    }
    supportVariableSizing   0
  }
  state {
    id			    70
    labelString		    "eML_blk_kernel()"
    position		    [18 64.5 118 66]
    fontSize		    12
    chart		    69
    treeNode		    [69 0 0 0]
    superState		    SUBCHART
    subviewer		    69
    ssIdNumber		    1
    type		    FUNC_STATE
    decomposition	    CLUSTER_STATE
    eml {
      isEML		      1
      script		      "function [wdes,wddes,qdes,qddes,qdddes,error] = get_q(qdes_last,qddes_last,hand_on,sample_time,xd"
      "es,xddes,Tdes,pos,type,q,FT)\n    % joint space move\n    if(type == 0)\n        qdes = xdes;\n        qddes = x"
      "ddes;\n        qdddes = qddes - qddes_last;\n        wdes = nan(7,1);\n        wddes = nan(7,1);\n        error "
      "= nan(6,1);\n    % cartesian space move\n    elseif (type == 1)\n        % a, d, and alpha (b) DH parameters\n  "
      "      dh_a = [0 0 0.045 -0.045 0 0 0 0];\n        dh_d = [0 0 0.55 0 0.3 0 .061 0]; % Not sure about dh_d(8) For"
      " the hand\n        dh_b = [-pi/2 pi/2 -pi/2 pi/2 -pi/2 pi/2 0 0];\n        \n%         % Joint limits\n%        "
      " qlim = [-2.62, 2.62; -2.01, 2.01; -2.97, 2.97; -0.87, 3.14; -4.79, 1.27; -1.57, 1.57; -3.0, 3.0;];\n%         q"
      "mid = [0;0;0;1.135;1.76;0;0];  % The middle of the range for each joint\n\n        % hand on\n        if (hand_o"
      "n)\n            dh_d(8) = 0.0953; % Schunk Gripper\n        end\n        \n        qFull = [q; 0];\n\n        ct"
      " = cos(qFull);\n        st = sin(qFull);\n        cb = cos(dh_b);\n        sb = sin(dh_b);\n\n        % compute "
      "forward kinematics of current position\n        T0 = eye(4);\n        for i=1:8\n            T = [ ct(i), -st(i)"
      "*cb(i),  st(i)*sb(i), dh_a(i)*ct(i);\n                  st(i),  ct(i)*cb(i), -ct(i)*sb(i), dh_a(i)*st(i);\n     "
      "             0, sb(i), cb(i), dh_d(i);\n                  0, 0, 0, 1 ];\n            T0 = T0*T;\n        end\n  "
      "      \n        % compute the tool configuration Jacobian (equation came from matlab symbolic math)\n        % c"
      "t = cos(qdes_last);\n        % st = sin(qdes_last);\n        if hand_on\n           % Jacobian for dh_d(8) = .09"
      "53  NEED TO RECOMPUTE JACOBIAN IF ANOTHER dh_d(8) IS USED\n          V = [ (9*ct(4)*(ct(1)*st(3) + ct(2)*ct(3)*s"
      "t(1)))/200 - (1563*st(6)*(st(5)*(ct(1)*ct(3) - ct(2)*st(1)*st(3)) + ct(5)*(ct(4)*(ct(1)*st(3) + ct(2)*ct(3)*st(1"
      ")) - st(1)*st(2)*st(4))))/10000 - (9*ct(1)*st(3))/200 - (11*st(1)*st(2))/20 - (1563*ct(6)*(st(4)*(ct(1)*st(3) + "
      "ct(2)*ct(3)*st(1)) + ct(4)*st(1)*st(2)))/10000 - (3*st(4)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)))/10 - (9*ct(2)*ct(3)"
      "*st(1))/200 - (3*ct(4)*st(1)*st(2))/10 - (9*st(1)*st(2)*st(4))/200, (11*ct(1)*ct(2))/20 - (1563*st(6)*(ct(5)*(ct"
      "(1)*ct(2)*st(4) + ct(1)*ct(3)*ct(4)*st(2)) - ct(1)*st(2)*st(3)*st(5)))/10000 + (1563*ct(6)*(ct(1)*ct(2)*ct(4) - "
      "ct(1)*ct(3)*st(2)*st(4)))/10000 + (3*ct(1)*ct(2)*ct(4))/10 - (9*ct(1)*ct(3)*st(2))/200 + (9*ct(1)*ct(2)*st(4))/2"
      "00 - (3*ct(1)*ct(3)*st(2)*st(4))/10 + (9*ct(1)*ct(3)*ct(4)*st(2))/200, (1563*st(6)*(st(5)*(st(1)*st(3) - ct(1)*c"
      "t(2)*ct(3)) - ct(4)*ct(5)*(ct(3)*st(1) + ct(1)*ct(2)*st(3))))/10000 - (9*ct(3)*st(1))/200 - (3*st(4)*(ct(3)*st(1"
      ") + ct(1)*ct(2)*st(3)))/10 + (9*ct(4)*(ct(3)*st(1) + ct(1)*ct(2)*st(3)))/200 - (1563*ct(6)*st(4)*(ct(3)*st(1) + "
      "ct(1)*ct(2)*st(3)))/10000 - (9*ct(1)*ct(2)*st(3))/200, (1563*ct(5)*st(6)*(st(4)*(st(1)*st(3) - ct(1)*ct(2)*ct(3)"
      ") - ct(1)*ct(4)*st(2)))/10000 - (1563*ct(6)*(ct(4)*(st(1)*st(3) - ct(1)*ct(2)*ct(3)) + ct(1)*st(2)*st(4)))/10000"
      " - (3*ct(4)*(st(1)*st(3) - ct(1)*ct(2)*ct(3)))/10 - (9*st(4)*(st(1)*st(3) - ct(1)*ct(2)*ct(3)))/200 + (9*ct(1)*c"
      "t(4)*st(2))/200 - (3*ct(1)*st(2)*st(4))/10,  (1563*st(6)*(st(5)*(ct(4)*(st(1)*st(3) - ct(1)*ct(2)*ct(3)) + ct(1)"
      "*st(2)*st(4)) - ct(5)*(ct(3)*st(1) + ct(1)*ct(2)*st(3))))/10000, (1563*st(6)*(st(4)*(st(1)*st(3) - ct(1)*ct(2)*c"
      "t(3)) - ct(1)*ct(4)*st(2)))/10000 - (1563*ct(6)*(st(5)*(ct(3)*st(1) + ct(1)*ct(2)*st(3)) + ct(5)*(ct(4)*(st(1)*s"
      "t(3) - ct(1)*ct(2)*ct(3)) + ct(1)*st(2)*st(4))))/10000,                                                         "
      "                                                                                                                "
      "                    0;\n                (11*ct(1)*st(2))/20 - (3*st(4)*(st(1)*st(3) - ct(1)*ct(2)*ct(3)))/10 - ("
      "9*st(1)*st(3))/200 - (1563*ct(6)*(st(4)*(st(1)*st(3) - ct(1)*ct(2)*ct(3)) - ct(1)*ct(4)*st(2)))/10000 + (9*ct(4)"
      "*(st(1)*st(3) - ct(1)*ct(2)*ct(3)))/200 - (1563*st(6)*(st(5)*(ct(3)*st(1) + ct(1)*ct(2)*st(3)) + ct(5)*(ct(4)*(s"
      "t(1)*st(3) - ct(1)*ct(2)*ct(3)) + ct(1)*st(2)*st(4))))/10000 + (9*ct(1)*ct(2)*ct(3))/200 + (3*ct(1)*ct(4)*st(2))"
      "/10 + (9*ct(1)*st(2)*st(4))/200, (11*ct(2)*st(1))/20 - (1563*st(6)*(ct(5)*(ct(2)*st(1)*st(4) + ct(3)*ct(4)*st(1)"
      "*st(2)) - st(1)*st(2)*st(3)*st(5)))/10000 + (1563*ct(6)*(ct(2)*ct(4)*st(1) - ct(3)*st(1)*st(2)*st(4)))/10000 + ("
      "3*ct(2)*ct(4)*st(1))/10 - (9*ct(3)*st(1)*st(2))/200 + (9*ct(2)*st(1)*st(4))/200 + (9*ct(3)*ct(4)*st(1)*st(2))/20"
      "0 - (3*ct(3)*st(1)*st(2)*st(4))/10, (3*st(4)*(ct(1)*ct(3) - ct(2)*st(1)*st(3)))/10 + (9*ct(1)*ct(3))/200 - (1563"
      "*st(6)*(st(5)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)) - ct(4)*ct(5)*(ct(1)*ct(3) - ct(2)*st(1)*st(3))))/10000 - (9*ct("
      "4)*(ct(1)*ct(3) - ct(2)*st(1)*st(3)))/200 + (1563*ct(6)*st(4)*(ct(1)*ct(3) - ct(2)*st(1)*st(3)))/10000 - (9*ct(2"
      ")*st(1)*st(3))/200, (9*st(4)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)))/200 + (1563*ct(6)*(ct(4)*(ct(1)*st(3) + ct(2)*ct"
      "(3)*st(1)) - st(1)*st(2)*st(4)))/10000 + (3*ct(4)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)))/10 - (1563*ct(5)*st(6)*(st("
      "4)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)) + ct(4)*st(1)*st(2)))/10000 + (9*ct(4)*st(1)*st(2))/200 - (3*st(1)*st(2)*st"
      "(4))/10, -(1563*st(6)*(st(5)*(ct(4)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)) - st(1)*st(2)*st(4)) - ct(5)*(ct(1)*ct(3) "
      "- ct(2)*st(1)*st(3))))/10000, (1563*ct(6)*(st(5)*(ct(1)*ct(3) - ct(2)*st(1)*st(3)) + ct(5)*(ct(4)*(ct(1)*st(3) +"
      " ct(2)*ct(3)*st(1)) - st(1)*st(2)*st(4))))/10000 - (1563*st(6)*(st(4)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)) + ct(4)*"
      "st(1)*st(2)))/10000,                                                                                            "
      "                                                                                                 0;\n           "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                           0,   "
      "                                                                (1563*st(6)*(ct(5)*(st(2)*st(4) - ct(2)*ct(3)*ct"
      "(4)) + ct(2)*st(3)*st(5)))/10000 - (9*ct(2)*ct(3))/200 - (3*ct(4)*st(2))/10 - (9*st(2)*st(4))/200 - (11*st(2))/2"
      "0 - (1563*ct(6)*(ct(4)*st(2) + ct(2)*ct(3)*st(4)))/10000 + (9*ct(2)*ct(3)*ct(4))/200 - (3*ct(2)*ct(3)*st(4))/10,"
      "                                                                                                                "
      "                           (9*st(2)*st(3))/200 + (1563*st(6)*(ct(3)*st(2)*st(5) + ct(4)*ct(5)*st(2)*st(3)))/1000"
      "0 - (9*ct(4)*st(2)*st(3))/200 + (3*st(2)*st(3)*st(4))/10 + (1563*ct(6)*st(2)*st(3)*st(4))/10000,                "
      "                                                                                                 (9*ct(2)*ct(4))"
      "/200 - (3*ct(2)*st(4))/10 - (1563*ct(6)*(ct(2)*st(4) + ct(3)*ct(4)*st(2)))/10000 - (1563*ct(5)*st(6)*(ct(2)*ct(4"
      ") - ct(3)*st(2)*st(4)))/10000 - (3*ct(3)*ct(4)*st(2))/10 - (9*ct(3)*st(2)*st(4))/200,                           "
      "                         (1563*st(6)*(st(5)*(ct(2)*st(4) + ct(3)*ct(4)*st(2)) + ct(5)*st(2)*st(3)))/10000,      "
      "                                                                       - (1563*st(6)*(ct(2)*ct(4) - ct(3)*st(2)*"
      "st(4)))/10000 - (1563*ct(6)*(ct(5)*(ct(2)*st(4) + ct(3)*ct(4)*st(2)) - st(2)*st(3)*st(5)))/10000,               "
      "                                                                                                                "
      "                                                              0;\n                                              "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                        0,                                      "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                      -st(1),                                   "
      "                                                                                                                "
      "                                                                                                                "
      "                                                 ct(1)*st(2),                                                   "
      "                                                                                                                "
      "                                                                                                                "
      "                - ct(3)*st(1) - ct(1)*ct(2)*st(3),                                                              "
      "           ct(1)*ct(4)*st(2) - st(4)*(st(1)*st(3) - ct(1)*ct(2)*ct(3)),                                         "
      "                                                                st(5)*(ct(4)*(st(1)*st(3) - ct(1)*ct(2)*ct(3)) +"
      " ct(1)*st(2)*st(4)) - ct(5)*(ct(3)*st(1) + ct(1)*ct(2)*st(3)), - ct(6)*(st(4)*(st(1)*st(3) - ct(1)*ct(2)*ct(3)) "
      "- ct(1)*ct(4)*st(2)) - st(6)*(st(5)*(ct(3)*st(1) + ct(1)*ct(2)*st(3)) + ct(5)*(ct(4)*(st(1)*st(3) - ct(1)*ct(2)*"
      "ct(3)) + ct(1)*st(2)*st(4)));\n                                                                                 "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                                     0,                                                                         "
      "                                                                                                                "
      "                                                                                                                "
      "                                    ct(1),                                                                      "
      "                                                                                                                "
      "                                                                                                                "
      "              st(1)*st(2),                                                                                      "
      "                                                                                                                "
      "                                                                                               ct(1)*ct(3) - ct("
      "2)*st(1)*st(3),                                                                         st(4)*(ct(1)*st(3) + ct("
      "2)*ct(3)*st(1)) + ct(4)*st(1)*st(2),                                                                            "
      "                             ct(5)*(ct(1)*ct(3) - ct(2)*st(1)*st(3)) - st(5)*(ct(4)*(ct(1)*st(3) + ct(2)*ct(3)*s"
      "t(1)) - st(1)*st(2)*st(4)),   st(6)*(st(5)*(ct(1)*ct(3) - ct(2)*st(1)*st(3)) + ct(5)*(ct(4)*(ct(1)*st(3) + ct(2)"
      "*ct(3)*st(1)) - st(1)*st(2)*st(4))) + ct(6)*(st(4)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)) + ct(4)*st(1)*st(2));\n    "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "  1,                                                                                                            "
      "                                                                                                                "
      "                                                                                                                "
      "     0,                                                                                                         "
      "                                                                                                                "
      "                                                                                                 ct(2),         "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                st(2)*st(3),                    "
      "                                                                                 ct(2)*ct(4) - ct(3)*st(2)*st(4)"
      ",                                                                                                               "
      "                                            st(5)*(ct(2)*st(4) + ct(3)*ct(4)*st(2)) + ct(5)*st(2)*st(3),        "
      "                                                                         ct(6)*(ct(2)*ct(4) - ct(3)*st(2)*st(4))"
      " - st(6)*(ct(5)*(ct(2)*st(4) + ct(3)*ct(4)*st(2)) - st(2)*st(3)*st(5));];\n\n        else\n            V = [(9*c"
      "t(4)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)))/200 - (11*st(1)*st(2))/20 - (61*ct(6)*(st(4)*(ct(1)*st(3) + ct(2)*ct(3)*"
      "st(1)) + ct(4)*st(1)*st(2)))/1000 - (9*ct(1)*st(3))/200 - (61*st(6)*(ct(5)*(ct(4)*(ct(1)*st(3) + ct(2)*ct(3)*st("
      "1)) - st(1)*st(2)*st(4)) + st(5)*(ct(1)*ct(3) - ct(2)*st(1)*st(3))))/1000 - (3*st(4)*(ct(1)*st(3) + ct(2)*ct(3)*"
      "st(1)))/10 - (3*ct(4)*st(1)*st(2))/10 - (9*st(1)*st(2)*st(4))/200 - (9*ct(2)*ct(3)*st(1))/200, (11*ct(1)*ct(2))/"
      "20 + (61*ct(6)*(ct(1)*ct(2)*ct(4) - ct(1)*ct(3)*st(2)*st(4)))/1000 - (61*st(6)*(ct(5)*(ct(1)*ct(2)*st(4) + ct(1)"
      "*ct(3)*ct(4)*st(2)) - ct(1)*st(2)*st(3)*st(5)))/1000 + (3*ct(1)*ct(2)*ct(4))/10 - (9*ct(1)*ct(3)*st(2))/200 + (9"
      "*ct(1)*ct(2)*st(4))/200 + (9*ct(1)*ct(3)*ct(4)*st(2))/200 - (3*ct(1)*ct(3)*st(2)*st(4))/10, (9*ct(4)*(ct(3)*st(1"
      ") + ct(1)*ct(2)*st(3)))/200 - (9*ct(3)*st(1))/200 - (3*st(4)*(ct(3)*st(1) + ct(1)*ct(2)*st(3)))/10 + (61*st(6)*("
      "st(5)*(st(1)*st(3) - ct(1)*ct(2)*ct(3)) - ct(4)*ct(5)*(ct(3)*st(1) + ct(1)*ct(2)*st(3))))/1000 - (61*ct(6)*st(4)"
      "*(ct(3)*st(1) + ct(1)*ct(2)*st(3)))/1000 - (9*ct(1)*ct(2)*st(3))/200, (61*ct(5)*st(6)*(st(4)*(st(1)*st(3) - ct(1"
      ")*ct(2)*ct(3)) - ct(1)*ct(4)*st(2)))/1000 - (3*ct(4)*(st(1)*st(3) - ct(1)*ct(2)*ct(3)))/10 - (9*st(4)*(st(1)*st("
      "3) - ct(1)*ct(2)*ct(3)))/200 - (3*ct(1)*st(2)*st(4))/10 - (61*ct(6)*(ct(4)*(st(1)*st(3) - ct(1)*ct(2)*ct(3)) + c"
      "t(1)*st(2)*st(4)))/1000 + (9*ct(1)*ct(4)*st(2))/200,   (61*st(6)*(st(5)*(ct(4)*(st(1)*st(3) - ct(1)*ct(2)*ct(3))"
      " + ct(1)*st(2)*st(4)) - ct(5)*(ct(3)*st(1) + ct(1)*ct(2)*st(3))))/1000, (61*st(6)*(st(4)*(st(1)*st(3) - ct(1)*ct"
      "(2)*ct(3)) - ct(1)*ct(4)*st(2)))/1000 - (61*ct(6)*(ct(5)*(ct(4)*(st(1)*st(3) - ct(1)*ct(2)*ct(3)) + ct(1)*st(2)*"
      "st(4)) + st(5)*(ct(3)*st(1) + ct(1)*ct(2)*st(3))))/1000,                                                        "
      "                                                                                                                "
      "                     0;\n                 (11*ct(1)*st(2))/20 - (9*st(1)*st(3))/200 - (61*ct(6)*(st(4)*(st(1)*st"
      "(3) - ct(1)*ct(2)*ct(3)) - ct(1)*ct(4)*st(2)))/1000 - (61*st(6)*(ct(5)*(ct(4)*(st(1)*st(3) - ct(1)*ct(2)*ct(3)) "
      "+ ct(1)*st(2)*st(4)) + st(5)*(ct(3)*st(1) + ct(1)*ct(2)*st(3))))/1000 + (9*ct(4)*(st(1)*st(3) - ct(1)*ct(2)*ct(3"
      ")))/200 - (3*st(4)*(st(1)*st(3) - ct(1)*ct(2)*ct(3)))/10 + (9*ct(1)*st(2)*st(4))/200 + (9*ct(1)*ct(2)*ct(3))/200"
      " + (3*ct(1)*ct(4)*st(2))/10, (11*ct(2)*st(1))/20 - (61*st(6)*(ct(5)*(ct(2)*st(1)*st(4) + ct(3)*ct(4)*st(1)*st(2)"
      ") - st(1)*st(2)*st(3)*st(5)))/1000 + (61*ct(6)*(ct(2)*ct(4)*st(1) - ct(3)*st(1)*st(2)*st(4)))/1000 - (9*ct(3)*st"
      "(1)*st(2))/200 + (9*ct(2)*st(1)*st(4))/200 + (3*ct(2)*ct(4)*st(1))/10 + (9*ct(3)*ct(4)*st(1)*st(2))/200 - (3*ct("
      "3)*st(1)*st(2)*st(4))/10, (9*ct(1)*ct(3))/200 - (9*ct(4)*(ct(1)*ct(3) - ct(2)*st(1)*st(3)))/200 + (3*st(4)*(ct(1"
      ")*ct(3) - ct(2)*st(1)*st(3)))/10 - (61*st(6)*(st(5)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)) - ct(4)*ct(5)*(ct(1)*ct(3)"
      " - ct(2)*st(1)*st(3))))/1000 - (9*ct(2)*st(1)*st(3))/200 + (61*ct(6)*st(4)*(ct(1)*ct(3) - ct(2)*st(1)*st(3)))/10"
      "00, (61*ct(6)*(ct(4)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)) - st(1)*st(2)*st(4)))/1000 + (3*ct(4)*(ct(1)*st(3) + ct(2"
      ")*ct(3)*st(1)))/10 + (9*st(4)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)))/200 + (9*ct(4)*st(1)*st(2))/200 - (3*st(1)*st(2"
      ")*st(4))/10 - (61*ct(5)*st(6)*(st(4)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)) + ct(4)*st(1)*st(2)))/1000,  -(61*st(6)*("
      "st(5)*(ct(4)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)) - st(1)*st(2)*st(4)) - ct(5)*(ct(1)*ct(3) - ct(2)*st(1)*st(3))))/"
      "1000, (61*ct(6)*(ct(5)*(ct(4)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)) - st(1)*st(2)*st(4)) + st(5)*(ct(1)*ct(3) - ct(2"
      ")*st(1)*st(3))))/1000 - (61*st(6)*(st(4)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)) + ct(4)*st(1)*st(2)))/1000,          "
      "                                                                                                                "
      "                                                                   0;\n                                         "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                        0,                                      "
      "                             61*st(6)*(ct(5)*(st(2)*st(4) - ct(2)*ct(3)*ct(4)) + (ct(2)*st(3)*st(5)))/1000 - (9*"
      "ct(2)*ct(3))/200 - (3*ct(4)*st(2))/10 - (9*st(2)*st(4))/200 - (11*st(2))/20 - (61*ct(6)*(ct(4)*st(2) + ct(2)*ct("
      "3)*st(4)))/1000 + (9*ct(2)*ct(3)*ct(4))/200 - (3*ct(2)*ct(3)*st(4))/10,                                         "
      "                                                                                                  (9*st(2)*st(3)"
      ")/200 + (61*st(6)*(ct(3)*st(2)*st(5) + ct(4)*ct(5)*st(2)*st(3)))/1000 - (9*ct(4)*st(2)*st(3))/200 + (3*st(2)*st("
      "3)*st(4))/10 + (61*ct(6)*st(2)*st(3)*st(4))/1000,                                                               "
      "                                                  (9*ct(2)*ct(4))/200 - (3*ct(2)*st(4))/10 - (61*ct(6)*(ct(2)*st"
      "(4) + ct(3)*ct(4)*st(2)))/1000 - (9*ct(3)*st(2)*st(4))/200 - (61*ct(5)*st(6)*(ct(2)*ct(4) - ct(3)*st(2)*st(4)))/"
      "1000 - (3*ct(3)*ct(4)*st(2))/10,                                                     (61*st(6)*(st(5)*(ct(2)*st("
      "4) + ct(3)*ct(4)*st(2)) + ct(5)*st(2)*st(3)))/1000,                                                             "
      "                - (61*ct(6)*(ct(5)*(ct(2)*st(4) + ct(3)*ct(4)*st(2)) - st(2)*st(3)*st(5)))/1000 - (61*st(6)*(ct("
      "2)*ct(4) - ct(3)*st(2)*st(4)))/1000,                                                                            "
      "                                                                                                                "
      " 0;\n                                                                                                           "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "      0,                                                                                                        "
      "                                                                                                                "
      "                                                                                                              -s"
      "t(1),                                                                                                           "
      "                                                                                                                "
      "                                                                                   ct(1)*st(2),                 "
      "                                                                                                                "
      "                                                                                                                "
      "                                            - ct(3)*st(1) - ct(1)*ct(2)*st(3),                                  "
      "                                     ct(1)*ct(4)*st(2) - st(4)*(st(1)*st(3) - ct(1)*ct(2)*ct(3)),               "
      "                                                                                    st(5)*(ct(4)*(st(1)*st(3) - "
      "ct(1)*ct(2)*ct(3)) + ct(1)*st(2)*st(4)) - ct(5)*(ct(3)*st(1) + ct(1)*ct(2)*st(3)), - ct(6)*(st(4)*(st(1)*st(3) -"
      " ct(1)*ct(2)*ct(3)) - ct(1)*ct(4)*st(2)) - st(6)*(ct(5)*(ct(4)*(st(1)*st(3) - ct(1)*ct(2)*ct(3)) + ct(1)*st(2)*s"
      "t(4)) + st(5)*(ct(3)*st(1) + ct(1)*ct(2)*st(3)));\n                                                             "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                                                    0,                                                          "
      "                                                                                                                "
      "                                                                                                                "
      "                                             ct(1),                                                             "
      "                                                                                                                "
      "                                                                                                                "
      "                 st(1)*st(2),                                                                                   "
      "                                                                                                                "
      "                                                                                            ct(1)*ct(3) - ct(2)*"
      "st(1)*st(3),                                                                       st(4)*(ct(1)*st(3) + ct(2)*ct"
      "(3)*st(1)) + ct(4)*st(1)*st(2),                                                                                 "
      "                  ct(5)*(ct(1)*ct(3) - ct(2)*st(1)*st(3)) - st(5)*(ct(4)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)) - st("
      "1)*st(2)*st(4)),   ct(6)*(st(4)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)) + ct(4)*st(1)*st(2)) + st(6)*(ct(5)*(ct(4)*(ct"
      "(1)*st(3) + ct(2)*ct(3)*st(1)) - st(1)*st(2)*st(4)) + st(5)*(ct(1)*ct(3) - ct(2)*st(1)*st(3)));\n               "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                  1,            "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                               0,               "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                     ct(2),                                     "
      "                                                                                                                "
      "                                                                                                                "
      "                                              st(2)*st(3),                                                      "
      "                                             ct(2)*ct(4) - ct(3)*st(2)*st(4),                                   "
      "                                                                                                                "
      "  st(5)*(ct(2)*st(4) + ct(3)*ct(4)*st(2)) + ct(5)*st(2)*st(3),                                                  "
      "                             ct(6)*(ct(2)*ct(4) - ct(3)*st(2)*st(4)) - st(6)*(ct(5)*(ct(2)*st(4) + ct(3)*ct(4)*s"
      "t(2)) - st(2)*st(3)*st(5)) ];\n        end\n        wdes = nan(7,1);\n        wddes = nan(7,1);\n        \n     "
      "   % Uncomment this line to generate error from current position (Option 3)\n        Tdes(1:3,4) = T0(1:3,4) + 0"
      ".5*(Tdes(1:3,4) - T0(1:3,4));\n        \n        error = tr2delta(T0,Tdes);\n\n%         % Find joint that is cl"
      "osest to limit\n%         joint = 3; % Default to joint 3\n%         eps = .5; % Set the boundary to switch to a"
      " joint (over joint 3)\n%         for i = 1:7\n%             lowDist = abs(qlim(i,1) - q(i));\n%             high"
      "Dist = abs(qlim(i,2) - q(i));\n%             if lowDist < abs(eps)\n%                 eps = lowDist;\n%         "
      "        joint = i;\n%             elseif highDist < abs(eps)\n%                 eps = highDist;\n%              "
      "   joint = i;\n%             end\n%         end\n%         \n%         % Get the nullspace of the jacobian\n%   "
      "      [A,B,C] = svd(V);\n%         N = C(:,7);\n%         \n%         % Set the desired velocity of the null spa"
      "ce to be the correct direction for that joint\n%         qddesNs = zeros(7,1);\n%         qddesNs(joint) = qmid("
      "joint) - q(joint);\n%         qp = (N*pinv(N)*qddesNs);\n%         \n%         n = norm(V*qp);  % Check for magn"
      "itude of change of end effector pose due to self motion\n \n        %qddes = .1*pinv(V)*error + 200*qp;\n       "
      " qddes = pinv(V)*error;\n        %qddes = .5*V'*error;\n        \n        % Make sure none of the joint accelera"
      "tions are too high.\n        % The max value of .0008 was picked by hand through trial and error on the WAM\n   "
      "     qdddes = (qddes - qddes_last)/sample_time;\n        if max(abs(qdddes)) > .5\n            qdddes = (qdddes "
      "/ max(abs(qdddes))) * .5;\n            qddes = qddes_last + qdddes*sample_time;\n        end\n\n        % Normal"
      "ize qddes so that no joint velocities are too high\n        if max(qddes) > 0.5 \n            qddes = (qddes / m"
      "ax(abs(qddes)) ) * 0.5;\n        end\n\n        % Up date the desired joint angles\n        qdes = qdes_last + q"
      "ddes*sample_time;\n        \n    % A trajectory move\n    elseif(type == 2)\n        wdes = nan(7,1);\n        w"
      "ddes = nan(7,1);\n        error = zeros(6,1);\n        \n        % Unpack the desired joint angles\n        qdes"
      " = Tdes(1:7)';\n        % Calculate derivatives\n        qddes = (qdes - qdes_last)/sample_time;\n        qdddes"
      " = (qddes - qddes_last)/sample_time;\n        %qdddes = zeros(7,1);\n        \n    % A compliant close\n    else"
      "if type == 3\n\n        % The acutal current gripper width\n        %gripperWidth = FT(8);  % Uncomment to use a"
      "ctual gripper width\n        gripperWidth = pos(2);  % Uncomment to use predicted gripper width\n        finger "
      "= pos(1);\n        \n        % Distance of the fingertip we are trying to hold still along the palm's Y axis\n  "
      "      fingerTipPosition = finger*gripperWidth/2;\n        \n        % a, d, and alpha (b) DH parameters from bas"
      "e to fingertip\n        dh_a = [0 0 0.045 -0.045 0 0 0 0];\n        dh_d = [0 0 0.55 0 0.3 0 .061 0];\n        d"
      "h_b = [-pi/2 pi/2 -pi/2 pi/2 -pi/2 pi/2 0 0];\n        \n        % hand on\n        if (hand_on)\n            dh"
      "_d(8) = 0.0953; % Schunk Gripper\n        end\n        \n        qFull = [q;0;0;0];\n\n        ct = cos(qFull);\n"
      "        st = sin(qFull);\n        cb = cos(dh_b);\n        sb = sin(dh_b);\n\n        % compute forward kinemati"
      "cs of current position\n        T0 = eye(4);\n        for i=1:8\n            T = [ ct(i), -st(i)*cb(i),  st(i)*s"
      "b(i), dh_a(i)*ct(i);\n                  st(i),  ct(i)*cb(i), -ct(i)*sb(i), dh_a(i)*st(i);\n                  0, "
      "sb(i), cb(i), dh_d(i);\n                  0, 0, 0, 1 ];\n            T0 = T0*T;\n        end\n        \n        "
      "% Add the rotated vector from palm to fingertip\n        T0(1:3,4) = T0(1:3,4) + T0(1:3,1:3)*[0;fingerTipPositio"
      "n;.073];\n        \n        V = [ (9*ct(4)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)))/200 - (2293*st(6)*(st(5)*(ct(1)*ct"
      "(3) - ct(2)*st(1)*st(3)) + ct(5)*(ct(4)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)) - st(1)*st(2)*st(4))))/10000 - fingerT"
      "ipPosition*(st(7)*(st(6)*(st(4)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)) + ct(4)*st(1)*st(2)) - ct(6)*(st(5)*(ct(1)*ct("
      "3) - ct(2)*st(1)*st(3)) + ct(5)*(ct(4)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)) - st(1)*st(2)*st(4)))) - ct(7)*(st(5)*("
      "ct(4)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)) - st(1)*st(2)*st(4)) - ct(5)*(ct(1)*ct(3) - ct(2)*st(1)*st(3)))) - (9*ct"
      "(1)*st(3))/200 - (11*st(1)*st(2))/20 - (2293*ct(6)*(st(4)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)) + ct(4)*st(1)*st(2))"
      ")/10000 - (3*st(4)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)))/10 - (9*ct(2)*ct(3)*st(1))/200 - (3*ct(4)*st(1)*st(2))/10 "
      "- (9*st(1)*st(2)*st(4))/200, fingerTipPosition*(st(7)*(st(6)*(ct(1)*ct(2)*ct(4) - ct(1)*ct(3)*st(2)*st(4)) + ct("
      "6)*(ct(5)*(ct(1)*ct(2)*st(4) + ct(1)*ct(3)*ct(4)*st(2)) - ct(1)*st(2)*st(3)*st(5))) + ct(7)*(st(5)*(ct(1)*ct(2)*"
      "st(4) + ct(1)*ct(3)*ct(4)*st(2)) + ct(1)*ct(5)*st(2)*st(3))) - (2293*st(6)*(ct(5)*(ct(1)*ct(2)*st(4) + ct(1)*ct("
      "3)*ct(4)*st(2)) - ct(1)*st(2)*st(3)*st(5)))/10000 + (11*ct(1)*ct(2))/20 + (2293*ct(6)*(ct(1)*ct(2)*ct(4) - ct(1)"
      "*ct(3)*st(2)*st(4)))/10000 + (3*ct(1)*ct(2)*ct(4))/10 - (9*ct(1)*ct(3)*st(2))/200 + (9*ct(1)*ct(2)*st(4))/200 - "
      "(3*ct(1)*ct(3)*st(2)*st(4))/10 + (9*ct(1)*ct(3)*ct(4)*st(2))/200, (2293*st(6)*(st(5)*(st(1)*st(3) - ct(1)*ct(2)*"
      "ct(3)) - ct(4)*ct(5)*(ct(3)*st(1) + ct(1)*ct(2)*st(3))))/10000 - (9*ct(3)*st(1))/200 - (3*st(4)*(ct(3)*st(1) + c"
      "t(1)*ct(2)*st(3)))/10 - fingerTipPosition*(st(7)*(ct(6)*(st(5)*(st(1)*st(3) - ct(1)*ct(2)*ct(3)) - ct(4)*ct(5)*("
      "ct(3)*st(1) + ct(1)*ct(2)*st(3))) + st(4)*st(6)*(ct(3)*st(1) + ct(1)*ct(2)*st(3))) - ct(7)*(ct(5)*(st(1)*st(3) -"
      " ct(1)*ct(2)*ct(3)) + ct(4)*st(5)*(ct(3)*st(1) + ct(1)*ct(2)*st(3)))) + (9*ct(4)*(ct(3)*st(1) + ct(1)*ct(2)*st(3"
      ")))/200 - (2293*ct(6)*st(4)*(ct(3)*st(1) + ct(1)*ct(2)*st(3)))/10000 - (9*ct(1)*ct(2)*st(3))/200, (2293*ct(5)*st"
      "(6)*(st(4)*(st(1)*st(3) - ct(1)*ct(2)*ct(3)) - ct(1)*ct(4)*st(2)))/10000 - fingerTipPosition*(st(7)*(st(6)*(ct(4"
      ")*(st(1)*st(3) - ct(1)*ct(2)*ct(3)) + ct(1)*st(2)*st(4)) + ct(5)*ct(6)*(st(4)*(st(1)*st(3) - ct(1)*ct(2)*ct(3)) "
      "- ct(1)*ct(4)*st(2))) + ct(7)*st(5)*(st(4)*(st(1)*st(3) - ct(1)*ct(2)*ct(3)) - ct(1)*ct(4)*st(2))) - (2293*ct(6)"
      "*(ct(4)*(st(1)*st(3) - ct(1)*ct(2)*ct(3)) + ct(1)*st(2)*st(4)))/10000 - (3*ct(4)*(st(1)*st(3) - ct(1)*ct(2)*ct(3"
      ")))/10 - (9*st(4)*(st(1)*st(3) - ct(1)*ct(2)*ct(3)))/200 + (9*ct(1)*ct(4)*st(2))/200 - (3*ct(1)*st(2)*st(4))/10,"
      "   fingerTipPosition*(ct(7)*(st(5)*(ct(3)*st(1) + ct(1)*ct(2)*st(3)) + ct(5)*(ct(4)*(st(1)*st(3) - ct(1)*ct(2)*c"
      "t(3)) + ct(1)*st(2)*st(4))) - ct(6)*st(7)*(st(5)*(ct(4)*(st(1)*st(3) - ct(1)*ct(2)*ct(3)) + ct(1)*st(2)*st(4)) -"
      " ct(5)*(ct(3)*st(1) + ct(1)*ct(2)*st(3)))) + (2293*st(6)*(st(5)*(ct(4)*(st(1)*st(3) - ct(1)*ct(2)*ct(3)) + ct(1)"
      "*st(2)*st(4)) - ct(5)*(ct(3)*st(1) + ct(1)*ct(2)*st(3))))/10000, (2293*st(6)*(st(4)*(st(1)*st(3) - ct(1)*ct(2)*c"
      "t(3)) - ct(1)*ct(4)*st(2)))/10000 - (2293*ct(6)*(st(5)*(ct(3)*st(1) + ct(1)*ct(2)*st(3)) + ct(5)*(ct(4)*(st(1)*s"
      "t(3) - ct(1)*ct(2)*ct(3)) + ct(1)*st(2)*st(4))))/10000 - fingerTipPosition*st(7)*(ct(6)*(st(4)*(st(1)*st(3) - ct"
      "(1)*ct(2)*ct(3)) - ct(1)*ct(4)*st(2)) + st(6)*(st(5)*(ct(3)*st(1) + ct(1)*ct(2)*st(3)) + ct(5)*(ct(4)*(st(1)*st("
      "3) - ct(1)*ct(2)*ct(3)) + ct(1)*st(2)*st(4)))), -fingerTipPosition*(ct(7)*(st(6)*(st(4)*(st(1)*st(3) - ct(1)*ct("
      "2)*ct(3)) - ct(1)*ct(4)*st(2)) - ct(6)*(st(5)*(ct(3)*st(1) + ct(1)*ct(2)*st(3)) + ct(5)*(ct(4)*(st(1)*st(3) - ct"
      "(1)*ct(2)*ct(3)) + ct(1)*st(2)*st(4)))) + st(7)*(st(5)*(ct(4)*(st(1)*st(3) - ct(1)*ct(2)*ct(3)) + ct(1)*st(2)*st"
      "(4)) - ct(5)*(ct(3)*st(1) + ct(1)*ct(2)*st(3))));\n              (11*ct(1)*st(2))/20 - (3*st(4)*(st(1)*st(3) - c"
      "t(1)*ct(2)*ct(3)))/10 - (9*st(1)*st(3))/200 - (2293*ct(6)*(st(4)*(st(1)*st(3) - ct(1)*ct(2)*ct(3)) - ct(1)*ct(4)"
      "*st(2)))/10000 + fingerTipPosition*(ct(7)*(st(5)*(ct(4)*(st(1)*st(3) - ct(1)*ct(2)*ct(3)) + ct(1)*st(2)*st(4)) -"
      " ct(5)*(ct(3)*st(1) + ct(1)*ct(2)*st(3))) - st(7)*(st(6)*(st(4)*(st(1)*st(3) - ct(1)*ct(2)*ct(3)) - ct(1)*ct(4)*"
      "st(2)) - ct(6)*(st(5)*(ct(3)*st(1) + ct(1)*ct(2)*st(3)) + ct(5)*(ct(4)*(st(1)*st(3) - ct(1)*ct(2)*ct(3)) + ct(1)"
      "*st(2)*st(4))))) + (9*ct(4)*(st(1)*st(3) - ct(1)*ct(2)*ct(3)))/200 - (2293*st(6)*(st(5)*(ct(3)*st(1) + ct(1)*ct("
      "2)*st(3)) + ct(5)*(ct(4)*(st(1)*st(3) - ct(1)*ct(2)*ct(3)) + ct(1)*st(2)*st(4))))/10000 + (9*ct(1)*ct(2)*ct(3))/"
      "200 + (3*ct(1)*ct(4)*st(2))/10 + (9*ct(1)*st(2)*st(4))/200, (11*ct(2)*st(1))/20 - (2293*st(6)*(ct(5)*(ct(2)*st(1"
      ")*st(4) + ct(3)*ct(4)*st(1)*st(2)) - st(1)*st(2)*st(3)*st(5)))/10000 + fingerTipPosition*(ct(7)*(st(5)*(ct(2)*st"
      "(1)*st(4) + ct(3)*ct(4)*st(1)*st(2)) + ct(5)*st(1)*st(2)*st(3)) + st(7)*(ct(6)*(ct(5)*(ct(2)*st(1)*st(4) + ct(3)"
      "*ct(4)*st(1)*st(2)) - st(1)*st(2)*st(3)*st(5)) + st(6)*(ct(2)*ct(4)*st(1) - ct(3)*st(1)*st(2)*st(4)))) + (2293*c"
      "t(6)*(ct(2)*ct(4)*st(1) - ct(3)*st(1)*st(2)*st(4)))/10000 + (3*ct(2)*ct(4)*st(1))/10 - (9*ct(3)*st(1)*st(2))/200"
      " + (9*ct(2)*st(1)*st(4))/200 + (9*ct(3)*ct(4)*st(1)*st(2))/200 - (3*ct(3)*st(1)*st(2)*st(4))/10, (3*st(4)*(ct(1)"
      "*ct(3) - ct(2)*st(1)*st(3)))/10 + (9*ct(1)*ct(3))/200 - (2293*st(6)*(st(5)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)) - c"
      "t(4)*ct(5)*(ct(1)*ct(3) - ct(2)*st(1)*st(3))))/10000 + fingerTipPosition*(st(7)*(ct(6)*(st(5)*(ct(1)*st(3) + ct("
      "2)*ct(3)*st(1)) - ct(4)*ct(5)*(ct(1)*ct(3) - ct(2)*st(1)*st(3))) + st(4)*st(6)*(ct(1)*ct(3) - ct(2)*st(1)*st(3))"
      ") - ct(7)*(ct(5)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)) + ct(4)*st(5)*(ct(1)*ct(3) - ct(2)*st(1)*st(3)))) - (9*ct(4)*"
      "(ct(1)*ct(3) - ct(2)*st(1)*st(3)))/200 + (2293*ct(6)*st(4)*(ct(1)*ct(3) - ct(2)*st(1)*st(3)))/10000 - (9*ct(2)*s"
      "t(1)*st(3))/200, (9*st(4)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)))/200 + fingerTipPosition*(st(7)*(st(6)*(ct(4)*(ct(1)"
      "*st(3) + ct(2)*ct(3)*st(1)) - st(1)*st(2)*st(4)) + ct(5)*ct(6)*(st(4)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)) + ct(4)*"
      "st(1)*st(2))) + ct(7)*st(5)*(st(4)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)) + ct(4)*st(1)*st(2))) + (2293*ct(6)*(ct(4)*"
      "(ct(1)*st(3) + ct(2)*ct(3)*st(1)) - st(1)*st(2)*st(4)))/10000 + (3*ct(4)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)))/10 -"
      " (2293*ct(5)*st(6)*(st(4)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)) + ct(4)*st(1)*st(2)))/10000 + (9*ct(4)*st(1)*st(2))/"
      "200 - (3*st(1)*st(2)*st(4))/10, - (2293*st(6)*(st(5)*(ct(4)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)) - st(1)*st(2)*st(4"
      ")) - ct(5)*(ct(1)*ct(3) - ct(2)*st(1)*st(3))))/10000 - fingerTipPosition*(ct(7)*(st(5)*(ct(1)*ct(3) - ct(2)*st(1"
      ")*st(3)) + ct(5)*(ct(4)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)) - st(1)*st(2)*st(4))) - ct(6)*st(7)*(st(5)*(ct(4)*(ct("
      "1)*st(3) + ct(2)*ct(3)*st(1)) - st(1)*st(2)*st(4)) - ct(5)*(ct(1)*ct(3) - ct(2)*st(1)*st(3)))), (2293*ct(6)*(st("
      "5)*(ct(1)*ct(3) - ct(2)*st(1)*st(3)) + ct(5)*(ct(4)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)) - st(1)*st(2)*st(4))))/100"
      "00 - (2293*st(6)*(st(4)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)) + ct(4)*st(1)*st(2)))/10000 + fingerTipPosition*st(7)*"
      "(st(6)*(st(5)*(ct(1)*ct(3) - ct(2)*st(1)*st(3)) + ct(5)*(ct(4)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)) - st(1)*st(2)*s"
      "t(4))) + ct(6)*(st(4)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)) + ct(4)*st(1)*st(2))),  fingerTipPosition*(st(7)*(st(5)*"
      "(ct(4)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)) - st(1)*st(2)*st(4)) - ct(5)*(ct(1)*ct(3) - ct(2)*st(1)*st(3))) + ct(7)"
      "*(st(6)*(st(4)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)) + ct(4)*st(1)*st(2)) - ct(6)*(st(5)*(ct(1)*ct(3) - ct(2)*st(1)*"
      "st(3)) + ct(5)*(ct(4)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)) - st(1)*st(2)*st(4)))));\n                              "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                        0,                      "
      "                                                                                             (2293*st(6)*(ct(5)*"
      "(st(2)*st(4) - ct(2)*ct(3)*ct(4)) + ct(2)*st(3)*st(5)))/10000 - (9*ct(2)*ct(3))/200 - (3*ct(4)*st(2))/10 - (9*st"
      "(2)*st(4))/200 - (11*st(2))/20 - fingerTipPosition*(ct(7)*(st(5)*(st(2)*st(4) - ct(2)*ct(3)*ct(4)) - ct(2)*ct(5)"
      "*st(3)) + st(7)*(st(6)*(ct(4)*st(2) + ct(2)*ct(3)*st(4)) + ct(6)*(ct(5)*(st(2)*st(4) - ct(2)*ct(3)*ct(4)) + ct(2"
      ")*st(3)*st(5)))) - (2293*ct(6)*(ct(4)*st(2) + ct(2)*ct(3)*st(4)))/10000 + (9*ct(2)*ct(3)*ct(4))/200 - (3*ct(2)*c"
      "t(3)*st(4))/10,                                                                                                 "
      "                                                                                                                "
      "                                        (9*st(2)*st(3))/200 - fingerTipPosition*(st(7)*(ct(6)*(ct(3)*st(2)*st(5)"
      " + ct(4)*ct(5)*st(2)*st(3)) - st(2)*st(3)*st(4)*st(6)) - ct(7)*(ct(3)*ct(5)*st(2) - ct(4)*st(2)*st(3)*st(5))) + "
      "(2293*st(6)*(ct(3)*st(2)*st(5) + ct(4)*ct(5)*st(2)*st(3)))/10000 - (9*ct(4)*st(2)*st(3))/200 + (3*st(2)*st(3)*st"
      "(4))/10 + (2293*ct(6)*st(2)*st(3)*st(4))/10000,                                                                 "
      "                                                                                                                "
      "                    (9*ct(2)*ct(4))/200 - fingerTipPosition*(st(7)*(st(6)*(ct(2)*st(4) + ct(3)*ct(4)*st(2)) - ct"
      "(5)*ct(6)*(ct(2)*ct(4) - ct(3)*st(2)*st(4))) - ct(7)*st(5)*(ct(2)*ct(4) - ct(3)*st(2)*st(4))) - (3*ct(2)*st(4))/"
      "10 - (2293*ct(6)*(ct(2)*st(4) + ct(3)*ct(4)*st(2)))/10000 - (2293*ct(5)*st(6)*(ct(2)*ct(4) - ct(3)*st(2)*st(4)))"
      "/10000 - (3*ct(3)*ct(4)*st(2))/10 - (9*ct(3)*st(2)*st(4))/200,                                                  "
      "                                                                                                       fingerTip"
      "Position*(ct(7)*(ct(5)*(ct(2)*st(4) + ct(3)*ct(4)*st(2)) - st(2)*st(3)*st(5)) - ct(6)*st(7)*(st(5)*(ct(2)*st(4) "
      "+ ct(3)*ct(4)*st(2)) + ct(5)*st(2)*st(3))) + (2293*st(6)*(st(5)*(ct(2)*st(4) + ct(3)*ct(4)*st(2)) + ct(5)*st(2)*"
      "st(3)))/10000,                                                                                                  "
      "                                                         - (2293*st(6)*(ct(2)*ct(4) - ct(3)*st(2)*st(4)))/10000 "
      "- (2293*ct(6)*(ct(5)*(ct(2)*st(4) + ct(3)*ct(4)*st(2)) - st(2)*st(3)*st(5)))/10000 - fingerTipPosition*st(7)*(st"
      "(6)*(ct(5)*(ct(2)*st(4) + ct(3)*ct(4)*st(2)) - st(2)*st(3)*st(5)) - ct(6)*(ct(2)*ct(4) - ct(3)*st(2)*st(4))),   "
      "                                                                                                                "
      "              -fingerTipPosition*(st(7)*(st(5)*(ct(2)*st(4) + ct(3)*ct(4)*st(2)) + ct(5)*st(2)*st(3)) - ct(7)*(s"
      "t(6)*(ct(2)*ct(4) - ct(3)*st(2)*st(4)) + ct(6)*(ct(5)*(ct(2)*st(4) + ct(3)*ct(4)*st(2)) - st(2)*st(3)*st(5))));\n"
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "      0,                                                                                                        "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                                      -st(1),                                                                   "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                 ct(1)*st(2),                                   "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                                                          - ct(3)*st(1) - ct(1)*ct(2)*st(3),                    "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                ct(1)*ct(4)*st(2"
      ") - st(4)*(st(1)*st(3) - ct(1)*ct(2)*ct(3)),                                                                    "
      "                                                                                                                "
      "                                                                                                                "
      "                             st(5)*(ct(4)*(st(1)*st(3) - ct(1)*ct(2)*ct(3)) + ct(1)*st(2)*st(4)) - ct(5)*(ct(3)*"
      "st(1) + ct(1)*ct(2)*st(3)),                                                                                     "
      "                                                               - ct(6)*(st(4)*(st(1)*st(3) - ct(1)*ct(2)*ct(3)) "
      "- ct(1)*ct(4)*st(2)) - st(6)*(st(5)*(ct(3)*st(1) + ct(1)*ct(2)*st(3)) + ct(5)*(ct(4)*(st(1)*st(3) - ct(1)*ct(2)*"
      "ct(3)) + ct(1)*st(2)*st(4)));\n                                                                                 "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                                     0,                                                                         "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                      ct(1),                                    "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                st(1)*st(2),    "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                           ct(1)*ct(3) - ct(2)*s"
      "t(1)*st(3),                                                                                                     "
      "                                                                                                                "
      "                                                                                                                "
      "               st(4)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)) + ct(4)*st(1)*st(2),                                     "
      "                                                                                                                "
      "                                                                                                                "
      "                                                            ct(5)*(ct(1)*ct(3) - ct(2)*st(1)*st(3)) - st(5)*(ct("
      "4)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)) - st(1)*st(2)*st(4)),                                                      "
      "                                                                                                st(6)*(st(5)*(ct"
      "(1)*ct(3) - ct(2)*st(1)*st(3)) + ct(5)*(ct(4)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)) - st(1)*st(2)*st(4))) + ct(6)*(s"
      "t(4)*(ct(1)*st(3) + ct(2)*ct(3)*st(1)) + ct(4)*st(1)*st(2));\n                                                  "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                    1,                                          "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                         0,     "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                     ct(2),                                                                                     "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                              st(2)*st(3),                                                                      "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                          ct(2)*ct(4) - ct(3)*st(2)*st(4),      "
      "                                                                                                                "
      "                                                                                                                "
      "                                                                                                                "
      "                             st(5)*(ct(2)*st(4) + ct(3)*ct(4)*st(2)) + ct(5)*st(2)*st(3),                       "
      "                                                                                                                "
      "                                                                                             ct(6)*(ct(2)*ct(4) "
      "- ct(3)*st(2)*st(4)) - st(6)*(ct(5)*(ct(2)*st(4) + ct(3)*ct(4)*st(2)) - st(2)*st(3)*st(5))];\n        \n        "
      "wdes = nan(7,1);\n        wddes = nan(7,1);\n\n        % Uncomment this line to generate error from current posi"
      "tion (Option 3)\n        %Tdes(1:3,4) = T0(1:3,4) + 0.5*(Tdes(1:3,4) - T0(1:3,4));\n\n        error = tr2delta(T"
      "0,Tdes);\n        \n        %qddes = .1*pinv(V)*error + 200*qp;\n        qddes = 10*pinv(V)*error;\n        %qdd"
      "es = .5*V'*error;\n        \n        % Make sure none of the joint accelerations are too high.\n        % The ma"
      "x value of .5 was picked by hand through trial and error on the WAM\n        qdddes = (qddes - qddes_last)/sampl"
      "e_time;\n        if max(abs(qdddes)) > .5\n            qdddes = (qdddes / max(abs(qdddes))) * .5;\n            q"
      "ddes = qddes_last + qdddes*sample_time;\n        end\n\n        % Normalize qddes so that no joint velocities ar"
      "e too high\n        if max(qddes) > 0.5 \n            qddes = (qddes / max(abs(qddes)) ) * 0.5;\n        end\n\n"
      "        % Up date the desired joint angles\n        qdes = qdes_last + qddes*sample_time;\n        \n    elseif "
      "type == 5\n        wdes = zeros(7,1);\n        wddes = zeros(7,1);\n        qdes = q;\n        qddes = zeros(7,1"
      ");\n        qdddes = zeros(7,1);\n        error = zeros(6,1);\n    else\n        wdes = zeros(7,1);\n        wdd"
      "es = zeros(7,1);\n        qdes = qdes_last;\n        qddes = zeros(7,1);\n        qdddes = zeros(7,1);\n        "
      "error = zeros(6,1);\n    end\n\nend\n\n\n\n%TR2DELTA Convert homogeneous transform to differential motion\n%\n% "
      "D = TR2DELTA(T0, T1) is the differential motion corresponding to \n% infinitessimal motion from pose T0 to T1 wh"
      "ich are homogeneous \n% transformations. D=(dx, dy, dz, dRx, dRy, dRz) and is an approximation\n% to the average"
      " spatial velocity multiplied by time.\n%\n% D = TR2DELTA(T) is the differential motion corresponding to the\n% i"
      "nfinitessimal relative pose T expressed as a homogeneous \n% transformation.\n%\n% Notes::\n% - D is only an app"
      "roximation to the described by T, and assumes\n%   that T0 ~ T1 or T ~ eye(4,4).\n%\n% See also DELTA2TR, SKEW.\n"
      "\n\n% Copyright (C) 1993-2011, by Peter I. Corke\n%\n% This file is part of The Robotics Toolbox for Matlab (RTB"
      ").\n% \n% RTB is free software: you can redistribute it and/or modify\n% it under the terms of the GNU Lesser Ge"
      "neral Public License as published by\n% the Free Software Foundation, either version 3 of the License, or\n% (at"
      " your option) any later version.\n% \n% RTB is distributed in the hope that it will be useful,\n% but WITHOUT AN"
      "Y WARRANTY; without even the implied warranty of\n% MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See th"
      "e\n% GNU Lesser General Public License for more details.\n% \n% You should have received a copy of the GNU Leser"
      " General Public License\n% along with RTB.  If not, see <http://www.gnu.org/licenses/>.\n\nfunction delta = tr2d"
      "elta(T0, T1)\n    if nargin == 1\n        T1 = T0;\n        T0 = eye(4,4);\n    end\n    R0 = t2r(T0); R1 = t2r("
      "T1);\n    % in world frame\n    delta = [ (T1(1:3,4)-T0(1:3,4)); vex( R1*R0' - eye(3,3)) ];\n    % in T0 frame\n"
      "    %delta = [ R0'*(T1(1:3,4)-T0(1:3,4)); R0'*vex( R1*R0' - eye(3,3)) ];\n\n% TODO HACK understand/fix this and "
      "update Chapter 2\n%    delta = [	T1(1:3,4)-T0(1:3,4);\n%        0.5*(	cross(T0(1:3,1), T1(1:3,1)) + ...\n%      "
      "      cross(T0(1:3,2), T1(1:3,2)) + ...\n%            cross(T0(1:3,3), T1(1:3,3)) ...\n%        )];\nend\n\n%T2R"
      " Return rotational submatrix of a homogeneous transformation\n%\n% R = T2R(T) is the orthonormal rotation matrix"
      " component of homogeneous \n% transformation matrix T:\n%\n% Notes::\n% - functions for T in SE(2) or SE(3)\n%  "
      " - If T is 4x4, then R is 3x3.\n%   - If T is 3x3, then R is  2x2.\n% - the validity of rotational part is not c"
      "hecked\n%\n% See also R2T, TR2RT, RT2TR.\n\n\n% Copyright (C) 1993-2011, by Peter I. Corke\n%\n% This file is pa"
      "rt of The Robotics Toolbox for Matlab (RTB).\n% \n% RTB is free software: you can redistribute it and/or modify\n"
      "% it under the terms of the GNU Lesser General Public License as published by\n% the Free Software Foundation, e"
      "ither version 3 of the License, or\n% (at your option) any later version.\n% \n% RTB is distributed in the hope "
      "that it will be useful,\n% but WITHOUT ANY WARRANTY; without even the implied warranty of\n% MERCHANTABILITY or "
      "FITNESS FOR A PARTICULAR PURPOSE.  See the\n% GNU Lesser General Public License for more details.\n% \n% You sho"
      "uld have received a copy of the GNU Leser General Public License\n% along with RTB.  If not, see <http://www.gnu"
      ".org/licenses/>.\n\nfunction R = t2r(T)\n    n = size(T,2);  % works for SE(2) or SE(3)\n	R = T(1:n-1,1:n-1);\ne"
      "nd\n\n%VEX Convert skew-symmetric matrix to vector\n%\n% V = VEX(S) is the vector which has the skew-symmetric m"
      "atrix S.\n%\n% Notes::\n% - No checking is done to ensure that the matrix is skew-symmetric.\n% - The function t"
      "akes the mean of the two elements that correspond to each unique\n%   element of the matrix, ie. vx = 0.5*(S(3,2"
      ")-S(2,3))\n%\n% See also SKEW.\n\n\n% Copyright (C) 1993-2011, by Peter I. Corke\n%\n% This file is part of The "
      "Robotics Toolbox for Matlab (RTB).\n% \n% RTB is free software: you can redistribute it and/or modify\n% it unde"
      "r the terms of the GNU Lesser General Public License as published by\n% the Free Software Foundation, either ver"
      "sion 3 of the License, or\n% (at your option) any later version.\n% \n% RTB is distributed in the hope that it w"
      "ill be useful,\n% but WITHOUT ANY WARRANTY; without even the implied warranty of\n% MERCHANTABILITY or FITNESS F"
      "OR A PARTICULAR PURPOSE.  See the\n% GNU Lesser General Public License for more details.\n% \n% You should have "
      "received a copy of the GNU Leser General Public License\n% along with RTB.  If not, see <http://www.gnu.org/lice"
      "nses/>.\n\nfunction v = vex(S)\n    v = 0.5*[S(3,2)-S(2,3); S(1,3)-S(3,1); S(2,1)-S(1,2)];\nend"
      editorLayout	      "100 M4x1[288 169 1456 876]"
      fimathString	      "fimath(...\n'RoundMode', 'floor',...\n'OverflowMode', 'wrap',...\n'ProductMode', 'KeepLSB', "
      "'ProductWordLength', 32,...\n'SumMode', 'KeepLSB', 'SumWordLength', 32,...\n'CastBeforeSum', true)"
      emlDefaultFimath	      FimathUserSpecified
    }
  }
  data {
    id			    71
    ssIdNumber		    13
    name		    "wdes"
    linkNode		    [69 0 72]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    72
    ssIdNumber		    14
    name		    "wddes"
    linkNode		    [69 71 73]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    73
    ssIdNumber		    9
    name		    "qdes_last"
    linkNode		    [69 72 74]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    74
    ssIdNumber		    18
    name		    "qddes_last"
    linkNode		    [69 73 75]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    75
    ssIdNumber		    12
    name		    "hand_on"
    linkNode		    [69 74 76]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    76
    ssIdNumber		    8
    name		    "sample_time"
    linkNode		    [69 75 77]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    77
    ssIdNumber		    4
    name		    "xdes"
    linkNode		    [69 76 78]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    78
    ssIdNumber		    6
    name		    "xddes"
    linkNode		    [69 77 79]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    79
    ssIdNumber		    15
    name		    "Tdes"
    linkNode		    [69 78 80]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    80
    ssIdNumber		    7
    name		    "pos"
    linkNode		    [69 79 81]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    81
    ssIdNumber		    11
    name		    "type"
    linkNode		    [69 80 82]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    82
    ssIdNumber		    5
    name		    "qdes"
    linkNode		    [69 81 83]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    83
    ssIdNumber		    10
    name		    "qddes"
    linkNode		    [69 82 84]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    84
    ssIdNumber		    20
    name		    "qdddes"
    linkNode		    [69 83 85]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    85
    ssIdNumber		    16
    name		    "q"
    linkNode		    [69 84 86]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    86
    ssIdNumber		    17
    name		    "error"
    linkNode		    [69 85 87]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    87
    ssIdNumber		    21
    name		    "FT"
    linkNode		    [69 86 0]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  junction {
    id			    88
    position		    [23.5747 49.5747 7]
    chart		    69
    linkNode		    [69 0 0]
    subviewer		    69
    ssIdNumber		    3
    type		    CONNECTIVE_JUNCTION
  }
  transition {
    id			    89
    labelString		    "{eML_blk_kernel();}"
    labelPosition	    [36.125 25.875 102.544 14.964]
    fontSize		    12
    src {
      intersection	      [0 0 1 0 23.5747 14.625 0 0]
    }
    dst {
      id		      88
      intersection	      [1 0 -1 0 23.5747 42.5747 0 0]
    }
    midPoint		    [23.5747 24.9468]
    chart		    69
    linkNode		    [69 0 0]
    dataLimits		    [23.575 23.575 14.625 34.575]
    subviewer		    69
    drawStyle		    SMART
    slide {
      sticky		      BOTH_STICK
    }
    executionOrder	    1
    ssIdNumber		    2
  }
  instance {
    id			    90
    name		    "Subsystem/Plan Arm Trajectory/Compute qdes,qddes"
    machine		    1
    chart		    69
  }
  chart {
    id			    91
    name		    "Get Arm State/Get Gripper Status/Grasp Success"
    windowPosition	    [347.333 326.75 213 385]
    viewLimits		    [0 156.75 0 153.75]
    screen		    [1 1 1280 1024 1.333333333333333]
    treeNode		    [0 92 0 0]
    firstTransition	    97
    firstJunction	    96
    viewObj		    91
    machine		    1
    toolbarMode		    LIBRARY_TOOLBAR
    ssIdHighWaterMark	    6
    decomposition	    CLUSTER_CHART
    type		    EML_CHART
    firstData		    93
    chartFileNumber	    7
    disableImplicitCasting  1
    eml {
      name		      "f"
    }
  }
  state {
    id			    92
    labelString		    "eML_blk_kernel()"
    position		    [18 64.5 118 66]
    fontSize		    12
    chart		    91
    treeNode		    [91 0 0 0]
    superState		    SUBCHART
    subviewer		    91
    ssIdNumber		    1
    type		    FUNC_STATE
    decomposition	    CLUSTER_STATE
    eml {
      isEML		      1
      script		      "function grasp_success = f(isGraspMessage, errorcode)\n%#eml\n\n    persistent errorcode_last;\n "
      "   \n    if isempty(errorcode_last)\n       errorcode_last = -1; \n    end\n\n    grasp_success = 0;\n    \n    "
      "% If this is a grasp message, the current errorcode is a grasp succces \n    % and the previous one was not then"
      " return a success\n    if isGraspMessage && errorcode == 0 && errorcode_last ~= 0\n       grasp_success = 1; \n "
      "      errorcode_last = double(errorcode);\n    elseif ~isGraspMessage\n        errorcode_last = -1;\n    end\n  "
      "  \n\nend\n"
      editorLayout	      "100 M4x1[487 259 1080 733]"
      breakpoints	      "100 M[25]"
    }
  }
  data {
    id			    93
    ssIdNumber		    4
    name		    "isGraspMessage"
    linkNode		    [91 0 94]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    94
    ssIdNumber		    5
    name		    "grasp_success"
    linkNode		    [91 93 95]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    95
    ssIdNumber		    6
    name		    "errorcode"
    linkNode		    [91 94 0]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  junction {
    id			    96
    position		    [23.5747 49.5747 7]
    chart		    91
    linkNode		    [91 0 0]
    subviewer		    91
    ssIdNumber		    3
    type		    CONNECTIVE_JUNCTION
  }
  transition {
    id			    97
    labelString		    "{eML_blk_kernel();}"
    labelPosition	    [36.125 25.875 102.544 14.964]
    fontSize		    12
    src {
      intersection	      [0 0 1 0 23.5747 14.625 0 0]
    }
    dst {
      id		      96
      intersection	      [1 0 -1 0 23.5747 42.5747 0 0]
    }
    midPoint		    [23.5747 24.9468]
    chart		    91
    linkNode		    [91 0 0]
    dataLimits		    [23.575 23.575 14.625 34.575]
    subviewer		    91
    drawStyle		    SMART
    slide {
      sticky		      BOTH_STICK
    }
    executionOrder	    1
    ssIdNumber		    2
  }
  instance {
    id			    98
    name		    "Get Arm State/Get Gripper Status/Grasp Success"
    machine		    1
    chart		    91
  }
  chart {
    id			    99
    name		    "Subsystem/Plan Arm Trajectory/Determine parameters"
    windowPosition	    [438.222 311.32 213 385]
    viewLimits		    [0 156.75 0 153.75]
    screen		    [1 1 1280 1024 1.333333333333333]
    treeNode		    [0 100 0 0]
    firstTransition	    115
    firstJunction	    114
    viewObj		    99
    machine		    1
    ssIdHighWaterMark	    26
    decomposition	    CLUSTER_CHART
    type		    EML_CHART
    firstData		    101
    chartFileNumber	    8
    disableImplicitCasting  1
    eml {
      name		      "det_params"
    }
    supportVariableSizing   0
  }
  state {
    id			    100
    labelString		    "eML_blk_kernel()"
    position		    [18 64.5 118 66]
    fontSize		    12
    chart		    99
    treeNode		    [99 0 0 0]
    superState		    SUBCHART
    subviewer		    99
    ssIdNumber		    1
    type		    FUNC_STATE
    decomposition	    CLUSTER_STATE
    eml {
      isEML		      1
      script		      "% if joint space move, computes the trajectory using a trapezoidal velocity profile\n% if cartesi"
      "an space move, computes the trajectory using one selected position axis, and theta\n\n% if joint space:\n% x0,xf"
      " are start and end position in radians\n%     type==0\n% if cartesian space:\n% x0,xf are start and end position"
      " in meters/radians\n%     type==any other\nfunction [x0,xf,acc,vel,Tdes,pos,type, guarded] = det_params(dt,hand_"
      "on,x0_in,pckt,FT)\n\n    % This is used for compliant closing\n    persistent initialGripperWidth;\n    \n    if"
      "(isempty(initialGripperWidth))\n        initialGripperWidth = 0;\n    end\n    \n    % parse the UDP packet\n   "
      " % pckt(1) is a double but is converted to uint8 (mask1 mask2 mask3 mask4 mask5 type(3 bits))\n    data = uint8("
      "pckt(1));\n    bits = bitand(bitshift(data,-7:0),1)';\n    posMask = 2*bits(4)+bits(5);\n    \n    type = double"
      "(4*bits(6)+2*bits(7)+bits(8));\n    guarded = [0 0 dt 0 0];\n    % determine x0 (depends on cartesian space or j"
      "oint space)\n    % joint space move\n    if(type == 0)\n        acc = pckt(9:15);\n        vel = pckt(16:22);\n "
      "       xf  = pckt(2:8);\n        \n        Tdes = nan(4,4);\n        x0 = x0_in;\n        pos = nan(3,1);\n     "
      "   guarded = [0 0 dt 0 0];\n    % cartesian space move\n    elseif(type == 1)\n        % acc and vel are unused "
      "for Jacobian Transpose controller\n        acc = [.05 .05 .05 .05 0 0 0]';\n        vel = [.1  .1  .1  .1  0 0 0"
      "]';\n        % Unpack the transfomation matrix\n        TF = [pckt(2)  pckt(3)  pckt(4)  pckt(5);\n             "
      " pckt(6)  pckt(7)  pckt(8)  pckt(9);\n              pckt(10) pckt(11) pckt(12) pckt(13);\n              0 0 0 1;"
      "];\n        Tdes = TF; % Entire transformation matrix describing desired tool configuration\n        \n        %"
      " Build the guarded signal from the packet\n        guarded = [pckt(18) pckt(19) dt pckt(20) pckt(21)];\n        "
      "\n        pos = TF(1:3,4);  % Position part of transformation matrix describing the desired tool configuration\n"
      "        \n        % we need to compute the forward kinematics\n        % to determine the initial tool configura"
      "tion vector\n        \n        % a, d, and alpha (b) DH parameters\n        dh_a = [0 0 0.045 -0.045 0 0 0 0];\n"
      "        dh_d = [0 0 0.55 0 0.3 0 .061 0]; % Not sure about dh_d(8) For the hand\n        dh_b = [-pi/2 pi/2 -pi/"
      "2 pi/2 -pi/2 pi/2 0 0];\n\n        % hand on\n        if (hand_on)\n            dh_d(8) = 0.0953; % Schunk Gripp"
      "er\n        end\n\n        % compute forward kinematics of initial position\n        ct = cos([x0_in; 0]);\n    "
      "    st = sin([x0_in; 0]);\n        cb = cos(dh_b);\n        sb = sin(dh_b);        \n        T0 = eye(4);\n     "
      "   for i=1:8\n            T = [ ct(i), -st(i)*cb(i),  st(i)*sb(i), dh_a(i)*ct(i);\n                  st(i),  ct("
      "i)*cb(i), -ct(i)*sb(i), dh_a(i)*st(i);\n                  0, sb(i), cb(i), dh_d(i);\n                  0, 0, 0, "
      "1 ];\n            T0 = T0*T;\n        end\n        \n        x0 = [T0(1:3,4)' 0 0 0 0]';\n        xf = [pos' 0 0"
      " 0 0]';\n\n    % A Trajectory Move\n    elseif(type == 2)\n        % Execute a trajectory given in the UDP packe"
      "t.  There will be 100 points along the trajectory,\n        % each with seven values (joints 1-7).  In the packe"
      "t the points will start at pckt(PTS_START)\n        \n        acc = zeros(7,1);\n        vel = zeros(7,1);\n    "
      "    pos = zeros(3,1);\n        x0 = zeros(7,1);\n        xf = zeros(7,1);\n        \n        PTS_START = 3;  \n\n"
      "        % Get the length (in seconds) that the trajectory should take\n        trajectoryEndTime = pckt(2);\n   "
      "     \n        % Index of 100 points in the trajectory that the current time falls at\n        index = (dt / tra"
      "jectoryEndTime)*100;\n        % The first point that we will want to interpolate between\n        lowIndex = flo"
      "or(index);\n        % The distance between the two points (used for linear interpolation)\n        alpha = index"
      " - lowIndex;\n        \n        % Get the start and end joint angles from the packet\n        startIndex = lowIn"
      "dex*7 + PTS_START;\n        qStart = zeros(1,7);\n        qEnd = zeros(1,7);\n        qStart(1) = pckt(startInde"
      "x    );\n        qStart(2) = pckt(startIndex + 1);\n        qStart(3) = pckt(startIndex + 2);\n        qStart(4)"
      " = pckt(startIndex + 3);\n        qStart(5) = pckt(startIndex + 4);\n        qStart(6) = pckt(startIndex + 5);\n"
      "        qStart(7) = pckt(startIndex + 6);\n        qEnd(1)   = pckt(startIndex + 7);\n        qEnd(2)   = pckt(s"
      "tartIndex + 8);\n        qEnd(3)   = pckt(startIndex + 9);\n        qEnd(4)   = pckt(startIndex + 10);\n        "
      "qEnd(5)   = pckt(startIndex + 11);\n        qEnd(6)   = pckt(startIndex + 12);\n        qEnd(7)   = pckt(startIn"
      "dex + 13);\n\n        % For some reason Matlab did not like the syntax:\n        %  qStart = pckt(startIndex : s"
      "tartIndex + 6);\n        %  qEnd   = pckt(startIndex + 7 : startIndex + 13);\n        % or even\n        %  qSta"
      "rt(1:7) = pckt(startIndex : startIndex + 6);\n        \n        % Do a linear interpolation between the two join"
      "t angles\n        qdes = (1-alpha)*qStart + alpha*qEnd;\n        \n        %Pack the position into Tdes so we do"
      " not have to create another signal\n        Tdes = zeros(4,4);\n        Tdes(1:7) = qdes';\n        \n        % "
      "Put finised time in x0(1)\n        x0(1) = trajectoryEndTime;\n        \n    % Compliant close.\n    elseif type"
      " == 3       \n        x0 = zeros(7,1);\n        xf = zeros(7,1);\n        acc = zeros(7,1);\n        vel = zeros"
      "(7,1);\n        pos = zeros(3,1);\n        \n        % If we are just at the beginning of a compliant close, get"
      " the\n        % current gripper width as the starting gripper width\n        if dt < .004\n           %initialGr"
      "ipperWidth = FT(8); \n           initialGripperWidth = .1;\n        end\n        \n        targetGripperWidth = "
      "pckt(2);\n        gripperSpeed = pckt(3);\n        finger = pckt(4);\n        \n        totalTime = abs(initialG"
      "ripperWidth - targetGripperWidth) / gripperSpeed;\n        \n        % Get the fingertip position\n        finge"
      "rTipPosition = finger*initialGripperWidth/2;\n                \n        % a, d, and alpha (b) DH parameters\n   "
      "     dh_a = [0 0 0.045 -0.045 0 0 0 0];\n        dh_d = [0 0 0.55 0 0.3 0 .061 0]; % Not sure about dh_d(8) For "
      "the hand\n        dh_b = [-pi/2 pi/2 -pi/2 pi/2 -pi/2 pi/2 0 0];\n\n        % hand on\n        if (hand_on)\n   "
      "         dh_d(8) = 0.0953; % Schunk Gripper\n        end\n\n        % compute forward kinematics of initial posi"
      "tion\n        ct = cos([x0_in; 0]);\n        st = sin([x0_in; 0]);\n        cb = cos(dh_b);\n        sb = sin(dh"
      "_b);\n        T0 = eye(4);\n        for i=1:8\n            T = [ ct(i), -st(i)*cb(i),  st(i)*sb(i), dh_a(i)*ct(i"
      ");\n                  st(i),  ct(i)*cb(i), -ct(i)*sb(i), dh_a(i)*st(i);\n                  0, sb(i), cb(i), dh_d"
      "(i);\n                  0, 0, 0, 1 ];\n            T0 = T0*T;\n        end\n        \n        % Add the rotated "
      "vector from palm to fingertip\n        T0(1:3,4) = T0(1:3,4) + T0(1:3,1:3)*[0;fingerTipPosition;.073];\n        "
      "\n        Tdes = T0;\n        \n        % Build the guarded signal\n        guarded = [0 0 dt 0 0];\n        \n "
      "       % Get the time that the gripper should take to close\n        x0(1) = totalTime;\n        \n        % The"
      " grasp success flag\n        x0(2) = FT(9);\n        \n        % pos(1) pass which finger should remain stationa"
      "ry through to the\n        % compute qdes,qddes block\n        pos(1) = finger;\n        \n        % pos(2) hold"
      "s the predicted gripper position\n        pos(2) = initialGripperWidth - (dt/totalTime)*(initialGripperWidth - t"
      "argetGripperWidth);\n    elseif type == 5\n        x0 = x0_in;\n        xf = x0_in;\n        acc = zeros(7,1);\n"
      "        vel = zeros(7,1);\n        Tdes = zeros(4,4);\n        pos = zeros(3,1);\n        guarded = [0 0 dt 0 0]"
      ";\n        vel(1) = pckt(2);  % Tf for an impedance move\n    else\n        x0 = x0_in;\n        xf = x0_in;\n  "
      "      acc = zeros(7,1);\n        vel = zeros(7,1);\n        Tdes = zeros(4,4);\n        pos = zeros(3,1);\n     "
      "   %type = 0;\n    end\nend\n"
      editorLayout	      "100 M4x1[176 149 1936 1186]"
      fimathString	      "fimath(...\n'RoundMode', 'floor',...\n'OverflowMode', 'wrap',...\n'ProductMode', 'KeepLSB', "
      "'ProductWordLength', 32,...\n'SumMode', 'KeepLSB', 'SumWordLength', 32,...\n'CastBeforeSum', true)"
      emlDefaultFimath	      FimathUserSpecified
    }
  }
  data {
    id			    101
    ssIdNumber		    23
    name		    "dt"
    linkNode		    [99 0 102]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    102
    ssIdNumber		    4
    name		    "x0"
    linkNode		    [99 101 103]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    103
    ssIdNumber		    10
    name		    "xf"
    linkNode		    [99 102 104]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    104
    ssIdNumber		    16
    name		    "acc"
    linkNode		    [99 103 105]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    105
    ssIdNumber		    17
    name		    "vel"
    linkNode		    [99 104 106]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    106
    ssIdNumber		    20
    name		    "Tdes"
    linkNode		    [99 105 107]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    107
    ssIdNumber		    18
    name		    "pos"
    linkNode		    [99 106 108]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    108
    ssIdNumber		    14
    name		    "hand_on"
    linkNode		    [99 107 109]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    109
    ssIdNumber		    19
    name		    "x0_in"
    linkNode		    [99 108 110]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    110
    ssIdNumber		    6
    name		    "pckt"
    linkNode		    [99 109 111]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    111
    ssIdNumber		    5
    name		    "type"
    linkNode		    [99 110 112]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    112
    ssIdNumber		    24
    name		    "guarded"
    linkNode		    [99 111 113]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    113
    ssIdNumber		    25
    name		    "FT"
    linkNode		    [99 112 0]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  junction {
    id			    114
    position		    [23.5747 49.5747 7]
    chart		    99
    linkNode		    [99 0 0]
    subviewer		    99
    ssIdNumber		    3
    type		    CONNECTIVE_JUNCTION
  }
  transition {
    id			    115
    labelString		    "{eML_blk_kernel();}"
    labelPosition	    [36.125 25.875 102.544 14.964]
    fontSize		    12
    src {
      intersection	      [0 0 1 0 23.5747 14.625 0 0]
    }
    dst {
      id		      114
      intersection	      [1 0 -1 0 23.5747 42.5747 0 0]
    }
    midPoint		    [23.5747 24.9468]
    chart		    99
    linkNode		    [99 0 0]
    dataLimits		    [23.575 23.575 14.625 34.575]
    subviewer		    99
    drawStyle		    SMART
    slide {
      sticky		      BOTH_STICK
    }
    executionOrder	    1
    ssIdNumber		    2
  }
  instance {
    id			    116
    name		    "Subsystem/Plan Arm Trajectory/Determine parameters"
    machine		    1
    chart		    99
  }
  chart {
    id			    117
    name		    "Subsystem/Plan Arm Trajectory/Trapezoidal Profile2"
    windowPosition	    [365.333 220.298 213 385]
    viewLimits		    [0 156.75 0 153.75]
    screen		    [1 1 1280 1024 1.333333333333333]
    treeNode		    [0 118 0 0]
    firstTransition	    131
    firstJunction	    130
    viewObj		    117
    machine		    1
    ssIdHighWaterMark	    14
    decomposition	    CLUSTER_CHART
    type		    EML_CHART
    firstData		    119
    chartFileNumber	    9
    disableImplicitCasting  1
    eml {
      name		      "trap_traj"
    }
  }
  state {
    id			    118
    labelString		    "eML_blk_kernel()"
    position		    [18 64.5 118 66]
    fontSize		    12
    chart		    117
    treeNode		    [117 0 0 0]
    superState		    SUBCHART
    subviewer		    117
    ssIdNumber		    1
    type		    FUNC_STATE
    decomposition	    CLUSTER_STATE
    eml {
      isEML		      1
      script		      "function [xdes,xddes,done,m] = trap_traj(dt,x0,xf,acc,vel,type,cartesian_error)\n    % assume we'"
      "re done\n    done = 1;\n\n    % initialize xdes and xddes\n    xdes = zeros(7,1);\n    xddes = zeros(7,1);\n    "
      "m = [0.0 0.0 dt];\n\n    if type == 0\n        % iterate through joints\n        for i=1:7\n            % check "
      "if we're already done with this joint\n            if(xf(i) == x0(i))\n                xdes(i) = xf(i);\n       "
      "         % xddes(i) was initialized to 0\n                continue;\n            end\n\n            % change acc"
      "eleration and velocity to appropriate sign\n            a = acc(i)*sign(xf(i)-x0(i));\n            v = vel(i)*si"
      "gn(xf(i)-x0(i));\n\n            % t1,q1 are the time and position at the first peak of the trapezoid\n          "
      "  % t2,q2 are the time and position at the second peak of the trapezoid\n            % v2 is the velocity at the"
      " midpoint of the trapezoid\n            % qramp is the distance traveled during the acceleration phase\n        "
      "    % tmid is the time spent at constant velocity\n            % tf is the total time to reach desired position "
      "(t1+t2+tmid)\n            % a = vt; q = 0.5*a*t^2\n            t1 = v/a;\n            qramp = 0.5*a*t1^2;\n\n   "
      "         % acceleration is not high enough to reach our constant velocity, so trapezoid\n            % looks lik"
      "e a triangle instead\n            if (abs(2*qramp) > abs(xf(i)-x0(i)))\n                % (xf-x0)/2 = 0.5*a*t^2\n"
      "                t1 = sqrt((xf(i)-x0(i))/a);\n                tmid = 0;\n                qramp = (xf(i)-x0(i))/2;"
      "\n                v2 = a*t1;\n            % we will hit constant velocity, so trapezoid is really a trapezoid\n "
      "           else\n                tmid = (xf(i)-x0(i)-2*qramp)/v;\n                v2 = v;\n            end\n\n  "
      "          % compute the remaining params\n            t2 = t1 + tmid;\n            tf = t1*2 + tmid;\n          "
      "  q1 = x0(i) + qramp;\n            q2 = q1 + v*tmid;\n\n            % acceleration stage\n            if (dt < t"
      "1)\n                tloc = dt;\n                xdes(i) = x0(i) + 0.5*a*tloc^2;\n                xddes(i) = a*tl"
      "oc;\n            % constant velocity stage\n            elseif (dt < t2)\n                tloc = dt-t1;\n       "
      "         xdes(i) = q1 + v*tloc;\n                xddes(i) = v;\n            % deceleration stage\n            el"
      "seif (dt < tf)\n                tloc = dt-t2;\n                xdes(i) = q2 + v2*tloc - 0.5*a*tloc*tloc;\n      "
      "          xddes(i) = -a*tloc+v2;\n            % hold until next trajectory point\n            else\n            "
      "    xdes(i) = xf(i);\n                % xddes(i) was initialized to 0\n            end\n\n            % check if"
      " has finished yet\n            if (dt < tf)\n                done = 0;\n            end\n        end\n    elseif"
      " type == 1  % Cartesian space move\n\n        % This only determines if we have finished a cartesian space move."
      "\n        % A cartesian space move runs for at least .25 seconds and no more than 15 seconds.\n        % If the "
      "time is witin these limits, a cartesian space move is done if the error is \n        % less than the bounds.\n  "
      "      \n        % Run for at least .25 seconds\n        if dt < .25\n            done = 0;\n        else\n      "
      "      m(1) = max(abs(cartesian_error(1:3)));\n            m(2) = max(abs(cartesian_error(4:6)));\n            % "
      "If we have been running for less than 15 seconds and we are still far away, we are not done.\n            %if  d"
      "t < 15 && (norm(cartesian_error(1:3)) > .02 || norm(cartesian_error(4:6)) > .1)\n            if  dt < 15 && ( m("
      "1) > .01 || m(2) > .01)\n                done = 0;\n            else\n                done = 1;\n            end"
      "\n        end\n    % A trajectory move\n    elseif type == 2\n        if dt < x0(1)\n            done = 0;\n    "
      "    end\n        \n    % A compliant close\n    elseif type == 3\n        \n        % This only determines if we"
      " have finished a compliant close.\n        % A compliant close runs for time specified for the gripper to close "
      "[in x0(1)].\n        % If the current time is less than the maximum running time, a compliant close can \n      "
      "  % be stopped if the gripper returns a grasp success, or if there is an error.\n        \n        % If we have "
      "been running for less than the time specified in x0(1)\n        if  dt < x0(1)\n            done = 0;\n        e"
      "lse\n            done = 1;\n        end\n        \n        % If there was a grasp success\n        if x0(2) == 1"
      "\n            done = 1;\n        end\n        \n    elseif type == 5\n        \n        % vel(1) has tf for an i"
      "mpedance move\n        if dt > 1.1*vel(1)\n            done = 1;\n        else\n            done = 0;\n        e"
      "nd\n       \n    else\n        done = 1;\n    end\n    \nend\n"
      editorLayout	      "100 M4x1[17 484 1936 1186]"
    }
  }
  data {
    id			    119
    ssIdNumber		    4
    name		    "dt"
    linkNode		    [117 0 120]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    120
    ssIdNumber		    5
    name		    "xdes"
    linkNode		    [117 119 121]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    121
    ssIdNumber		    6
    name		    "x0"
    linkNode		    [117 120 122]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    122
    ssIdNumber		    7
    name		    "xf"
    linkNode		    [117 121 123]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    123
    ssIdNumber		    8
    name		    "acc"
    linkNode		    [117 122 124]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    124
    ssIdNumber		    9
    name		    "vel"
    linkNode		    [117 123 125]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    125
    ssIdNumber		    10
    name		    "xddes"
    linkNode		    [117 124 126]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    126
    ssIdNumber		    11
    name		    "done"
    linkNode		    [117 125 127]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    127
    ssIdNumber		    12
    name		    "type"
    linkNode		    [117 126 128]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    128
    ssIdNumber		    13
    name		    "cartesian_error"
    linkNode		    [117 127 129]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    129
    ssIdNumber		    14
    name		    "m"
    linkNode		    [117 128 0]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "double"
  }
  junction {
    id			    130
    position		    [23.5747 49.5747 7]
    chart		    117
    linkNode		    [117 0 0]
    subviewer		    117
    ssIdNumber		    3
    type		    CONNECTIVE_JUNCTION
  }
  transition {
    id			    131
    labelString		    "{eML_blk_kernel();}"
    labelPosition	    [36.125 25.875 102.544 14.964]
    fontSize		    12
    src {
      intersection	      [0 0 1 0 23.5747 14.625 0 0]
    }
    dst {
      id		      130
      intersection	      [1 0 -1 0 23.5747 42.5747 0 0]
    }
    midPoint		    [23.5747 24.9468]
    chart		    117
    linkNode		    [117 0 0]
    dataLimits		    [23.575 23.575 14.625 34.575]
    subviewer		    117
    drawStyle		    SMART
    slide {
      sticky		      BOTH_STICK
    }
    executionOrder	    1
    ssIdNumber		    2
  }
  instance {
    id			    132
    name		    "Subsystem/Plan Arm Trajectory/Trapezoidal Profile2"
    machine		    1
    chart		    117
  }
  chart {
    id			    133
    name		    "Receive Controller Commands/Embedded\nMATLAB Function"
    windowPosition	    [360.667 326.75 213 385]
    viewLimits		    [0 156.75 0 153.75]
    screen		    [1 1 1280 1024 1.333333333333333]
    treeNode		    [0 134 0 0]
    firstTransition	    141
    firstJunction	    140
    viewObj		    133
    machine		    1
    toolbarMode		    LIBRARY_TOOLBAR
    ssIdHighWaterMark	    11
    decomposition	    CLUSTER_CHART
    type		    EML_CHART
    firstData		    135
    chartFileNumber	    10
    disableImplicitCasting  1
    eml {
      name		      "fcn"
    }
  }
  state {
    id			    134
    labelString		    "eML_blk_kernel()"
    position		    [18 64.5 118 66]
    fontSize		    12
    chart		    133
    treeNode		    [133 0 0 0]
    superState		    SUBCHART
    subviewer		    133
    ssIdNumber		    1
    type		    FUNC_STATE
    decomposition	    CLUSTER_STATE
    eml {
      isEML		      1
      script		      "function [FTSIGNAL, TAUSIGNAL]  = fcn(t,data, rcvd)\n%#eml\n    \n    persistent torque_percentag"
      "e tausignal torque_state torque_duration torque_start_time taredTime biasStartTime\n    % Values for torque_stat"
      "e\n    %  0 : Torque is off (0%)\n    %  1 : Torque is increasing\n    % -1 : Torque is decreasing\n    %  2 : T"
      "orque is full (100%)\n    \n    if isempty(torque_percentage) || isempty(tausignal) || isempty(torque_state) || "
      "isempty(torque_duration) || isempty(torque_start_time) || isempty(taredTime) || isempty(biasStartTime)\n       t"
      "orque_percentage = 0;\n       tausignal = 0;\n       torque_state = 0;\n       torque_duration = 0;\n       torq"
      "ue_start_time = 0;\n       taredTime = 0;\n       biasStartTime = -1;\n    end\n\n    tarenow = 0;\n    biasFT ="
      " 0;\n    readFT = 0;\n\n    % If there is a new packet this cycle\n    if(rcvd == 1)\n        switch(data(1))  %"
      " Using a switch because we may want to implement other commands\n            case 1 % Tare command\n            "
      "    tarenow = 1;\n                taredTime = t;\n            case 2 % Increase Torque Percentage to 100%\n     "
      "           % Can only increase the torque if it is off\n                if torque_state == 0 && torque_percentag"
      "e == 0\n                    torque_state = 1;\n                    torque_start_time = t;\n                    t"
      "orque_duration = double(data(2));\n                end\n            case 3 % Decrease Torque Percentage to 0%\n "
      "               if torque_state == 2 && torque_percentage == 1\n                    torque_state = -1;\n         "
      "           torque_start_time = t;\n                    torque_duration = double(data(2));\n                end\n"
      "            case 4 % Bias command\n                biasStartTime = t;              \n\n        end\n    else\n  "
      "      if(t == .004) % Just starting the model\n            tarenow = 1;\n            taredTime = t;\n        end"
      "\n    end\n    \n    % Must calculate bias from .5 seconds to 1.5 seconds after sending the tare command\n    % "
      "More than 1.5 seconds, do not calculate bias\n    if(t - taredTime > 1.5)\n        readFT = 1;\n    end\n    \n "
      "   if(biasStartTime > 0 && t - biasStartTime <= 1)\n        biasFT = 1;\n    end\n\n    % Put together the FTSIG"
      "NAL\n    FTSIGNAL = [tarenow biasFT readFT];\n    \n    \n    % Put together the TAUSIGNAL\n    if torque_state "
      "== 1 % Increasing the torque\n       dt = t - torque_start_time;\n       if dt < torque_duration\n          torq"
      "ue_percentage = dt/torque_duration;\n       else\n          torque_state = 2; % Reached full torque\n          t"
      "orque_percentage = 1;\n       end\n       \n    elseif torque_state == -1 % Decreasing the torque\n       dt = t"
      " - torque_start_time;\n       if dt < torque_duration\n          torque_percentage = 1 - dt/torque_duration;\n  "
      "     else\n          torque_state = 0;\n          torque_percentage = 0;\n       end\n    end\n    \n    TAUSIGN"
      "AL = torque_percentage;\nend"
      editorLayout	      "100 M4x1[1 52 1936 1096]"
    }
  }
  data {
    id			    135
    ssIdNumber		    7
    name		    "t"
    linkNode		    [133 0 136]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    136
    ssIdNumber		    4
    name		    "data"
    linkNode		    [133 135 137]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    137
    ssIdNumber		    5
    name		    "FTSIGNAL"
    linkNode		    [133 136 138]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    138
    ssIdNumber		    11
    name		    "TAUSIGNAL"
    linkNode		    [133 137 139]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    139
    ssIdNumber		    6
    name		    "rcvd"
    linkNode		    [133 138 0]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  junction {
    id			    140
    position		    [23.5747 49.5747 7]
    chart		    133
    linkNode		    [133 0 0]
    subviewer		    133
    ssIdNumber		    3
    type		    CONNECTIVE_JUNCTION
  }
  transition {
    id			    141
    labelString		    "{eML_blk_kernel();}"
    labelPosition	    [36.125 25.875 102.544 14.964]
    fontSize		    12
    src {
      intersection	      [0 0 1 0 23.5747 14.625 0 0]
    }
    dst {
      id		      140
      intersection	      [1 0 -1 0 23.5747 42.5747 0 0]
    }
    midPoint		    [23.5747 24.9468]
    chart		    133
    linkNode		    [133 0 0]
    dataLimits		    [23.575 23.575 14.625 34.575]
    subviewer		    133
    drawStyle		    SMART
    slide {
      sticky		      BOTH_STICK
    }
    executionOrder	    1
    ssIdNumber		    2
  }
  instance {
    id			    142
    name		    "Receive Controller Commands/Embedded\nMATLAB Function"
    machine		    1
    chart		    133
  }
  chart {
    id			    143
    name		    "Subsystem/Plan Arm Trajectory/Send Execution Result/Determine Execution Result"
    windowPosition	    [374 326.75 213 385]
    viewLimits		    [0 156.75 0 153.75]
    screen		    [1 1 1280 1024 1.333333333333333]
    treeNode		    [0 144 0 0]
    firstTransition	    153
    firstJunction	    152
    viewObj		    143
    machine		    1
    toolbarMode		    LIBRARY_TOOLBAR
    ssIdHighWaterMark	    13
    decomposition	    CLUSTER_CHART
    type		    EML_CHART
    firstData		    145
    chartFileNumber	    12
    disableImplicitCasting  1
    eml {
      name		      "getResult"
    }
  }
  state {
    id			    144
    labelString		    "eML_blk_kernel()"
    position		    [18 64.5 118 66]
    fontSize		    12
    chart		    143
    treeNode		    [143 0 0 0]
    superState		    SUBCHART
    subviewer		    143
    ssIdNumber		    1
    type		    FUNC_STATE
    decomposition	    CLUSTER_STATE
    eml {
      isEML		      1
      script		      "function [sendPacket, result] = getResult(Done, DoneChanged, ExecutionStatus, contact,t)\n%#eml\n"
      "\n    sendPacket = 0;\n    startOrFinish = 0;\n    executionResult = 0;\n    result = [0 0 0 0 0 t];\n    % resu"
      "lt(1) - 1: Move started\n    % result(1) - 2: Move finished\n    \n    % result(2) - only valid if result(1) == "
      "2\n    %             0 - Failure\n    %             1 - Success\n    %             2 - Need to start a compliant"
      " close\n    \n    result(3) = ExecutionStatus(1); % FTError\n    result(4) = ExecutionStatus(2); % contact_or_no"
      "t\n    result(5) = ExecutionStatus(3); % contact_scenario\n\n    if DoneChanged && ~Done    % We just started a "
      "move\n       startOrFinish = 1; \n       sendPacket = 1;\n\n    elseif contact(1) == 1\n       startOrFinish = 2"
      ";\n       sendPacket = 1;\n       executionResult = 0;\n       result(4) = contact(1);\n       result(5) = conta"
      "ct(2);\n       \n    elseif (DoneChanged && Done) || ExecutionStatus(1) % We just finished a move\n       startO"
      "rFinish = 2;\n       sendPacket = 1;\n       if ExecutionStatus(1)\n           executionResult = 0;\n       else"
      "\n           executionResult = 1;\n       end\n       \n    elseif contact(1) == 2  % If axis is blocked\n      "
      "  startOrFinish = 2;\n        sendPacket = 1;\n        executionResult = 2;\n        result(3) = 0; % FTError;\n"
      "        result(4) = 1; % contact_or_not\n        % Turn left fingertip into left finger, and right fingertip int"
      "o right finger\n        if contact(2) == 1 % Left fingertip\n          result(5) = 8; % Left finger\n        els"
      "eif contact(2) == 2 % Right fingertip\n          result(5) = 7; % Right finger\n        elseif contact(2) == 4 %"
      " Palm\n          result(5) = 4;\n        end\n    end\n\n    result(1) = startOrFinish;\n    result(2) = executi"
      "onResult;\n \nend"
      editorLayout	      "100 M4x1[109 27 1650 1012]"
    }
  }
  data {
    id			    145
    ssIdNumber		    4
    name		    "Done"
    linkNode		    [143 0 146]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    146
    ssIdNumber		    8
    name		    "DoneChanged"
    linkNode		    [143 145 147]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    147
    ssIdNumber		    5
    name		    "sendPacket"
    linkNode		    [143 146 148]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    148
    ssIdNumber		    6
    name		    "ExecutionStatus"
    linkNode		    [143 147 149]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    149
    ssIdNumber		    7
    name		    "result"
    linkNode		    [143 148 150]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    150
    ssIdNumber		    11
    name		    "contact"
    linkNode		    [143 149 151]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    151
    ssIdNumber		    12
    name		    "t"
    linkNode		    [143 150 0]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  junction {
    id			    152
    position		    [23.5747 49.5747 7]
    chart		    143
    linkNode		    [143 0 0]
    subviewer		    143
    ssIdNumber		    3
    type		    CONNECTIVE_JUNCTION
  }
  transition {
    id			    153
    labelString		    "{eML_blk_kernel();}"
    labelPosition	    [36.125 25.875 102.544 14.964]
    fontSize		    12
    src {
      intersection	      [0 0 1 0 23.5747 14.625 0 0]
    }
    dst {
      id		      152
      intersection	      [1 0 -1 0 23.5747 42.5747 0 0]
    }
    midPoint		    [23.5747 24.9468]
    chart		    143
    linkNode		    [143 0 0]
    dataLimits		    [23.575 23.575 14.625 34.575]
    subviewer		    143
    drawStyle		    SMART
    slide {
      sticky		      BOTH_STICK
    }
    executionOrder	    1
    ssIdNumber		    2
  }
  instance {
    id			    154
    name		    "Subsystem/Plan Arm Trajectory/Send Execution Result/Determine Execution Result"
    machine		    1
    chart		    143
  }
  chart {
    id			    155
    name		    "Subsystem/MATLAB Function"
    windowPosition	    [429.333 212.333 213 385]
    viewLimits		    [0 156.75 0 153.75]
    screen		    [1 1 1280 1024 1.333333333333333]
    treeNode		    [0 156 0 0]
    firstTransition	    167
    firstJunction	    166
    viewObj		    155
    machine		    1
    ssIdHighWaterMark	    14
    decomposition	    CLUSTER_CHART
    type		    EML_CHART
    firstData		    157
    chartFileNumber	    13
    disableImplicitCasting  1
    eml {
      name		      "fcn"
    }
  }
  state {
    id			    156
    labelString		    "eML_blk_kernel()"
    position		    [18 64.5 118 66]
    fontSize		    12
    chart		    155
    treeNode		    [155 0 0 0]
    superState		    SUBCHART
    subviewer		    155
    ssIdNumber		    1
    type		    FUNC_STATE
    decomposition	    CLUSTER_STATE
    eml {
      isEML		      1
      script		      "function [isNotImp, ImpData,t_s,xi,qi] = fcn(isNotImpOld,pckt,q,time)\n%#codegen\n    data = uint"
      "8(pckt(1));\n    bits = bitand(bitshift(data,-7:0),1)';\n    \n    type = double(4*bits(6)+2*bits(7)+bits(8));\n"
      "    \n    persistent t_start pos_i quat_i;\n    if isempty(t_start) || isempty(quat_i) || isempty(pos_i);\n     "
      "   t_start = 0;\n        pos_i = [0 0 0]';\n        quat_i = [1 0 0 0]';\n    end\n    \n    \n    if(type==5)\n"
      "        isNotImp = 0;\n        ImpData = pckt(2:30)';\n    else\n        isNotImp =1;\n        ImpData = zeros(1"
      ",29);\n    end\n    \n    if xor(isNotImpOld,isNotImp)\n        t_start = time;\n        tf = fkWam7(q);\n      "
      "  pos_i = tf(1:3,4);\n        quat_i = r2quat(tf);\n        \n    end\n   t_s = t_start;\n   qi = quat_i;\n   xi"
      " = pos_i;\n\nend\n\nfunction A07 = fkWam7(q)\n% Put origin of Frame 7 at intersection of wrist axes.\n%syms a3 d"
      "3 d5 \na3 = 0.045;  d3 = 0.55;  d5 = 0.3;   d7 = 0.1563;\nA01 = trotz(q(1))                   * round(trotx(-pi/"
      "2));\nA12 = trotz(q(2))                   * round(trotx(pi/2)) ;\nA23 = trotz(q(3)) * transl(a3,0,d3) * round(tr"
      "otx(-pi/2));\nA34 = trotz(q(4)) * transl(-a3,0,0) * round(trotx(pi/2)) ;\nA45 = trotz(q(5)) * transl(0,0,d5)  * "
      "round(trotx(-pi/2));\nA56 = trotz(q(6))                   * round(trotx(pi/2)) ;\nA67 = trotz(q(7)) *transl(0,0,"
      "d7)                        ;\nA07 = A01 * A12 * A23 * A34 * A45 * A56 * A67;\n\nend\nfunction [unit_quat] = r2qu"
      "at(t)\n    qs = sqrt(trace(t))/2.0;\n    kx = t(3,2) - t(2,3);   % Oz - Ay\n    ky = t(1,3) - t(3,1);   % Ax - N"
      "z\n    kz = t(2,1) - t(1,2);   % Ny - Ox\n\n    if (t(1,1) >= t(2,2)) & (t(1,1) >= t(3,3)) \n        kx1 = t(1,1"
      ") - t(2,2) - t(3,3) + 1; % Nx - Oy - Az + 1\n        ky1 = t(2,1) + t(1,2);          % Ny + Ox\n        kz1 = t("
      "3,1) + t(1,3);          % Nz + Ax\n        add = (kx >= 0);\n    elseif (t(2,2) >= t(3,3))\n        kx1 = t(2,1)"
      " + t(1,2);          % Ny + Ox\n        ky1 = t(2,2) - t(1,1) - t(3,3) + 1; % Oy - Nx - Az + 1\n        kz1 = t(3"
      ",2) + t(2,3);          % Oz + Ay\n        add = (ky >= 0);\n    else\n        kx1 = t(3,1) + t(1,3);          % "
      "Nz + Ax\n        ky1 = t(3,2) + t(2,3);          % Oz + Ay\n        kz1 = t(3,3) - t(1,1) - t(2,2) + 1; % Az - N"
      "x - Oy + 1\n        add = (kz >= 0);\n    end\n\n    if add\n        kx = kx + kx1;\n        ky = ky + ky1;\n   "
      "     kz = kz + kz1;\n    else\n        kx = kx - kx1;\n        ky = ky - ky1;\n        kz = kz - kz1;\n    end\n"
      "    nm = norm([kx ky kz]);\n    if nm == 0\n        unit_quat = [1 0 0 0]';\n    else\n        s = sqrt(1 - qs^2"
      ") / nm;\n        qv = s*[kx ky kz];\n        \n        unit_quat = [qs qv]';\n\n    end\nend\n\n"
      editorLayout	      "100 M4x1[169 157 984 854]"
    }
  }
  data {
    id			    157
    ssIdNumber		    10
    name		    "isNotImpOld"
    linkNode		    [155 0 158]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    158
    ssIdNumber		    4
    name		    "pckt"
    linkNode		    [155 157 159]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    159
    ssIdNumber		    12
    name		    "q"
    linkNode		    [155 158 160]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    160
    ssIdNumber		    5
    name		    "isNotImp"
    linkNode		    [155 159 161]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    161
    ssIdNumber		    6
    name		    "ImpData"
    linkNode		    [155 160 162]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    162
    ssIdNumber		    9
    name		    "time"
    linkNode		    [155 161 163]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    163
    ssIdNumber		    11
    name		    "t_s"
    linkNode		    [155 162 164]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    164
    ssIdNumber		    13
    name		    "xi"
    linkNode		    [155 163 165]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    165
    ssIdNumber		    14
    name		    "qi"
    linkNode		    [155 164 0]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  junction {
    id			    166
    position		    [23.5747 49.5747 7]
    chart		    155
    linkNode		    [155 0 0]
    subviewer		    155
    ssIdNumber		    3
    type		    CONNECTIVE_JUNCTION
  }
  transition {
    id			    167
    labelString		    "{eML_blk_kernel();}"
    labelPosition	    [36.125 25.875 102.544 14.964]
    fontSize		    12
    src {
      intersection	      [0 0 1 0 23.5747 14.625 0 0]
    }
    dst {
      id		      166
      intersection	      [1 0 -1 0 23.5747 42.5747 0 0]
    }
    midPoint		    [23.5747 24.9468]
    chart		    155
    linkNode		    [155 0 0]
    dataLimits		    [23.575 23.575 14.625 34.575]
    subviewer		    155
    drawStyle		    SMART
    slide {
      sticky		      BOTH_STICK
    }
    executionOrder	    1
    ssIdNumber		    2
  }
  instance {
    id			    168
    name		    "Subsystem/MATLAB Function"
    machine		    1
    chart		    155
  }
  chart {
    id			    169
    name		    "Subsystem/Impedance Controller/Split up parameters"
    windowPosition	    [429.333 212.333 213 385]
    viewLimits		    [0 156.75 0 153.75]
    screen		    [1 1 1280 1024 1.333333333333333]
    treeNode		    [0 170 0 0]
    firstTransition	    183
    firstJunction	    182
    viewObj		    169
    machine		    1
    ssIdHighWaterMark	    18
    decomposition	    CLUSTER_CHART
    type		    EML_CHART
    firstData		    171
    chartFileNumber	    14
    disableImplicitCasting  1
    eml {
      name		      "getParams"
    }
  }
  state {
    id			    170
    labelString		    "eML_blk_kernel()"
    position		    [18 64.5 118 66]
    fontSize		    12
    chart		    169
    treeNode		    [169 0 0 0]
    superState		    SUBCHART
    subviewer		    169
    ssIdNumber		    1
    type		    FUNC_STATE
    decomposition	    CLUSTER_STATE
    eml {
      isEML		      1
      script		      "function [quatf,xf,axis,theta,tf,poff,Const,Fp,R] = getParams(data,qi)\n%#codegen\ntf = data(1)';"
      "\nxf = data(2:4)';\nquatf = data(5:8)';\npoff = data(9:11)';\nConst = data(12:17)';\nFp = data(18:20)';\nquat = "
      "quatprod(qi,qinv(quatf));\ntheta = 2*atan2(norm(quat(2:4)),quat(1));\naxis = quat(1:3) ./sin(theta/2);\n\nR = ze"
      "ros(3,3);\nR(1,1) = data(21);\nR(1,2) = data(22);\nR(1,3) = data(23);\nR(2,1) = data(24);\nR(2,2) = data(25);\nR"
      "(2,3) = data(26);\nR(3,1) = data(27);\nR(3,2) = data(28);\nR(3,3) = data(29);\n\nif(theta>pi)\n    theta = 2*pi "
      "- theta;\n    quatf=qinv(quatf);\nelseif(theta<-pi)\n    theta = 2*pi + theta;\n    quatf=qinv(quatf);\nend\n\n\n"
      "\nend\n\nfunction qi = qinv(q)\n\nqi = [q(1);-q(2);-q(3);-q(4)];\nend\nfunction product = quatprod(q1,q2)\nprodu"
      "ct = [q1(1)*q2(1)-q1(2:4)'*q2(2:4); q1(1)*q2(2:4)+q2(1)*q1(2:4)+cross(q1(2:4),q2(2:4))];\n\nend"
      editorLayout	      "100 M4x1[169 157 1263 901]"
    }
  }
  data {
    id			    171
    ssIdNumber		    9
    name		    "quatf"
    linkNode		    [169 0 172]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    172
    ssIdNumber		    7
    name		    "xf"
    linkNode		    [169 171 173]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    173
    ssIdNumber		    10
    name		    "axis"
    linkNode		    [169 172 174]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    174
    ssIdNumber		    11
    name		    "theta"
    linkNode		    [169 173 175]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    175
    ssIdNumber		    4
    name		    "data"
    linkNode		    [169 174 176]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    176
    ssIdNumber		    5
    name		    "tf"
    linkNode		    [169 175 177]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    177
    ssIdNumber		    14
    name		    "qi"
    linkNode		    [169 176 178]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    178
    ssIdNumber		    15
    name		    "poff"
    linkNode		    [169 177 179]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    179
    ssIdNumber		    16
    name		    "Const"
    linkNode		    [169 178 180]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    180
    ssIdNumber		    17
    name		    "Fp"
    linkNode		    [169 179 181]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    181
    ssIdNumber		    18
    name		    "R"
    linkNode		    [169 180 0]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  junction {
    id			    182
    position		    [23.5747 49.5747 7]
    chart		    169
    linkNode		    [169 0 0]
    subviewer		    169
    ssIdNumber		    3
    type		    CONNECTIVE_JUNCTION
  }
  transition {
    id			    183
    labelString		    "{eML_blk_kernel();}"
    labelPosition	    [36.125 25.875 102.544 14.964]
    fontSize		    12
    src {
      intersection	      [0 0 1 0 23.5747 14.625 0 0]
    }
    dst {
      id		      182
      intersection	      [1 0 -1 0 23.5747 42.5747 0 0]
    }
    midPoint		    [23.5747 24.9468]
    chart		    169
    linkNode		    [169 0 0]
    dataLimits		    [23.575 23.575 14.625 34.575]
    subviewer		    169
    drawStyle		    SMART
    slide {
      sticky		      BOTH_STICK
    }
    executionOrder	    1
    ssIdNumber		    2
  }
  instance {
    id			    184
    name		    "Subsystem/Impedance Controller/Split up parameters"
    machine		    1
    chart		    169
  }
  chart {
    id			    185
    name		    "Subsystem/Impedance Controller/Impedance Torque Caclutation"
    windowPosition	    [447.111 235.089 213 385]
    viewLimits		    [0 156.75 0 153.75]
    screen		    [1 1 1280 1024 1.333333333333333]
    treeNode		    [0 186 0 0]
    firstTransition	    205
    firstJunction	    204
    viewObj		    185
    machine		    1
    ssIdHighWaterMark	    32
    decomposition	    CLUSTER_CHART
    type		    EML_CHART
    firstData		    187
    chartFileNumber	    15
    disableImplicitCasting  1
    eml {
      name		      "impedanceControl"
    }
  }
  state {
    id			    186
    labelString		    "eML_blk_kernel()"
    position		    [18 64.5 118 66]
    fontSize		    12
    chart		    185
    treeNode		    [185 0 0 0]
    superState		    SUBCHART
    subviewer		    185
    ssIdNumber		    1
    type		    FUNC_STATE
    decomposition	    CLUSTER_STATE
    eml {
      isEML		      1
      script		      "function [tauapp,deltax,Fe]= impedanceControl(x0, v0, a0,q, qd,K,B,Md ,M,nonLinear,poff,Cons,Fp,R"
      ")\n%Impedance Controller\n%x0,v0,a0 are the desired position, velocity, acceleration\n%q qd are joint positions "
      "and velocities\n%K is stiffness matrix\n%B is damping matrix\n%Md is the controller inertia matrix\n%M is the in"
      "ertia mass matrix in the lagrange equation M(q)\n%nonLinear is sum of C(q,qd) and G(q) terms\n\n%Find Jacobians "
      "and positional error\ntf = fkWam7(q,poff);\n[J,~]=Jdot(q,zeros(7,1),poff);\nJd = jacob_dot(q,qd,poff);\nx = [tf("
      "1:3,4);r2quat(tf)];\nxquat = [sqrt(1-norm(x0(4:6))^2);x0(4:6)];\ndx = quatprod(xquat,qinv(r2quat(tf)));\nif(dx(1"
      ")<0)\n    dx = -dx;\nend\n\ndeltax = [x0(1:3)-x(1:3);dx(2:4)];\n\nrotmat = [R' zeros(3,3); zeros(3,3) R'];\nK = "
      "diag([Cons(1) Cons(2) Cons(3) Cons(4) Cons(5) Cons(6)])*rotmat;\n%K = K*blkdiag(R,eye(3));\nB = diag([1 1 1 1 1 "
      "1])*rotmat;\nMd= diag([4 4 4 4 4 4])*rotmat;\n\nK(4:6,4:6) = 2*(dx(1)*eye(3)+S(dx(2:4)))*K(4:6,4:6);\nFa = [Fp ;"
      " 0 ; 0 ; 0];\n\n%internal motion damping\nkd = .1;\n[val,ind] = max(qd);\nns = null(J);\nns = ns(:,1);\ntaud = -"
      "kd*ns*val*sign(ns(ind));\n\n\n%Impedance Control Law\nFe = eye(6)/Md*(Md*a0-Md*Jd(:,1)+B*(v0-J*qd)+K*(deltax))+F"
      "a;\n%Fe = B*(v0-J*qd)+K*(deltax);\n\n%Calculate Torque\nPinvJ= J';%/(J*J');\n%taue = M*PinvJ*Fe;\ntaue = PinvJ*F"
      "e;\n%taue = taue - taue'*ns/norm(ns)^2;\n%taue = M*J'*Fe;\n\n%Add C(q,qd) and G(q) terms\ntauapp= taue + nonLine"
      "ar;%+frictionComp(qd);% +taud; \n\n\nFe = [x0(4:6) ;deltax(4:6)];%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%"
      "%%%%%%%%%%*************************************************%%%%%%%%%%%%%%%%%%%%%\n\n    \n    \n    \n    \nend\n"
      "\n\nfunction A07 = fkWam7(q,poff)\n% Put origin of Frame 7 at intersection of wrist axes.\n%syms a3 d3 d5 \na3 ="
      " 0.045;  d3 = 0.55;  d5 = 0.3;   d7 = 0.1563;\nA01 = trotz(q(1))                   * round(trotx(-pi/2));\nA12 ="
      " trotz(q(2))                   * round(trotx(pi/2)) ;\nA23 = trotz(q(3)) * transl(a3,0,d3) * round(trotx(-pi/2))"
      ";\nA34 = trotz(q(4)) * transl(-a3,0,0) * round(trotx(pi/2)) ;\nA45 = trotz(q(5)) * transl(0,0,d5)  * round(trotx"
      "(-pi/2));\nA56 = trotz(q(6))                   * round(trotx(pi/2)) ;\nA67 = trotz(q(7)) * transl(poff(1),poff(2"
      "),poff(3)+d7)   ;\nA07 = A01 * A12 * A23 * A34 * A45 * A56 * A67;\n\nend\n\n%%%%Edited Peter Corke's%%%%%%%%%%%%"
      "%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\nfunction [J,Jd] = Jdot(q,qd,poff)\n\n\n	n = 7;\n	\n    Tj = eye(4);    "
      " % this is cumulative transform from base\n    w = [0;0;0];\n    v = [0;0;0];\n    vel = zeros(3,n);\n    omega "
      "= vel;\n    R = zeros(3,3,n);\n    T = R;\n    p = vel;\n    z = vel;\n    J = zeros(6,n);\n    Jd = J;\n    \n "
      "   a3 = 0.045;  d3 = 0.55;  d5 = 0.3;   d7 = 0.1563;\n    \n    for j=1:n,\n        Aj=eye(4);\n        switch j"
      "\n            case 1\n                Aj =  trotz(q(1))                   * round(trotx(-pi/2));\n            ca"
      "se 2\n                Aj = trotz(q(2))                   * round(trotx(pi/2)) ;\n            case 3\n           "
      "     Aj = trotz(q(3)) * transl(a3,0,d3) * round(trotx(-pi/2));\n            case 4\n                Aj = trotz(q"
      "(4)) * transl(-a3,0,0) * round(trotx(pi/2)) ;\n            case 5\n                Aj = trotz(q(5)) * transl(0,0"
      ",d5)  * round(trotx(-pi/2));\n            case 6\n                Aj = trotz(q(6))                   * round(tro"
      "tx(pi/2)) ;\n            case 7\n                Aj = trotz(q(7)) *transl(poff(1),poff(2),poff(3)+d7)           "
      "             ;\n        end\n        \n        Tj = Tj * Aj;\n        R(:,:,j) = Aj(1:3,1:3);\n        T(:,:,j) "
      "= Tj(1:3,1:3);\n        p(:,j) = Tj(1:3,4);    % origin of link j\n\n        if j>1,\n            z(:,j) = T(:,:"
      ",j-1) * [0 0 1]'; % in world frame\n            w = R(:,:,j)*( w + z(:,j) * qd(j));\n            v = v + cross(R"
      "(:,:,j)*w, R(:,:,j-1)*p(:,j));\n            %v = R{j-1}'*v + cross(w, p(:,j));\n            %w = R{j-1}'* w + z("
      ":,j) * qd(j);\n        else\n            z(:,j) = [0 0 1]';\n            v = [0 0 0]';\n            w = z(:,j) *"
      " qd(j);\n        end\n\n        vel(:,j) = v;       % velocity of origin of link j\n\n        omega(:,j) = w;   "
      "      % omega of link j in link j frame\n    end\n    \n\n    \n    for j=1:n,\n        if j>1,\n            t ="
      " p(:,n) - p(:,j-1);\n            td = vel(:,n) - vel(:,j-1);\n        else\n            t = p(:,n);\n           "
      " td = vel(:,n);\n        end\n       \n            J_col = [cross(z(:,j), t); z(:,j)];\n            Jdot_col = ["
      "cross(cross(omega(:,j), z(:,j)), t) + cross(z(:,j), td) ; cross(omega(:,j),  z(:,j))];\n       \n\n        J(:,j"
      ") = J_col;\n        Jd(:,j) = Jdot_col;\n\n    end\n    A = Tj(1:3,1:3);\n    %Je = [A,zeros(3);zeros(3),A]*J;\n"
      "    w = J*qd;  %------change here\n    Ad  = S(w(4:6))*A;\n    Jd = [Ad,zeros(3);zeros(3),Ad]*J+[A,zeros(3);zero"
      "s(3),A]*Jd;\n    8;\nend\n\nfunction [unit_quat] = r2quat(t)\n    qs = sqrt(trace(t))/2.0;\n    kx = t(3,2) - t("
      "2,3);   % Oz - Ay\n    ky = t(1,3) - t(3,1);   % Ax - Nz\n    kz = t(2,1) - t(1,2);   % Ny - Ox\n\n    if (t(1,1"
      ") >= t(2,2)) & (t(1,1) >= t(3,3)) \n        kx1 = t(1,1) - t(2,2) - t(3,3) + 1; % Nx - Oy - Az + 1\n        ky1 "
      "= t(2,1) + t(1,2);          % Ny + Ox\n        kz1 = t(3,1) + t(1,3);          % Nz + Ax\n        add = (kx >= 0"
      ");\n    elseif (t(2,2) >= t(3,3))\n        kx1 = t(2,1) + t(1,2);          % Ny + Ox\n        ky1 = t(2,2) - t(1"
      ",1) - t(3,3) + 1; % Oy - Nx - Az + 1\n        kz1 = t(3,2) + t(2,3);          % Oz + Ay\n        add = (ky >= 0)"
      ";\n    else\n        kx1 = t(3,1) + t(1,3);          % Nz + Ax\n        ky1 = t(3,2) + t(2,3);          % Oz + A"
      "y\n        kz1 = t(3,3) - t(1,1) - t(2,2) + 1; % Az - Nx - Oy + 1\n        add = (kz >= 0);\n    end\n\n    if a"
      "dd\n        kx = kx + kx1;\n        ky = ky + ky1;\n        kz = kz + kz1;\n    else\n        kx = kx - kx1;\n  "
      "      ky = ky - ky1;\n        kz = kz - kz1;\n    end\n    nm = norm([kx ky kz]);\n    if nm < 1e-3\n        uni"
      "t_quat = [1 0 0 0]';\n    else\n        s = sqrt(1 - qs^2) / nm;\n        qv = s*[kx ky kz];\n        \n        "
      "unit_quat = [qs qv]';\n\n    end\nend\n\nfunction qi = qinv(q)\n\nqi = [q(1);-q(2);-q(3);-q(4)];\nend\nfunction "
      "product = quatprod(q1,q2)\nproduct = [q1(1)*q2(1)-q1(2:4)'*q2(2:4); q1(1)*q2(2:4)+q2(1)*q1(2:4)+cross(q1(2:4),q2"
      "(2:4))];\n\nend\n\nfunction cros = S(v)\nv1 = v(1);v2 = v(2);v3 = v(3);\ncros = [0 -v3 v2;v3 0 -v1;-v2 v1 0];\ne"
      "nd\n\nfunction Jdot = jacob_dot( q, qd,poff)\n\n	n = 7;\n    \n    % Using the notation of Angeles:\n    %   [Q,"
      "a] ~ [R,t] the per link transformation\n    %   P ~ R   the cumulative rotation t2r(Tj) in world frame\n    %   "
      "e       the last column of P, the local frame z axis in world coordinates\n    %   w       angular velocity in b"
      "ase frame\n    %   ed      deriv of e\n    %   r       is distance from final frame\n    %   rd      deriv of r\n"
      "    %   ud      ??\n    \n    % ^ aweful documentation \n    Q = zeros(3,3,7);\n    P = zeros(3,3,7);\n    a = z"
      "eros(3,7);\n    e = zeros(3,7);\n    w = zeros(3,7);\n    ed = zeros(3,7);\n    rd = zeros(3,7);\n    r = zeros("
      "3,7);\n    ud = zeros(3,7);\n    v = zeros(6,7);\n    \n    a3 = 0.045;  d3 = 0.55;  d5 = 0.3;   d7 = 0.1563;\n\n"
      "    for i=1:n\n        T = eye(4);\n        switch i\n            case 1\n                T =  trotz(q(1))      "
      "             * round(trotx(-pi/2));\n            case 2\n                T = trotz(q(2))                   * rou"
      "nd(trotx(pi/2)) ;\n            case 3\n                T = trotz(q(3)) * transl(a3,0,d3) * round(trotx(-pi/2));\n"
      "            case 4\n                T = trotz(q(4)) * transl(-a3,0,0) * round(trotx(pi/2)) ;\n            case 5"
      "\n                T = trotz(q(5)) * transl(0,0,d5)  * round(trotx(-pi/2));\n            case 6\n                "
      "T = trotz(q(6))                   * round(trotx(pi/2)) ;\n            case 7\n                T = trotz(q(7)) *t"
      "ransl(poff(1),poff(2),poff(3)+d7)    ;\n        end\n        Q(:,:,i) = T(1:3,1:3);\n        a(:,i) = T(1:3,4);\n"
      "    end\n\n    P(:,:,1) = Q(:,:,1);\n    e(:,i) = [0 0 1]';\n    for i=2:n\n        P(:,:,i) = P(:,:,i-1)*Q(:,:,"
      "i);\n        e(:,i) = P(:,3,i);\n    end\n\n    % step 1\n    w(:,1) = qd(1)*e(:,1);\n    for i=1:(n-1)\n       "
      " w(:,i+1) = qd(i+1)*[0 0 1]' + Q(:,:,i)'*w(:,i);\n    end\n\n    % step 2\n    ed(:,1) = [0 0 0]';\n    for i=2:"
      "n\n        ed(:,i) = cross(w(:,i), e(:,i));\n    end\n\n    % step 3\n    rd(:,n) = cross( w(:,n), a(:,n));\n   "
      " for i=(n-1):-1:1\n        rd(:,i) = cross(w(:,i), a(:,i)) + Q(:,:,i)*rd(:,i+1);\n    end\n\n    r(:,n) = a(:,n)"
      ";\n    for i=(n-1):-1:1\n        r(:,i) = a(:,i) + Q(:,:,i)*r(:,i+1);\n    end\n\n    ud(:,1) = cross(e(:,1), rd"
      "(:,1));\n    for i=2:n\n        ud(:,i) = cross(ed(:,i), r(:,i)) + cross(e(:,i), rd(:,i));\n    end\n\n    % ste"
      "p 4\n    %  swap ud and ed\n    v(:,n) = qd(n)*[ud(:,n); ed(:,n)]; %me: look at size of this one\n    for i=(n-1"
      "):-1:1\n        Ui = [Q(:,:,i),zeros(3);zeros(3), Q(:,:,i)];\n        v(:,i) = qd(i)*[ud(:,i); ed(:,i)] + Ui*v(:"
      ",i+1);\n    end\n\n    Jdot = v(:,1);\nend\nfunction bq = frictionComp(qd)\n%parameters and model from paper htt"
      "p://homepages.inf.ed.ac.uk/svijayak/publications/mitrovic-ICRA2010.pdf\n%Optimal Feedback Control for Anthropomo"
      "rphic Manipulators\n%Djordje Mitrovic, Sho Nagashima, Stefan Klanke, Takamitsu Matsubara, Sethu Vijayakumar\n%IC"
      "RA 2010\n\n\ns=20;\nbc = [2.516 2.581 2.038 0.956 0.323 0.315 0.066]';\nB =  [1.142 0.946 0.309 0.255 0.025 0.03"
      "9 0.004]';\n\nbq = bc.*atan(s*qd)*2/pi+B.*qd;\nend"
      editorLayout	      "100 M4x1[301 149 1166 795]"
    }
  }
  data {
    id			    187
    ssIdNumber		    4
    name		    "x0"
    linkNode		    [185 0 188]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    188
    ssIdNumber		    5
    name		    "tauapp"
    linkNode		    [185 187 189]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    189
    ssIdNumber		    6
    name		    "v0"
    linkNode		    [185 188 190]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    190
    ssIdNumber		    7
    name		    "a0"
    linkNode		    [185 189 191]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    191
    ssIdNumber		    8
    name		    "q"
    linkNode		    [185 190 192]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    192
    ssIdNumber		    9
    name		    "qd"
    linkNode		    [185 191 193]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    193
    ssIdNumber		    12
    name		    "K"
    linkNode		    [185 192 194]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    194
    ssIdNumber		    13
    name		    "B"
    linkNode		    [185 193 195]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    195
    ssIdNumber		    18
    name		    "Md"
    linkNode		    [185 194 196]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    196
    ssIdNumber		    20
    name		    "M"
    linkNode		    [185 195 197]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    197
    ssIdNumber		    11
    name		    "nonLinear"
    linkNode		    [185 196 198]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    198
    ssIdNumber		    24
    name		    "poff"
    linkNode		    [185 197 199]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    199
    ssIdNumber		    19
    name		    "deltax"
    linkNode		    [185 198 200]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    200
    ssIdNumber		    28
    name		    "Cons"
    linkNode		    [185 199 201]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    201
    ssIdNumber		    29
    name		    "Fe"
    linkNode		    [185 200 202]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    202
    ssIdNumber		    31
    name		    "Fp"
    linkNode		    [185 201 203]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    203
    ssIdNumber		    32
    name		    "R"
    linkNode		    [185 202 0]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  junction {
    id			    204
    position		    [23.5747 49.5747 7]
    chart		    185
    linkNode		    [185 0 0]
    subviewer		    185
    ssIdNumber		    3
    type		    CONNECTIVE_JUNCTION
  }
  transition {
    id			    205
    labelString		    "{eML_blk_kernel();}"
    labelPosition	    [36.125 25.875 102.544 14.964]
    fontSize		    12
    src {
      intersection	      [0 0 1 0 23.5747 14.625 0 0]
    }
    dst {
      id		      204
      intersection	      [1 0 -1 0 23.5747 42.5747 0 0]
    }
    midPoint		    [23.5747 24.9468]
    chart		    185
    linkNode		    [185 0 0]
    dataLimits		    [23.575 23.575 14.625 34.575]
    subviewer		    185
    drawStyle		    SMART
    slide {
      sticky		      BOTH_STICK
    }
    executionOrder	    1
    ssIdNumber		    2
  }
  instance {
    id			    206
    name		    "Subsystem/Impedance Controller/Impedance Torque Caclutation"
    machine		    1
    chart		    185
  }
  chart {
    id			    207
    name		    "Subsystem/Impedance Controller/Impedance Trajectory Generator"
    windowPosition	    [447.111 235.089 213 385]
    viewLimits		    [0 156.75 0 153.75]
    screen		    [1 1 1280 1024 1.333333333333333]
    treeNode		    [0 208 0 0]
    firstTransition	    225
    firstJunction	    224
    viewObj		    207
    machine		    1
    ssIdHighWaterMark	    22
    decomposition	    CLUSTER_CHART
    type		    EML_CHART
    firstData		    209
    chartFileNumber	    16
    disableImplicitCasting  1
    eml {
      name		      "makeTraj"
    }
  }
  state {
    id			    208
    labelString		    "eML_blk_kernel()"
    position		    [18 64.5 118 66]
    fontSize		    12
    chart		    207
    treeNode		    [207 0 0 0]
    superState		    SUBCHART
    subviewer		    207
    ssIdNumber		    1
    type		    FUNC_STATE
    decomposition	    CLUSTER_STATE
    eml {
      isEML		      1
      script		      "function [xdes,vdes,ades,done] = makeTraj(quat0,quat1,xi,xf,axis, theta,tf,b,poff,t,t_start)\n%qu"
      "at0 and quat1 are initial and final quaternions\n%xi and xf are inital and final position vectors\n%axis is the "
      "axis along any rotaion occurs\n%theta is the rotation around the axis in radians\n%b is the coefficients of the "
      "polynomial spline\n%tf is the time that the spline takes\n%t is time\n\nt = t - t_start;\n\n\n\nif t<tf\n    %Ca"
      "lculate spline parameter F = [0,1] as t = [0,tf]\n    F =   [t^5 t^4 t^3 t^2 t ]*b;\n    Fd =  [5*t^4 4*t^3 3*t^"
      "2 2*t 1]*b;\n    Fdd = [20*t^3 12*t^2 6*t 2 0]*b;\n    \n\n\n    %Calculate orientational quaternion\n    omega "
      "= theta/2;\n    \n    if omega>1e-3\n    xr = (sin((1-F)*omega)*quat0 +sin(F*omega)*quat1)/sin(omega);\n    else"
      "\n        xr = quat0;\n        axis = [1;0;0];\n    end\n    xr=xr/norm(xr);\n    %Calculate desired angular vel"
      "ocity and acceleration\n    vr = -Fd*axis*theta;\n    ar = -Fd*axis*theta;\n\n    %Calculate position and 1st an"
      "d 2nd derivatives\n    xp = xi+F*(xf-xi)+quatRot(xr)*poff;\n    vp = Fd*(xf-xi);\n    ap = Fdd*(xf-xi);\n    \n "
      "   %Put parts together\n    xdes= [xp;xr(2:4)];\n    vdes= [vp;vr];\n    ades= [ap;ar];\nelse\n    %End of traje"
      "ctory static condition\n    xdes= [xf+quatRot(quat1)*poff;quat1(2:4)];\n    vdes= [0;0;0;0;0;0];\n    ades= [0;0"
      ";0;0;0;0];\nend\nif t>1.1*tf\n    done = 1;\nelse \n    done = 0;\nend\n\nend\n\n\nfunction [R] = quatRot(unit_q"
      ")\ne0=unit_q(1);e1=unit_q(2);e2=unit_q(3);e3=unit_q(4);\nR= [1-2*(e2^2+e3^2),2*(e1*e2-e3*e0),2*(e1*e3+e2*e0);\n "
      "   2*(e1*e2+e3*e0),1-2*(e1^2+e3^2),2*(e2*e3-e1*e0);\n    2*(e1*e3-e2*e0),2*(e2*e3+e0*e1),1-2*(e2^2+e1^2)];\nend"
      editorLayout	      "100 M4x1[221 143 1456 876]"
    }
  }
  data {
    id			    209
    ssIdNumber		    14
    name		    "quat0"
    linkNode		    [207 0 210]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    210
    ssIdNumber		    15
    name		    "quat1"
    linkNode		    [207 209 211]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    211
    ssIdNumber		    18
    name		    "xi"
    linkNode		    [207 210 212]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    212
    ssIdNumber		    11
    name		    "xf"
    linkNode		    [207 211 213]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    213
    ssIdNumber		    12
    name		    "axis"
    linkNode		    [207 212 214]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    214
    ssIdNumber		    19
    name		    "theta"
    linkNode		    [207 213 215]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    215
    ssIdNumber		    10
    name		    "tf"
    linkNode		    [207 214 216]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    216
    ssIdNumber		    9
    name		    "b"
    linkNode		    [207 215 217]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    217
    ssIdNumber		    22
    name		    "poff"
    linkNode		    [207 216 218]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    218
    ssIdNumber		    4
    name		    "t"
    linkNode		    [207 217 219]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    219
    ssIdNumber		    5
    name		    "xdes"
    linkNode		    [207 218 220]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    220
    ssIdNumber		    7
    name		    "vdes"
    linkNode		    [207 219 221]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    221
    ssIdNumber		    8
    name		    "ades"
    linkNode		    [207 220 222]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    222
    ssIdNumber		    20
    name		    "t_start"
    linkNode		    [207 221 223]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    223
    ssIdNumber		    21
    name		    "done"
    linkNode		    [207 222 0]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  junction {
    id			    224
    position		    [23.5747 49.5747 7]
    chart		    207
    linkNode		    [207 0 0]
    subviewer		    207
    ssIdNumber		    3
    type		    CONNECTIVE_JUNCTION
  }
  transition {
    id			    225
    labelString		    "{eML_blk_kernel();}"
    labelPosition	    [36.125 25.875 102.544 14.964]
    fontSize		    12
    src {
      intersection	      [0 0 1 0 23.5747 14.625 0 0]
    }
    dst {
      id		      224
      intersection	      [1 0 -1 0 23.5747 42.5747 0 0]
    }
    midPoint		    [23.5747 24.9468]
    chart		    207
    linkNode		    [207 0 0]
    dataLimits		    [23.575 23.575 14.625 34.575]
    subviewer		    207
    drawStyle		    SMART
    slide {
      sticky		      BOTH_STICK
    }
    executionOrder	    1
    ssIdNumber		    2
  }
  instance {
    id			    226
    name		    "Subsystem/Impedance Controller/Impedance Trajectory Generator"
    machine		    1
    chart		    207
  }
  chart {
    id			    227
    name		    "Subsystem/Impedance Controller/Polynomial Spline Generator"
    windowPosition	    [447.111 235.089 213 385]
    viewLimits		    [0 156.75 0 153.75]
    screen		    [1 1 1280 1024 1.333333333333333]
    treeNode		    [0 228 0 0]
    firstTransition	    232
    firstJunction	    231
    viewObj		    227
    machine		    1
    ssIdHighWaterMark	    6
    decomposition	    CLUSTER_CHART
    type		    EML_CHART
    firstData		    229
    chartFileNumber	    17
    disableImplicitCasting  1
    eml {
      name		      "SplinePoly"
    }
  }
  state {
    id			    228
    labelString		    "eML_blk_kernel()"
    position		    [18 64.5 118 66]
    fontSize		    12
    chart		    227
    treeNode		    [227 0 0 0]
    superState		    SUBCHART
    subviewer		    227
    ssIdNumber		    1
    type		    FUNC_STATE
    decomposition	    CLUSTER_STATE
    eml {
      isEML		      1
      script		      "function coeff   = SplinePoly( tf)\n%Assume inital and final velocities and accelerations equal t"
      "o 0\nv0=0;a0=0;vf=0;af=0;\n\n%Ax = b where x is the coeffients of a 5th order polynonial where p(0)=0\nA = [0 0 "
      "0 0 1; 0 0 0 2 0; tf^5 tf^4 tf^3 tf^2 tf ; 5*tf^4 4*tf^3 3*tf^2 2*tf 1 ; 20*tf^3 12*tf^2 6*tf 2 0];\nb = [v0 ;a0"
      "; 1; vf; af];\n\n%Solve for coefficients \n%If A is non square or singular use A'*A\\(A'*b);\ncoeff = A\\b;\n\n\n"
      "%Maximum values of velocity and acceleration\n%vmax = [5*(tf/2)^4 4*(tf/2)^3 3*(tf/2)^2 2*(tf/2) 1]*coeff;\n%ama"
      "x = [20*(tf/4)^3 12*(tf/4)^2 6*(tf/4) 2 0] * coeff;\nend\n"
      editorLayout	      "100 M4x1[21 23 1273 860]"
    }
  }
  data {
    id			    229
    ssIdNumber		    5
    name		    "coeff"
    linkNode		    [227 0 230]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    230
    ssIdNumber		    6
    name		    "tf"
    linkNode		    [227 229 0]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  junction {
    id			    231
    position		    [23.5747 49.5747 7]
    chart		    227
    linkNode		    [227 0 0]
    subviewer		    227
    ssIdNumber		    3
    type		    CONNECTIVE_JUNCTION
  }
  transition {
    id			    232
    labelString		    "{eML_blk_kernel();}"
    labelPosition	    [36.125 25.875 102.544 14.964]
    fontSize		    12
    src {
      intersection	      [0 0 1 0 23.5747 14.625 0 0]
    }
    dst {
      id		      231
      intersection	      [1 0 -1 0 23.5747 42.5747 0 0]
    }
    midPoint		    [23.5747 24.9468]
    chart		    227
    linkNode		    [227 0 0]
    dataLimits		    [23.575 23.575 14.625 34.575]
    subviewer		    227
    drawStyle		    SMART
    slide {
      sticky		      BOTH_STICK
    }
    executionOrder	    1
    ssIdNumber		    2
  }
  instance {
    id			    233
    name		    "Subsystem/Impedance Controller/Polynomial Spline Generator"
    machine		    1
    chart		    227
  }
  chart {
    id			    234
    name		    "Subsystem/Plan Arm Trajectory/Verify"
    windowPosition	    [392 254.431 213 385]
    viewLimits		    [0 156.75 0 153.75]
    screen		    [1 1 1280 1024 1.333333333333333]
    treeNode		    [0 235 0 0]
    firstTransition	    242
    firstJunction	    241
    viewObj		    234
    machine		    1
    ssIdHighWaterMark	    30
    decomposition	    CLUSTER_CHART
    type		    EML_CHART
    firstData		    236
    chartFileNumber	    18
    disableImplicitCasting  1
    eml {
      name		      "verify_q"
    }
    supportVariableSizing   0
  }
  state {
    id			    235
    labelString		    "eML_blk_kernel()"
    position		    [18 64.5 118 66]
    fontSize		    12
    chart		    234
    treeNode		    [234 0 0 0]
    superState		    SUBCHART
    subviewer		    234
    ssIdNumber		    1
    type		    FUNC_STATE
    decomposition	    CLUSTER_STATE
    eml {
      isEML		      1
      script		      "function [qdes,qddes,error] = verify_q(qdes_in, qddes_in)\n\n    % Assume no error\n    error = 0"
      ";\n    qdes = qdes_in;\n    qddes = qddes_in;\n\n%     % Check joint limits\n    %qlim = [-2.62, 2.62; -2.01, 2."
      "01; -2.97, 2.97; -0.87, 3.14; -4.79, 1.27; -1.57, 1.57; -3.0, 3.0;]; % Normal limits\n    qlim = [-2.62, 2.62; -"
      "2.01, 2.01; -2.97, 2.97; -0.87, 3.14; -4.79, 1.27; -1.57, 1.57; -2.2146, 3.7854;]; % Limits with Schunk gripper "
      "attached\n    qdlim = [1.01 1.01 1.01 1.01 1.01 1.01 1.01];\n%     %if sum( qdes_in < qlim(:,1) ) ~= 7 || sum( q"
      "des_in > qlim(:,2) ) ~= 7\n%     %    error = 1;\n%     %end\n    % Set all out of range joint angles to eps ins"
      "ide the boundary, raise an error\n    eps1 = 0; % Distance from joint angle that is considered an error\n    eps"
      "2 = .01; % Amount to set joint towards zero away from error boundary\n    for i = 1:7\n        % Check lower bou"
      "ndary\n        if qdes_in(i) < qlim(i,1) + eps1;\n           qdes(i) = qlim(i,1) + eps1 + eps2; \n           err"
      "or = 1;\n        % Check upper boundary\n        elseif qdes_in(i) > qlim(i,2) - eps1;\n           qdes(i) = qli"
      "m(i,2) - eps1 - eps2;\n           error = 1;\n        end\n        \n        % Check joint velocity.  If any one"
      " is out of range, set desired velocity for all joints to zero\n        if abs(qddes_in(i)) > qdlim(i)\n         "
      "   qddes = zeros(7,1);\n            error = 1;\n        end\n    end\n\nend"
      editorLayout	      "100 M4x1[132 69 1936 1186]"
      fimathString	      "fimath(...\n'RoundMode', 'floor',...\n'OverflowMode', 'wrap',...\n'ProductMode', 'KeepLSB', "
      "'ProductWordLength', 32,...\n'SumMode', 'KeepLSB', 'SumWordLength', 32,...\n'CastBeforeSum', true)"
      emlDefaultFimath	      FimathUserSpecified
    }
  }
  data {
    id			    236
    ssIdNumber		    5
    name		    "qdes"
    linkNode		    [234 0 237]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    237
    ssIdNumber		    10
    name		    "qddes"
    linkNode		    [234 236 238]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    238
    ssIdNumber		    28
    name		    "qdes_in"
    linkNode		    [234 237 239]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    239
    ssIdNumber		    29
    name		    "qddes_in"
    linkNode		    [234 238 240]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    240
    ssIdNumber		    30
    name		    "error"
    linkNode		    [234 239 0]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  junction {
    id			    241
    position		    [23.5747 49.5747 7]
    chart		    234
    linkNode		    [234 0 0]
    subviewer		    234
    ssIdNumber		    3
    type		    CONNECTIVE_JUNCTION
  }
  transition {
    id			    242
    labelString		    "{eML_blk_kernel();}"
    labelPosition	    [36.125 25.875 102.544 14.964]
    fontSize		    12
    src {
      intersection	      [0 0 1 0 23.5747 14.625 0 0]
    }
    dst {
      id		      241
      intersection	      [1 0 -1 0 23.5747 42.5747 0 0]
    }
    midPoint		    [23.5747 24.9468]
    chart		    234
    linkNode		    [234 0 0]
    dataLimits		    [23.575 23.575 14.625 34.575]
    subviewer		    234
    drawStyle		    SMART
    slide {
      sticky		      BOTH_STICK
    }
    executionOrder	    1
    ssIdNumber		    2
  }
  instance {
    id			    243
    name		    "Subsystem/Plan Arm Trajectory/Verify"
    machine		    1
    chart		    234
  }
  chart {
    id			    244
    name		    "Subsystem/Impedance Controller/Dynamics Compensation"
    windowPosition	    [374 326.75 213 385]
    viewLimits		    [0 156.75 0 153.75]
    screen		    [1 1 1280 1024 1.333333333333333]
    treeNode		    [0 245 0 0]
    firstTransition	    253
    firstJunction	    252
    viewObj		    244
    machine		    1
    ssIdHighWaterMark	    9
    decomposition	    CLUSTER_CHART
    type		    EML_CHART
    firstData		    246
    chartFileNumber	    19
    disableImplicitCasting  1
    eml {
      name		      "dynamicsComp"
    }
  }
  state {
    id			    245
    labelString		    "eML_blk_kernel()"
    position		    [18 64.5 118 66]
    fontSize		    12
    chart		    244
    treeNode		    [244 0 0 0]
    superState		    SUBCHART
    subviewer		    244
    ssIdNumber		    1
    type		    FUNC_STATE
    decomposition	    CLUSTER_STATE
    eml {
      isEML		      1
      script		      "function [tau, FTsensor] = dynamicsComp(hand_on,q,qd,qdd)\n%-------------------------------------"
      "------------------------------------------------\n%   SETUP THE ARM\n%------------------------------------------"
      "-------------------------------------------    \n    DH_a = [0 0 0.045 -0.045 0 0 0];\n    DH_d = [0 0 .55 0 0.3"
      " 0 0.061];\n    DH_alpha = [-pi/2 pi/2 -pi/2 pi/2 -pi/2 pi/2 0];\n\n    m = [8.3936 4.8487 1.7251 2.17266212 0.3"
      "5655692 0.40915886 0.07548270];\n    \n    com = zeros(3,7);\n    com(:,1) = [0.3506e-3, 132.6795e-3, 0.6286e-3]"
      ";\n    com(:,2) = [-0.2230e-3, -21.3924e-3, 13.3754e-3];\n    com(:,3) = [-38.7565e-3, 217.9078e-3, 0.0252e-3];\n"
      "    com(:,4) = [0.00553408,0.00006822,0.11927695];\n    com(:,5) = [0.00005483,0.02886286,0.00148493];\n    com("
      ":,6) = [-0.00005923,-0.01686123,0.02419052];\n    com(:,7) = [ 0.00014836,0.00007252,-0.00335185];\n    \n    % "
      "Need Inertia matricies\n    I = zeros(3,3,7);\n    I(:,:,1) = [ 95157.4294e-6,   246.1404e-6,   -95.0183e-6 ;\n "
      "                  246.1404e-6, 92032.3524e-6,  -962.6725e-6 ;\n                   -95.0183e-6,  -962.6725e-6, 59"
      "290.5997e-6 ];\n    I(:,:,2) = [ 29326.8098e-6,   -43.3994e-6,  -129.2942e-6 ;\n                   -43.3994e-6, "
      "20781.5826e-6,  1348.6924e-6 ;\n                  -129.2942e-6,  1348.6924e-6, 22807.3271e-6 ];\n    I(:,:,3) = "
      "[ 56662.2970e-6, -2321.6892e-6,     8.2125e-6 ;\n                 -2321.6892e-6,  3158.0509e-6,   -16.6307e-6 ;\n"
      "                     8.2125e-6,   -16.6307e-6, 56806.6024e-6 ];\n    I(:,:,4) = [  0.01067491,  0.00004503, -0.0"
      "0135557 ;\n                  0.00004503,  0.01058659, -0.00011002 ;\n                 -0.00135557, -0.00011002, "
      " 0.00282036 ];\n    I(:,:,5) = [  0.00037112, -0.00000008, -0.00000003 ;\n                 -0.00000008,  0.00019"
      "434, -0.00001613 ;\n                 -0.00000003, -0.00001613,  0.00038209 ];\n    I(:,:,6) =  [  0.00054889,  0"
      ".00000019, -0.00000010 ;\n                   0.00000019,  0.00023846, -0.00004430 ;\n                  -0.000000"
      "10, -0.00004430,  0.00045133 ];\n    I(:,:,7) = [ 0.00003911, 0.00000019, 0.00000000 ;      % WAM without hand\n"
      "                 0.00000019, 0.00003877, 0.00000000 ;\n                 0.00000000, 0.00000000, 0.00007614 ];\n "
      "   \n    %Link Gear Ratio\n    % The differential drive mechanism was ignored here because it's not\n    % suppo"
      "rted by the robotic toolbox yet.\n    % Please refer to: http://www.me.unm.edu/~starr/research/WAM_MassParams_AA"
      "-00.pdf\n    G = zeros(7,1);\n    G(1) =  42.00;\n    G(2) =  28.25;\n    G(3) =  28.25;\n    G(4) =  18.00;\n  "
      "  G(5) =  9.70;\n    G(6) =  9.70;\n    G(7) =  14.93;\n    %Link Motor Inertia\n    Jm = zeros(7,1);\n    Jm(1)"
      " = 0.00011631;\n    Jm(2) = 0.00011831;\n    Jm(3) = 0.00011831;\n    Jm(4) = 0.00010686;\n    Jm(5) = 0.0000168"
      "5;\n    Jm(6) = 0.00001745;\n    Jm(7) = 0.00000142;\n             \n    if hand_on\n        hand_mass = 1.385;\n"
      "        DH_d(7) = DH_d(7) + .0953; % Adding the distance to the hand frame for the Schunk Gripper\n        com(:"
      ",7) = ([0.001127;	-0.000211;	0.054851].*hand_mass + com(:,7).*m(7))/(hand_mass + m(7)); % Finding the combined c"
      "enter of mass\n        m(7) = m(7) + hand_mass; % Adding the mass of the hand\n        I(:,:,7) = [ .003167342, "
      "         0,         0;       % Approximate Inertia Tensor for Schunk Gripper\n                              0, ."
      "001128942,         0;\n                              0,          0, .00258007;];\n    end\n    \n%--------------"
      "-----------------------------------------------------------------------\n%  END SETUP OF THE ARM\n%-------------"
      "------------------------------------------------------------------------\n\n    z0 = [0;0;1];\n    grav = [0 0 9"
      ".81];\n	fext = zeros(6, 1);\n    n = 7;\n    FTsensor = zeros(6,1);\n    \n    tau = zeros(n,1);\n    \n    Fm ="
      " zeros(3,7);\n    Nm = zeros(3,7);\n    N = zeros(3,1);\n    pstarm = zeros(3,7);\n    Rm = zeros(3,3,7);\n    w"
      " = zeros(3,1);\n    wd = zeros(3,1);\n    v = zeros(3,1);\n    vd = grav(:);\n    \n    \n    %\n	% init some va"
      "riables, compute the link rotation matrices\n	%\n    for j=1:n,\n        a = DH_a(j);\n        d = DH_d(j);\n   "
      "     alpha = DH_alpha(j);\n        Tj = getTransformDH(a, d, alpha, q(j));\n        \n        pstar = [a; d*sin("
      "alpha); d*cos(alpha)];\n        if j == 1,\n            pstar = eye(3) * pstar;\n            Tj = eye(4) * Tj;\n"
      "        end\n        pstarm(:,j) = pstar;\n        Rm(:,:,j) = Tj(1:3,1:3);\n    end\n    \n    %\n	%  the forwa"
      "rd recursion\n	%\n    for j=1:n,\n        Rt = Rm(:,:,j)';	% transpose!!\n        pstar = pstarm(:,j);\n        "
      "r = com(:,j)';\n\n        %\n        % statement order is important here\n        %\n        % revolute axis\n  "
      "      wd = Rt*(wd + z0*qdd(j) + cross(w,z0*qd(j)));\n        w = Rt*(w + z0*qd(j));\n        %v = cross(w,pstar)"
      " + Rt*v;\n        vd = cross(wd,pstar) + cross(w, cross(w,pstar)) + Rt*vd;\n\n        %vhat = cross(wd,r') + cro"
      "ss(w,cross(w,r')) + vd;\n        vhat = cross(wd,r') + cross(w,cross(w,r')) + vd;\n        F = m(j)*vhat;\n     "
      "   N = I(1:3,1:3,j)*wd + cross(w,I(1:3,1:3,j)*w);\n        Fm(:,j) = F;\n        Nm(:,j) = N;\n    end\n    \n  "
      "  \n    %\n	%  the backward recursion\n	%\n\n    fext = fext(:);\n    f = fext(1:3);		% force/moments on end of "
      "arm\n    nn = fext(4:6);\n\n    for j=n:-1:1,\n        pstar = pstarm(:,j);\n\n        %\n        % order of the"
      "se statements is important, since both\n        % nn and f are functions of previous f.\n        %\n        if j"
      " == n,\n            R = eye(3,3);\n        else\n            R = Rm(:,:,j+1);\n        end\n        r = com(:,j)"
      "';\n        \n        % The expected force/torque at the sensor.  Used for dynamic compensation\n        % of th"
      "e gripper.\n        if j == n\n            FTsensor(1:3) = R*f + Fm(:,j);\n            FTsensor(4:6) = cross(r',"
      "Fm(:,j));\n        end\n        \n        nn = R*(nn + cross(R'*pstar,f)) + cross(pstar+r',Fm(:,j)) + Nm(:,j);\n"
      "        f = R*f + Fm(:,j);\n        \n        R = Rm(:,:,j);\n        % revolute\n        tau(j) = nn'*(R'*z0) +"
      " G(j)^2 * Jm(j)*qdd(j);% + abs(G(j)) * friction(link, qd(j));\n    end\n\nend\n\nfunction T = getTransformDH(a,d"
      ",alpha,q)\n    ct = cos(q);\n    st = sin(q);\n    cb = cos(alpha);\n    sb = sin(alpha);\n    \n    T = [ ct, -"
      "st*cb,  st*sb, a*ct;\n          st,  ct*cb, -ct*sb, a*st;\n          0, sb, cb, d;\n          0, 0, 0, 1 ];\nend"
      editorLayout	      "100 M4x1[376 150 1319 881]"
    }
  }
  data {
    id			    246
    ssIdNumber		    4
    name		    "hand_on"
    linkNode		    [244 0 247]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    247
    ssIdNumber		    5
    name		    "tau"
    linkNode		    [244 246 248]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    248
    ssIdNumber		    6
    name		    "q"
    linkNode		    [244 247 249]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    249
    ssIdNumber		    7
    name		    "qd"
    linkNode		    [244 248 250]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    250
    ssIdNumber		    8
    name		    "qdd"
    linkNode		    [244 249 251]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    251
    ssIdNumber		    9
    name		    "FTsensor"
    linkNode		    [244 250 0]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  junction {
    id			    252
    position		    [23.5747 49.5747 7]
    chart		    244
    linkNode		    [244 0 0]
    subviewer		    244
    ssIdNumber		    3
    type		    CONNECTIVE_JUNCTION
  }
  transition {
    id			    253
    labelString		    "{eML_blk_kernel();}"
    labelPosition	    [36.125 25.875 102.544 14.964]
    fontSize		    12
    src {
      intersection	      [0 0 1 0 23.5747 14.625 0 0]
    }
    dst {
      id		      252
      intersection	      [1 0 -1 0 23.5747 42.5747 0 0]
    }
    midPoint		    [23.5747 24.9468]
    chart		    244
    linkNode		    [244 0 0]
    dataLimits		    [23.575 23.575 14.625 34.575]
    subviewer		    244
    drawStyle		    SMART
    slide {
      sticky		      BOTH_STICK
    }
    executionOrder	    1
    ssIdNumber		    2
  }
  instance {
    id			    254
    name		    "Subsystem/Impedance Controller/Dynamics Compensation"
    machine		    1
    chart		    244
  }
  chart {
    id			    255
    name		    "Subsystem/Impedance Controller/Subsystem1/Dynamics Compensation"
    windowPosition	    [387.333 326.75 213 385]
    viewLimits		    [0 156.75 0 153.75]
    screen		    [1 1 1280 1024 1.333333333333333]
    treeNode		    [0 256 0 0]
    firstTransition	    264
    firstJunction	    263
    viewObj		    255
    machine		    1
    ssIdHighWaterMark	    9
    decomposition	    CLUSTER_CHART
    type		    EML_CHART
    firstData		    257
    chartFileNumber	    20
    disableImplicitCasting  1
    eml {
      name		      "dynamicsComp"
    }
  }
  state {
    id			    256
    labelString		    "eML_blk_kernel()"
    position		    [18 64.5 118 66]
    fontSize		    12
    chart		    255
    treeNode		    [255 0 0 0]
    superState		    SUBCHART
    subviewer		    255
    ssIdNumber		    1
    type		    FUNC_STATE
    decomposition	    CLUSTER_STATE
    eml {
      isEML		      1
      script		      "function [tau, FTsensor] = dynamicsComp(hand_on,q,qd,qdd)\n%-------------------------------------"
      "------------------------------------------------\n%   SETUP THE ARM\n%------------------------------------------"
      "-------------------------------------------    \n    DH_a = [0 0 0.045 -0.045 0 0 0];\n    DH_d = [0 0 .55 0 0.3"
      " 0 0.061];\n    DH_alpha = [-pi/2 pi/2 -pi/2 pi/2 -pi/2 pi/2 0];\n\n    m = [8.3936 4.8487 1.7251 2.17266212 0.3"
      "5655692 0.40915886 0.07548270];\n    \n    com = zeros(3,7);\n    com(:,1) = [0.3506e-3, 132.6795e-3, 0.6286e-3]"
      ";\n    com(:,2) = [-0.2230e-3, -21.3924e-3, 13.3754e-3];\n    com(:,3) = [-38.7565e-3, 217.9078e-3, 0.0252e-3];\n"
      "    com(:,4) = [0.00553408,0.00006822,0.11927695];\n    com(:,5) = [0.00005483,0.02886286,0.00148493];\n    com("
      ":,6) = [-0.00005923,-0.01686123,0.02419052];\n    com(:,7) = [ 0.00014836,0.00007252,-0.00335185];\n    \n    % "
      "Need Inertia matricies\n    I = zeros(3,3,7);\n    I(:,:,1) = [ 95157.4294e-6,   246.1404e-6,   -95.0183e-6 ;\n "
      "                  246.1404e-6, 92032.3524e-6,  -962.6725e-6 ;\n                   -95.0183e-6,  -962.6725e-6, 59"
      "290.5997e-6 ];\n    I(:,:,2) = [ 29326.8098e-6,   -43.3994e-6,  -129.2942e-6 ;\n                   -43.3994e-6, "
      "20781.5826e-6,  1348.6924e-6 ;\n                  -129.2942e-6,  1348.6924e-6, 22807.3271e-6 ];\n    I(:,:,3) = "
      "[ 56662.2970e-6, -2321.6892e-6,     8.2125e-6 ;\n                 -2321.6892e-6,  3158.0509e-6,   -16.6307e-6 ;\n"
      "                     8.2125e-6,   -16.6307e-6, 56806.6024e-6 ];\n    I(:,:,4) = [  0.01067491,  0.00004503, -0.0"
      "0135557 ;\n                  0.00004503,  0.01058659, -0.00011002 ;\n                 -0.00135557, -0.00011002, "
      " 0.00282036 ];\n    I(:,:,5) = [  0.00037112, -0.00000008, -0.00000003 ;\n                 -0.00000008,  0.00019"
      "434, -0.00001613 ;\n                 -0.00000003, -0.00001613,  0.00038209 ];\n    I(:,:,6) =  [  0.00054889,  0"
      ".00000019, -0.00000010 ;\n                   0.00000019,  0.00023846, -0.00004430 ;\n                  -0.000000"
      "10, -0.00004430,  0.00045133 ];\n    I(:,:,7) = [ 0.00003911, 0.00000019, 0.00000000 ;      % WAM without hand\n"
      "                 0.00000019, 0.00003877, 0.00000000 ;\n                 0.00000000, 0.00000000, 0.00007614 ];\n "
      "   \n    %Link Gear Ratio\n    % The differential drive mechanism was ignored here because it's not\n    % suppo"
      "rted by the robotic toolbox yet.\n    % Please refer to: http://www.me.unm.edu/~starr/research/WAM_MassParams_AA"
      "-00.pdf\n    G = zeros(7,1);\n    G(1) =  42.00;\n    G(2) =  28.25;\n    G(3) =  28.25;\n    G(4) =  18.00;\n  "
      "  G(5) =  9.70;\n    G(6) =  9.70;\n    G(7) =  14.93;\n    %Link Motor Inertia\n    Jm = zeros(7,1);\n    Jm(1)"
      " = 0.00011631;\n    Jm(2) = 0.00011831;\n    Jm(3) = 0.00011831;\n    Jm(4) = 0.00010686;\n    Jm(5) = 0.0000168"
      "5;\n    Jm(6) = 0.00001745;\n    Jm(7) = 0.00000142;\n             \n    if hand_on\n        hand_mass = 1.3731;"
      "\n        DH_d(7) = DH_d(7) + .0953; % Adding the distance to the hand frame for the Schunk Gripper\n        com"
      "(:,7) = ([0.001127;	-0.000211;	0.054851].*hand_mass + com(:,7).*m(7))/(hand_mass + m(7)); % Finding the combined"
      " center of mass\n        m(7) = m(7) + hand_mass; % Adding the mass of the hand\n        I(:,:,7) = [ .003167342"
      ",          0,         0;       % Approximate Inertia Tensor for Schunk Gripper\n                              0,"
      " .001128942,         0;\n                              0,          0, .00258007;];\n    end\n    \n%------------"
      "-------------------------------------------------------------------------\n%  END SETUP OF THE ARM\n%-----------"
      "--------------------------------------------------------------------------\n\n    z0 = [0;0;1];\n    grav = [0 0"
      " 9.81];\n	fext = zeros(6, 1);\n    n = 7;\n    FTsensor = zeros(6,1);\n    \n    tau = zeros(n,1);\n    \n    Fm"
      " = zeros(3,7);\n    Nm = zeros(3,7);\n    N = zeros(3,1);\n    pstarm = zeros(3,7);\n    Rm = zeros(3,3,7);\n   "
      " w = zeros(3,1);\n    wd = zeros(3,1);\n    v = zeros(3,1);\n    vd = grav(:);\n    \n    \n    %\n	% init some "
      "variables, compute the link rotation matrices\n	%\n    for j=1:n,\n        a = DH_a(j);\n        d = DH_d(j);\n "
      "       alpha = DH_alpha(j);\n        Tj = getTransformDH(a, d, alpha, q(j));\n        \n        pstar = [a; d*si"
      "n(alpha); d*cos(alpha)];\n        if j == 1,\n            pstar = eye(3) * pstar;\n            Tj = eye(4) * Tj;"
      "\n        end\n        pstarm(:,j) = pstar;\n        Rm(:,:,j) = Tj(1:3,1:3);\n    end\n    \n    %\n	%  the for"
      "ward recursion\n	%\n    for j=1:n,\n        Rt = Rm(:,:,j)';	% transpose!!\n        pstar = pstarm(:,j);\n      "
      "  r = com(:,j)';\n\n        %\n        % statement order is important here\n        %\n        % revolute axis\n"
      "        wd = Rt*(wd + z0*qdd(j) + cross(w,z0*qd(j)));\n        w = Rt*(w + z0*qd(j));\n        %v = cross(w,psta"
      "r) + Rt*v;\n        vd = cross(wd,pstar) + cross(w, cross(w,pstar)) + Rt*vd;\n\n        %vhat = cross(wd,r') + c"
      "ross(w,cross(w,r')) + vd;\n        vhat = cross(wd,r') + cross(w,cross(w,r')) + vd;\n        F = m(j)*vhat;\n   "
      "     N = I(1:3,1:3,j)*wd + cross(w,I(1:3,1:3,j)*w);\n        Fm(:,j) = F;\n        Nm(:,j) = N;\n    end\n    \n"
      "    \n    %\n	%  the backward recursion\n	%\n\n    fext = fext(:);\n    f = fext(1:3);		% force/moments on end o"
      "f arm\n    nn = fext(4:6);\n\n    for j=n:-1:1,\n        pstar = pstarm(:,j);\n\n        %\n        % order of t"
      "hese statements is important, since both\n        % nn and f are functions of previous f.\n        %\n        if"
      " j == n,\n            R = eye(3,3);\n        else\n            R = Rm(:,:,j+1);\n        end\n        r = com(:,"
      "j)';\n        \n        % The expected force/torque at the sensor.  Used for dynamic compensation\n        % of "
      "the gripper.\n        if j == n\n            FTsensor(1:3) = R*f + Fm(:,j);\n            FTsensor(4:6) = cross(r"
      "',Fm(:,j));\n        end\n        \n        nn = R*(nn + cross(R'*pstar,f)) + cross(pstar+r',Fm(:,j)) + Nm(:,j);"
      "\n        f = R*f + Fm(:,j);\n        \n        R = Rm(:,:,j);\n        % revolute\n        tau(j) = nn'*(R'*z0)"
      " + G(j)^2 * Jm(j)*qdd(j);% + abs(G(j)) * friction(link, qd(j));\n    end\n\nend\n\nfunction T = getTransformDH(a"
      ",d,alpha,q)\n    ct = cos(q);\n    st = sin(q);\n    cb = cos(alpha);\n    sb = sin(alpha);\n    \n    T = [ ct,"
      " -st*cb,  st*sb, a*ct;\n          st,  ct*cb, -ct*sb, a*st;\n          0, sb, cb, d;\n          0, 0, 0, 1 ];\ne"
      "nd"
      editorLayout	      "100 M4x1[376 150 1319 881]"
    }
  }
  data {
    id			    257
    ssIdNumber		    4
    name		    "hand_on"
    linkNode		    [255 0 258]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    258
    ssIdNumber		    5
    name		    "tau"
    linkNode		    [255 257 259]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    259
    ssIdNumber		    6
    name		    "q"
    linkNode		    [255 258 260]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    260
    ssIdNumber		    7
    name		    "qd"
    linkNode		    [255 259 261]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    261
    ssIdNumber		    8
    name		    "qdd"
    linkNode		    [255 260 262]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    262
    ssIdNumber		    9
    name		    "FTsensor"
    linkNode		    [255 261 0]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  junction {
    id			    263
    position		    [23.5747 49.5747 7]
    chart		    255
    linkNode		    [255 0 0]
    subviewer		    255
    ssIdNumber		    3
    type		    CONNECTIVE_JUNCTION
  }
  transition {
    id			    264
    labelString		    "{eML_blk_kernel();}"
    labelPosition	    [36.125 25.875 102.544 14.964]
    fontSize		    12
    src {
      intersection	      [0 0 1 0 23.5747 14.625 0 0]
    }
    dst {
      id		      263
      intersection	      [1 0 -1 0 23.5747 42.5747 0 0]
    }
    midPoint		    [23.5747 24.9468]
    chart		    255
    linkNode		    [255 0 0]
    dataLimits		    [23.575 23.575 14.625 34.575]
    subviewer		    255
    drawStyle		    SMART
    slide {
      sticky		      BOTH_STICK
    }
    executionOrder	    1
    ssIdNumber		    2
  }
  instance {
    id			    265
    name		    "Subsystem/Impedance Controller/Subsystem1/Dynamics Compensation"
    machine		    1
    chart		    255
  }
  chart {
    id			    266
    name		    "Subsystem/Impedance Controller/Subsystem1/Dynamics Compensation1"
    windowPosition	    [400.667 326.75 213 385]
    viewLimits		    [0 156.75 0 153.75]
    screen		    [1 1 1280 1024 1.333333333333333]
    treeNode		    [0 267 0 0]
    firstTransition	    275
    firstJunction	    274
    viewObj		    266
    machine		    1
    ssIdHighWaterMark	    9
    decomposition	    CLUSTER_CHART
    type		    EML_CHART
    firstData		    268
    chartFileNumber	    21
    disableImplicitCasting  1
    eml {
      name		      "dynamicsComp"
    }
  }
  state {
    id			    267
    labelString		    "eML_blk_kernel()"
    position		    [18 64.5 118 66]
    fontSize		    12
    chart		    266
    treeNode		    [266 0 0 0]
    superState		    SUBCHART
    subviewer		    266
    ssIdNumber		    1
    type		    FUNC_STATE
    decomposition	    CLUSTER_STATE
    eml {
      isEML		      1
      script		      "function [tau, FTsensor] = dynamicsComp(hand_on,q,qd,qdd)\n%-------------------------------------"
      "------------------------------------------------\n%   SETUP THE ARM\n%------------------------------------------"
      "-------------------------------------------    \n    DH_a = [0 0 0.045 -0.045 0 0 0];\n    DH_d = [0 0 .55 0 0.3"
      " 0 0.061];\n    DH_alpha = [-pi/2 pi/2 -pi/2 pi/2 -pi/2 pi/2 0];\n\n    m = [8.3936 4.8487 1.7251 2.17266212 0.3"
      "5655692 0.40915886 0.07548270];\n    \n    com = zeros(3,7);\n    com(:,1) = [0.3506e-3, 132.6795e-3, 0.6286e-3]"
      ";\n    com(:,2) = [-0.2230e-3, -21.3924e-3, 13.3754e-3];\n    com(:,3) = [-38.7565e-3, 217.9078e-3, 0.0252e-3];\n"
      "    com(:,4) = [0.00553408,0.00006822,0.11927695];\n    com(:,5) = [0.00005483,0.02886286,0.00148493];\n    com("
      ":,6) = [-0.00005923,-0.01686123,0.02419052];\n    com(:,7) = [ 0.00014836,0.00007252,-0.00335185];\n    \n    % "
      "Need Inertia matricies\n    I = zeros(3,3,7);\n    I(:,:,1) = [ 95157.4294e-6,   246.1404e-6,   -95.0183e-6 ;\n "
      "                  246.1404e-6, 92032.3524e-6,  -962.6725e-6 ;\n                   -95.0183e-6,  -962.6725e-6, 59"
      "290.5997e-6 ];\n    I(:,:,2) = [ 29326.8098e-6,   -43.3994e-6,  -129.2942e-6 ;\n                   -43.3994e-6, "
      "20781.5826e-6,  1348.6924e-6 ;\n                  -129.2942e-6,  1348.6924e-6, 22807.3271e-6 ];\n    I(:,:,3) = "
      "[ 56662.2970e-6, -2321.6892e-6,     8.2125e-6 ;\n                 -2321.6892e-6,  3158.0509e-6,   -16.6307e-6 ;\n"
      "                     8.2125e-6,   -16.6307e-6, 56806.6024e-6 ];\n    I(:,:,4) = [  0.01067491,  0.00004503, -0.0"
      "0135557 ;\n                  0.00004503,  0.01058659, -0.00011002 ;\n                 -0.00135557, -0.00011002, "
      " 0.00282036 ];\n    I(:,:,5) = [  0.00037112, -0.00000008, -0.00000003 ;\n                 -0.00000008,  0.00019"
      "434, -0.00001613 ;\n                 -0.00000003, -0.00001613,  0.00038209 ];\n    I(:,:,6) =  [  0.00054889,  0"
      ".00000019, -0.00000010 ;\n                   0.00000019,  0.00023846, -0.00004430 ;\n                  -0.000000"
      "10, -0.00004430,  0.00045133 ];\n    I(:,:,7) = [ 0.00003911, 0.00000019, 0.00000000 ;      % WAM without hand\n"
      "                 0.00000019, 0.00003877, 0.00000000 ;\n                 0.00000000, 0.00000000, 0.00007614 ];\n "
      "   \n    %Link Gear Ratio\n    % The differential drive mechanism was ignored here because it's not\n    % suppo"
      "rted by the robotic toolbox yet.\n    % Please refer to: http://www.me.unm.edu/~starr/research/WAM_MassParams_AA"
      "-00.pdf\n    G = zeros(7,1);\n    G(1) =  42.00;\n    G(2) =  28.25;\n    G(3) =  28.25;\n    G(4) =  18.00;\n  "
      "  G(5) =  9.70;\n    G(6) =  9.70;\n    G(7) =  14.93;\n    %Link Motor Inertia\n    Jm = zeros(7,1);\n    Jm(1)"
      " = 0.00011631;\n    Jm(2) = 0.00011831;\n    Jm(3) = 0.00011831;\n    Jm(4) = 0.00010686;\n    Jm(5) = 0.0000168"
      "5;\n    Jm(6) = 0.00001745;\n    Jm(7) = 0.00000142;\n             \n    if hand_on\n        hand_mass = 1.3731;"
      "\n        DH_d(7) = DH_d(7) + .0953; % Adding the distance to the hand frame for the Schunk Gripper\n        com"
      "(:,7) = ([0.001127;	-0.000211;	0.054851].*hand_mass + com(:,7).*m(7))/(hand_mass + m(7)); % Finding the combined"
      " center of mass\n        m(7) = m(7) + hand_mass; % Adding the mass of the hand\n        I(:,:,7) = [ .003167342"
      ",          0,         0;       % Approximate Inertia Tensor for Schunk Gripper\n                              0,"
      " .001128942,         0;\n                              0,          0, .00258007;];\n    end\n    \n%------------"
      "-------------------------------------------------------------------------\n%  END SETUP OF THE ARM\n%-----------"
      "--------------------------------------------------------------------------\n\n    z0 = [0;0;1];\n    grav = [0 0"
      " 9.81];\n	fext = zeros(6, 1);\n    n = 7;\n    FTsensor = zeros(6,1);\n    \n    tau = zeros(n,1);\n    \n    Fm"
      " = zeros(3,7);\n    Nm = zeros(3,7);\n    N = zeros(3,1);\n    pstarm = zeros(3,7);\n    Rm = zeros(3,3,7);\n   "
      " w = zeros(3,1);\n    wd = zeros(3,1);\n    v = zeros(3,1);\n    vd = grav(:);\n    \n    \n    %\n	% init some "
      "variables, compute the link rotation matrices\n	%\n    for j=1:n,\n        a = DH_a(j);\n        d = DH_d(j);\n "
      "       alpha = DH_alpha(j);\n        Tj = getTransformDH(a, d, alpha, q(j));\n        \n        pstar = [a; d*si"
      "n(alpha); d*cos(alpha)];\n        if j == 1,\n            pstar = eye(3) * pstar;\n            Tj = eye(4) * Tj;"
      "\n        end\n        pstarm(:,j) = pstar;\n        Rm(:,:,j) = Tj(1:3,1:3);\n    end\n    \n    %\n	%  the for"
      "ward recursion\n	%\n    for j=1:n,\n        Rt = Rm(:,:,j)';	% transpose!!\n        pstar = pstarm(:,j);\n      "
      "  r = com(:,j)';\n\n        %\n        % statement order is important here\n        %\n        % revolute axis\n"
      "        wd = Rt*(wd + z0*qdd(j) + cross(w,z0*qd(j)));\n        w = Rt*(w + z0*qd(j));\n        %v = cross(w,psta"
      "r) + Rt*v;\n        vd = cross(wd,pstar) + cross(w, cross(w,pstar)) + Rt*vd;\n\n        %vhat = cross(wd,r') + c"
      "ross(w,cross(w,r')) + vd;\n        vhat = cross(wd,r') + cross(w,cross(w,r')) + vd;\n        F = m(j)*vhat;\n   "
      "     N = I(1:3,1:3,j)*wd + cross(w,I(1:3,1:3,j)*w);\n        Fm(:,j) = F;\n        Nm(:,j) = N;\n    end\n    \n"
      "    \n    %\n	%  the backward recursion\n	%\n\n    fext = fext(:);\n    f = fext(1:3);		% force/moments on end o"
      "f arm\n    nn = fext(4:6);\n\n    for j=n:-1:1,\n        pstar = pstarm(:,j);\n\n        %\n        % order of t"
      "hese statements is important, since both\n        % nn and f are functions of previous f.\n        %\n        if"
      " j == n,\n            R = eye(3,3);\n        else\n            R = Rm(:,:,j+1);\n        end\n        r = com(:,"
      "j)';\n        \n        % The expected force/torque at the sensor.  Used for dynamic compensation\n        % of "
      "the gripper.\n        if j == n\n            FTsensor(1:3) = R*f + Fm(:,j);\n            FTsensor(4:6) = cross(r"
      "',Fm(:,j));\n        end\n        \n        nn = R*(nn + cross(R'*pstar,f)) + cross(pstar+r',Fm(:,j)) + Nm(:,j);"
      "\n        f = R*f + Fm(:,j);\n        \n        R = Rm(:,:,j);\n        % revolute\n        tau(j) = nn'*(R'*z0)"
      " + G(j)^2 * Jm(j)*qdd(j);% + abs(G(j)) * friction(link, qd(j));\n    end\n\nend\n\nfunction T = getTransformDH(a"
      ",d,alpha,q)\n    ct = cos(q);\n    st = sin(q);\n    cb = cos(alpha);\n    sb = sin(alpha);\n    \n    T = [ ct,"
      " -st*cb,  st*sb, a*ct;\n          st,  ct*cb, -ct*sb, a*st;\n          0, sb, cb, d;\n          0, 0, 0, 1 ];\ne"
      "nd"
      editorLayout	      "100 M4x1[376 150 1319 881]"
    }
  }
  data {
    id			    268
    ssIdNumber		    4
    name		    "hand_on"
    linkNode		    [266 0 269]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    269
    ssIdNumber		    5
    name		    "tau"
    linkNode		    [266 268 270]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    270
    ssIdNumber		    6
    name		    "q"
    linkNode		    [266 269 271]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    271
    ssIdNumber		    7
    name		    "qd"
    linkNode		    [266 270 272]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    272
    ssIdNumber		    8
    name		    "qdd"
    linkNode		    [266 271 273]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    273
    ssIdNumber		    9
    name		    "FTsensor"
    linkNode		    [266 272 0]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  junction {
    id			    274
    position		    [23.5747 49.5747 7]
    chart		    266
    linkNode		    [266 0 0]
    subviewer		    266
    ssIdNumber		    3
    type		    CONNECTIVE_JUNCTION
  }
  transition {
    id			    275
    labelString		    "{eML_blk_kernel();}"
    labelPosition	    [36.125 25.875 102.544 14.964]
    fontSize		    12
    src {
      intersection	      [0 0 1 0 23.5747 14.625 0 0]
    }
    dst {
      id		      274
      intersection	      [1 0 -1 0 23.5747 42.5747 0 0]
    }
    midPoint		    [23.5747 24.9468]
    chart		    266
    linkNode		    [266 0 0]
    dataLimits		    [23.575 23.575 14.625 34.575]
    subviewer		    266
    drawStyle		    SMART
    slide {
      sticky		      BOTH_STICK
    }
    executionOrder	    1
    ssIdNumber		    2
  }
  instance {
    id			    276
    name		    "Subsystem/Impedance Controller/Subsystem1/Dynamics Compensation1"
    machine		    1
    chart		    266
  }
  chart {
    id			    277
    name		    "Subsystem/Impedance Controller/Subsystem1/Dynamics Compensation2"
    windowPosition	    [400.667 326.75 213 385]
    viewLimits		    [0 156.75 0 153.75]
    screen		    [1 1 1280 1024 1.333333333333333]
    treeNode		    [0 278 0 0]
    firstTransition	    286
    firstJunction	    285
    viewObj		    277
    machine		    1
    ssIdHighWaterMark	    9
    decomposition	    CLUSTER_CHART
    type		    EML_CHART
    firstData		    279
    chartFileNumber	    22
    disableImplicitCasting  1
    eml {
      name		      "dynamicsComp"
    }
  }
  state {
    id			    278
    labelString		    "eML_blk_kernel()"
    position		    [18 64.5 118 66]
    fontSize		    12
    chart		    277
    treeNode		    [277 0 0 0]
    superState		    SUBCHART
    subviewer		    277
    ssIdNumber		    1
    type		    FUNC_STATE
    decomposition	    CLUSTER_STATE
    eml {
      isEML		      1
      script		      "function [tau, FTsensor] = dynamicsComp(hand_on,q,qd,qdd)\n%-------------------------------------"
      "------------------------------------------------\n%   SETUP THE ARM\n%------------------------------------------"
      "-------------------------------------------    \n    DH_a = [0 0 0.045 -0.045 0 0 0];\n    DH_d = [0 0 .55 0 0.3"
      " 0 0.061];\n    DH_alpha = [-pi/2 pi/2 -pi/2 pi/2 -pi/2 pi/2 0];\n\n    m = [8.3936 4.8487 1.7251 2.17266212 0.3"
      "5655692 0.40915886 0.07548270];\n    \n    com = zeros(3,7);\n    com(:,1) = [0.3506e-3, 132.6795e-3, 0.6286e-3]"
      ";\n    com(:,2) = [-0.2230e-3, -21.3924e-3, 13.3754e-3];\n    com(:,3) = [-38.7565e-3, 217.9078e-3, 0.0252e-3];\n"
      "    com(:,4) = [0.00553408,0.00006822,0.11927695];\n    com(:,5) = [0.00005483,0.02886286,0.00148493];\n    com("
      ":,6) = [-0.00005923,-0.01686123,0.02419052];\n    com(:,7) = [ 0.00014836,0.00007252,-0.00335185];\n    \n    % "
      "Need Inertia matricies\n    I = zeros(3,3,7);\n    I(:,:,1) = [ 95157.4294e-6,   246.1404e-6,   -95.0183e-6 ;\n "
      "                  246.1404e-6, 92032.3524e-6,  -962.6725e-6 ;\n                   -95.0183e-6,  -962.6725e-6, 59"
      "290.5997e-6 ];\n    I(:,:,2) = [ 29326.8098e-6,   -43.3994e-6,  -129.2942e-6 ;\n                   -43.3994e-6, "
      "20781.5826e-6,  1348.6924e-6 ;\n                  -129.2942e-6,  1348.6924e-6, 22807.3271e-6 ];\n    I(:,:,3) = "
      "[ 56662.2970e-6, -2321.6892e-6,     8.2125e-6 ;\n                 -2321.6892e-6,  3158.0509e-6,   -16.6307e-6 ;\n"
      "                     8.2125e-6,   -16.6307e-6, 56806.6024e-6 ];\n    I(:,:,4) = [  0.01067491,  0.00004503, -0.0"
      "0135557 ;\n                  0.00004503,  0.01058659, -0.00011002 ;\n                 -0.00135557, -0.00011002, "
      " 0.00282036 ];\n    I(:,:,5) = [  0.00037112, -0.00000008, -0.00000003 ;\n                 -0.00000008,  0.00019"
      "434, -0.00001613 ;\n                 -0.00000003, -0.00001613,  0.00038209 ];\n    I(:,:,6) =  [  0.00054889,  0"
      ".00000019, -0.00000010 ;\n                   0.00000019,  0.00023846, -0.00004430 ;\n                  -0.000000"
      "10, -0.00004430,  0.00045133 ];\n    I(:,:,7) = [ 0.00003911, 0.00000019, 0.00000000 ;      % WAM without hand\n"
      "                 0.00000019, 0.00003877, 0.00000000 ;\n                 0.00000000, 0.00000000, 0.00007614 ];\n "
      "   \n    %Link Gear Ratio\n    % The differential drive mechanism was ignored here because it's not\n    % suppo"
      "rted by the robotic toolbox yet.\n    % Please refer to: http://www.me.unm.edu/~starr/research/WAM_MassParams_AA"
      "-00.pdf\n    G = zeros(7,1);\n    G(1) =  42.00;\n    G(2) =  28.25;\n    G(3) =  28.25;\n    G(4) =  18.00;\n  "
      "  G(5) =  9.70;\n    G(6) =  9.70;\n    G(7) =  14.93;\n    %Link Motor Inertia\n    Jm = zeros(7,1);\n    Jm(1)"
      " = 0.00011631;\n    Jm(2) = 0.00011831;\n    Jm(3) = 0.00011831;\n    Jm(4) = 0.00010686;\n    Jm(5) = 0.0000168"
      "5;\n    Jm(6) = 0.00001745;\n    Jm(7) = 0.00000142;\n             \n    if hand_on\n        hand_mass = 1.3731;"
      "\n        DH_d(7) = DH_d(7) + .0953; % Adding the distance to the hand frame for the Schunk Gripper\n        com"
      "(:,7) = ([0.001127;	-0.000211;	0.054851].*hand_mass + com(:,7).*m(7))/(hand_mass + m(7)); % Finding the combined"
      " center of mass\n        m(7) = m(7) + hand_mass; % Adding the mass of the hand\n        I(:,:,7) = [ .003167342"
      ",          0,         0;       % Approximate Inertia Tensor for Schunk Gripper\n                              0,"
      " .001128942,         0;\n                              0,          0, .00258007;];\n    end\n    \n%------------"
      "-------------------------------------------------------------------------\n%  END SETUP OF THE ARM\n%-----------"
      "--------------------------------------------------------------------------\n\n    z0 = [0;0;1];\n    grav = [0 0"
      " 9.81];\n	fext = zeros(6, 1);\n    n = 7;\n    FTsensor = zeros(6,1);\n    \n    tau = zeros(n,1);\n    \n    Fm"
      " = zeros(3,7);\n    Nm = zeros(3,7);\n    N = zeros(3,1);\n    pstarm = zeros(3,7);\n    Rm = zeros(3,3,7);\n   "
      " w = zeros(3,1);\n    wd = zeros(3,1);\n    v = zeros(3,1);\n    vd = grav(:);\n    \n    \n    %\n	% init some "
      "variables, compute the link rotation matrices\n	%\n    for j=1:n,\n        a = DH_a(j);\n        d = DH_d(j);\n "
      "       alpha = DH_alpha(j);\n        Tj = getTransformDH(a, d, alpha, q(j));\n        \n        pstar = [a; d*si"
      "n(alpha); d*cos(alpha)];\n        if j == 1,\n            pstar = eye(3) * pstar;\n            Tj = eye(4) * Tj;"
      "\n        end\n        pstarm(:,j) = pstar;\n        Rm(:,:,j) = Tj(1:3,1:3);\n    end\n    \n    %\n	%  the for"
      "ward recursion\n	%\n    for j=1:n,\n        Rt = Rm(:,:,j)';	% transpose!!\n        pstar = pstarm(:,j);\n      "
      "  r = com(:,j)';\n\n        %\n        % statement order is important here\n        %\n        % revolute axis\n"
      "        wd = Rt*(wd + z0*qdd(j) + cross(w,z0*qd(j)));\n        w = Rt*(w + z0*qd(j));\n        %v = cross(w,psta"
      "r) + Rt*v;\n        vd = cross(wd,pstar) + cross(w, cross(w,pstar)) + Rt*vd;\n\n        %vhat = cross(wd,r') + c"
      "ross(w,cross(w,r')) + vd;\n        vhat = cross(wd,r') + cross(w,cross(w,r')) + vd;\n        F = m(j)*vhat;\n   "
      "     N = I(1:3,1:3,j)*wd + cross(w,I(1:3,1:3,j)*w);\n        Fm(:,j) = F;\n        Nm(:,j) = N;\n    end\n    \n"
      "    \n    %\n	%  the backward recursion\n	%\n\n    fext = fext(:);\n    f = fext(1:3);		% force/moments on end o"
      "f arm\n    nn = fext(4:6);\n\n    for j=n:-1:1,\n        pstar = pstarm(:,j);\n\n        %\n        % order of t"
      "hese statements is important, since both\n        % nn and f are functions of previous f.\n        %\n        if"
      " j == n,\n            R = eye(3,3);\n        else\n            R = Rm(:,:,j+1);\n        end\n        r = com(:,"
      "j)';\n        \n        % The expected force/torque at the sensor.  Used for dynamic compensation\n        % of "
      "the gripper.\n        if j == n\n            FTsensor(1:3) = R*f + Fm(:,j);\n            FTsensor(4:6) = cross(r"
      "',Fm(:,j));\n        end\n        \n        nn = R*(nn + cross(R'*pstar,f)) + cross(pstar+r',Fm(:,j)) + Nm(:,j);"
      "\n        f = R*f + Fm(:,j);\n        \n        R = Rm(:,:,j);\n        % revolute\n        tau(j) = nn'*(R'*z0)"
      " + G(j)^2 * Jm(j)*qdd(j);% + abs(G(j)) * friction(link, qd(j));\n    end\n\nend\n\nfunction T = getTransformDH(a"
      ",d,alpha,q)\n    ct = cos(q);\n    st = sin(q);\n    cb = cos(alpha);\n    sb = sin(alpha);\n    \n    T = [ ct,"
      " -st*cb,  st*sb, a*ct;\n          st,  ct*cb, -ct*sb, a*st;\n          0, sb, cb, d;\n          0, 0, 0, 1 ];\ne"
      "nd"
      editorLayout	      "100 M4x1[376 150 1319 881]"
    }
  }
  data {
    id			    279
    ssIdNumber		    4
    name		    "hand_on"
    linkNode		    [277 0 280]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    280
    ssIdNumber		    5
    name		    "tau"
    linkNode		    [277 279 281]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    281
    ssIdNumber		    6
    name		    "q"
    linkNode		    [277 280 282]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    282
    ssIdNumber		    7
    name		    "qd"
    linkNode		    [277 281 283]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    283
    ssIdNumber		    8
    name		    "qdd"
    linkNode		    [277 282 284]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    284
    ssIdNumber		    9
    name		    "FTsensor"
    linkNode		    [277 283 0]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  junction {
    id			    285
    position		    [23.5747 49.5747 7]
    chart		    277
    linkNode		    [277 0 0]
    subviewer		    277
    ssIdNumber		    3
    type		    CONNECTIVE_JUNCTION
  }
  transition {
    id			    286
    labelString		    "{eML_blk_kernel();}"
    labelPosition	    [36.125 25.875 102.544 14.964]
    fontSize		    12
    src {
      intersection	      [0 0 1 0 23.5747 14.625 0 0]
    }
    dst {
      id		      285
      intersection	      [1 0 -1 0 23.5747 42.5747 0 0]
    }
    midPoint		    [23.5747 24.9468]
    chart		    277
    linkNode		    [277 0 0]
    dataLimits		    [23.575 23.575 14.625 34.575]
    subviewer		    277
    drawStyle		    SMART
    slide {
      sticky		      BOTH_STICK
    }
    executionOrder	    1
    ssIdNumber		    2
  }
  instance {
    id			    287
    name		    "Subsystem/Impedance Controller/Subsystem1/Dynamics Compensation2"
    machine		    1
    chart		    277
  }
  chart {
    id			    288
    name		    "Subsystem/Impedance Controller/Subsystem1/Dynamics Compensation3"
    windowPosition	    [414 326.75 213 385]
    viewLimits		    [0 156.75 0 153.75]
    screen		    [1 1 1280 1024 1.333333333333333]
    treeNode		    [0 289 0 0]
    firstTransition	    297
    firstJunction	    296
    viewObj		    288
    machine		    1
    ssIdHighWaterMark	    9
    decomposition	    CLUSTER_CHART
    type		    EML_CHART
    firstData		    290
    chartFileNumber	    23
    disableImplicitCasting  1
    eml {
      name		      "dynamicsComp"
    }
  }
  state {
    id			    289
    labelString		    "eML_blk_kernel()"
    position		    [18 64.5 118 66]
    fontSize		    12
    chart		    288
    treeNode		    [288 0 0 0]
    superState		    SUBCHART
    subviewer		    288
    ssIdNumber		    1
    type		    FUNC_STATE
    decomposition	    CLUSTER_STATE
    eml {
      isEML		      1
      script		      "function [tau, FTsensor] = dynamicsComp(hand_on,q,qd,qdd)\n%-------------------------------------"
      "------------------------------------------------\n%   SETUP THE ARM\n%------------------------------------------"
      "-------------------------------------------    \n    DH_a = [0 0 0.045 -0.045 0 0 0];\n    DH_d = [0 0 .55 0 0.3"
      " 0 0.061];\n    DH_alpha = [-pi/2 pi/2 -pi/2 pi/2 -pi/2 pi/2 0];\n\n    m = [8.3936 4.8487 1.7251 2.17266212 0.3"
      "5655692 0.40915886 0.07548270];\n    \n    com = zeros(3,7);\n    com(:,1) = [0.3506e-3, 132.6795e-3, 0.6286e-3]"
      ";\n    com(:,2) = [-0.2230e-3, -21.3924e-3, 13.3754e-3];\n    com(:,3) = [-38.7565e-3, 217.9078e-3, 0.0252e-3];\n"
      "    com(:,4) = [0.00553408,0.00006822,0.11927695];\n    com(:,5) = [0.00005483,0.02886286,0.00148493];\n    com("
      ":,6) = [-0.00005923,-0.01686123,0.02419052];\n    com(:,7) = [ 0.00014836,0.00007252,-0.00335185];\n    \n    % "
      "Need Inertia matricies\n    I = zeros(3,3,7);\n    I(:,:,1) = [ 95157.4294e-6,   246.1404e-6,   -95.0183e-6 ;\n "
      "                  246.1404e-6, 92032.3524e-6,  -962.6725e-6 ;\n                   -95.0183e-6,  -962.6725e-6, 59"
      "290.5997e-6 ];\n    I(:,:,2) = [ 29326.8098e-6,   -43.3994e-6,  -129.2942e-6 ;\n                   -43.3994e-6, "
      "20781.5826e-6,  1348.6924e-6 ;\n                  -129.2942e-6,  1348.6924e-6, 22807.3271e-6 ];\n    I(:,:,3) = "
      "[ 56662.2970e-6, -2321.6892e-6,     8.2125e-6 ;\n                 -2321.6892e-6,  3158.0509e-6,   -16.6307e-6 ;\n"
      "                     8.2125e-6,   -16.6307e-6, 56806.6024e-6 ];\n    I(:,:,4) = [  0.01067491,  0.00004503, -0.0"
      "0135557 ;\n                  0.00004503,  0.01058659, -0.00011002 ;\n                 -0.00135557, -0.00011002, "
      " 0.00282036 ];\n    I(:,:,5) = [  0.00037112, -0.00000008, -0.00000003 ;\n                 -0.00000008,  0.00019"
      "434, -0.00001613 ;\n                 -0.00000003, -0.00001613,  0.00038209 ];\n    I(:,:,6) =  [  0.00054889,  0"
      ".00000019, -0.00000010 ;\n                   0.00000019,  0.00023846, -0.00004430 ;\n                  -0.000000"
      "10, -0.00004430,  0.00045133 ];\n    I(:,:,7) = [ 0.00003911, 0.00000019, 0.00000000 ;      % WAM without hand\n"
      "                 0.00000019, 0.00003877, 0.00000000 ;\n                 0.00000000, 0.00000000, 0.00007614 ];\n "
      "   \n    %Link Gear Ratio\n    % The differential drive mechanism was ignored here because it's not\n    % suppo"
      "rted by the robotic toolbox yet.\n    % Please refer to: http://www.me.unm.edu/~starr/research/WAM_MassParams_AA"
      "-00.pdf\n    G = zeros(7,1);\n    G(1) =  42.00;\n    G(2) =  28.25;\n    G(3) =  28.25;\n    G(4) =  18.00;\n  "
      "  G(5) =  9.70;\n    G(6) =  9.70;\n    G(7) =  14.93;\n    %Link Motor Inertia\n    Jm = zeros(7,1);\n    Jm(1)"
      " = 0.00011631;\n    Jm(2) = 0.00011831;\n    Jm(3) = 0.00011831;\n    Jm(4) = 0.00010686;\n    Jm(5) = 0.0000168"
      "5;\n    Jm(6) = 0.00001745;\n    Jm(7) = 0.00000142;\n             \n    if hand_on\n        hand_mass = 1.3731;"
      "\n        DH_d(7) = DH_d(7) + .0953; % Adding the distance to the hand frame for the Schunk Gripper\n        com"
      "(:,7) = ([0.001127;	-0.000211;	0.054851].*hand_mass + com(:,7).*m(7))/(hand_mass + m(7)); % Finding the combined"
      " center of mass\n        m(7) = m(7) + hand_mass; % Adding the mass of the hand\n        I(:,:,7) = [ .003167342"
      ",          0,         0;       % Approximate Inertia Tensor for Schunk Gripper\n                              0,"
      " .001128942,         0;\n                              0,          0, .00258007;];\n    end\n    \n%------------"
      "-------------------------------------------------------------------------\n%  END SETUP OF THE ARM\n%-----------"
      "--------------------------------------------------------------------------\n\n    z0 = [0;0;1];\n    grav = [0 0"
      " 9.81];\n	fext = zeros(6, 1);\n    n = 7;\n    FTsensor = zeros(6,1);\n    \n    tau = zeros(n,1);\n    \n    Fm"
      " = zeros(3,7);\n    Nm = zeros(3,7);\n    N = zeros(3,1);\n    pstarm = zeros(3,7);\n    Rm = zeros(3,3,7);\n   "
      " w = zeros(3,1);\n    wd = zeros(3,1);\n    v = zeros(3,1);\n    vd = grav(:);\n    \n    \n    %\n	% init some "
      "variables, compute the link rotation matrices\n	%\n    for j=1:n,\n        a = DH_a(j);\n        d = DH_d(j);\n "
      "       alpha = DH_alpha(j);\n        Tj = getTransformDH(a, d, alpha, q(j));\n        \n        pstar = [a; d*si"
      "n(alpha); d*cos(alpha)];\n        if j == 1,\n            pstar = eye(3) * pstar;\n            Tj = eye(4) * Tj;"
      "\n        end\n        pstarm(:,j) = pstar;\n        Rm(:,:,j) = Tj(1:3,1:3);\n    end\n    \n    %\n	%  the for"
      "ward recursion\n	%\n    for j=1:n,\n        Rt = Rm(:,:,j)';	% transpose!!\n        pstar = pstarm(:,j);\n      "
      "  r = com(:,j)';\n\n        %\n        % statement order is important here\n        %\n        % revolute axis\n"
      "        wd = Rt*(wd + z0*qdd(j) + cross(w,z0*qd(j)));\n        w = Rt*(w + z0*qd(j));\n        %v = cross(w,psta"
      "r) + Rt*v;\n        vd = cross(wd,pstar) + cross(w, cross(w,pstar)) + Rt*vd;\n\n        %vhat = cross(wd,r') + c"
      "ross(w,cross(w,r')) + vd;\n        vhat = cross(wd,r') + cross(w,cross(w,r')) + vd;\n        F = m(j)*vhat;\n   "
      "     N = I(1:3,1:3,j)*wd + cross(w,I(1:3,1:3,j)*w);\n        Fm(:,j) = F;\n        Nm(:,j) = N;\n    end\n    \n"
      "    \n    %\n	%  the backward recursion\n	%\n\n    fext = fext(:);\n    f = fext(1:3);		% force/moments on end o"
      "f arm\n    nn = fext(4:6);\n\n    for j=n:-1:1,\n        pstar = pstarm(:,j);\n\n        %\n        % order of t"
      "hese statements is important, since both\n        % nn and f are functions of previous f.\n        %\n        if"
      " j == n,\n            R = eye(3,3);\n        else\n            R = Rm(:,:,j+1);\n        end\n        r = com(:,"
      "j)';\n        \n        % The expected force/torque at the sensor.  Used for dynamic compensation\n        % of "
      "the gripper.\n        if j == n\n            FTsensor(1:3) = R*f + Fm(:,j);\n            FTsensor(4:6) = cross(r"
      "',Fm(:,j));\n        end\n        \n        nn = R*(nn + cross(R'*pstar,f)) + cross(pstar+r',Fm(:,j)) + Nm(:,j);"
      "\n        f = R*f + Fm(:,j);\n        \n        R = Rm(:,:,j);\n        % revolute\n        tau(j) = nn'*(R'*z0)"
      " + G(j)^2 * Jm(j)*qdd(j);% + abs(G(j)) * friction(link, qd(j));\n    end\n\nend\n\nfunction T = getTransformDH(a"
      ",d,alpha,q)\n    ct = cos(q);\n    st = sin(q);\n    cb = cos(alpha);\n    sb = sin(alpha);\n    \n    T = [ ct,"
      " -st*cb,  st*sb, a*ct;\n          st,  ct*cb, -ct*sb, a*st;\n          0, sb, cb, d;\n          0, 0, 0, 1 ];\ne"
      "nd"
      editorLayout	      "100 M4x1[376 150 1319 881]"
    }
  }
  data {
    id			    290
    ssIdNumber		    4
    name		    "hand_on"
    linkNode		    [288 0 291]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    291
    ssIdNumber		    5
    name		    "tau"
    linkNode		    [288 290 292]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    292
    ssIdNumber		    6
    name		    "q"
    linkNode		    [288 291 293]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    293
    ssIdNumber		    7
    name		    "qd"
    linkNode		    [288 292 294]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    294
    ssIdNumber		    8
    name		    "qdd"
    linkNode		    [288 293 295]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    295
    ssIdNumber		    9
    name		    "FTsensor"
    linkNode		    [288 294 0]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  junction {
    id			    296
    position		    [23.5747 49.5747 7]
    chart		    288
    linkNode		    [288 0 0]
    subviewer		    288
    ssIdNumber		    3
    type		    CONNECTIVE_JUNCTION
  }
  transition {
    id			    297
    labelString		    "{eML_blk_kernel();}"
    labelPosition	    [36.125 25.875 102.544 14.964]
    fontSize		    12
    src {
      intersection	      [0 0 1 0 23.5747 14.625 0 0]
    }
    dst {
      id		      296
      intersection	      [1 0 -1 0 23.5747 42.5747 0 0]
    }
    midPoint		    [23.5747 24.9468]
    chart		    288
    linkNode		    [288 0 0]
    dataLimits		    [23.575 23.575 14.625 34.575]
    subviewer		    288
    drawStyle		    SMART
    slide {
      sticky		      BOTH_STICK
    }
    executionOrder	    1
    ssIdNumber		    2
  }
  instance {
    id			    298
    name		    "Subsystem/Impedance Controller/Subsystem1/Dynamics Compensation3"
    machine		    1
    chart		    288
  }
  chart {
    id			    299
    name		    "Subsystem/Impedance Controller/Subsystem1/Dynamics Compensation4"
    windowPosition	    [414 326.75 213 385]
    viewLimits		    [0 156.75 0 153.75]
    screen		    [1 1 1280 1024 1.333333333333333]
    treeNode		    [0 300 0 0]
    firstTransition	    308
    firstJunction	    307
    viewObj		    299
    machine		    1
    ssIdHighWaterMark	    9
    decomposition	    CLUSTER_CHART
    type		    EML_CHART
    firstData		    301
    chartFileNumber	    24
    disableImplicitCasting  1
    eml {
      name		      "dynamicsComp"
    }
  }
  state {
    id			    300
    labelString		    "eML_blk_kernel()"
    position		    [18 64.5 118 66]
    fontSize		    12
    chart		    299
    treeNode		    [299 0 0 0]
    superState		    SUBCHART
    subviewer		    299
    ssIdNumber		    1
    type		    FUNC_STATE
    decomposition	    CLUSTER_STATE
    eml {
      isEML		      1
      script		      "function [tau, FTsensor] = dynamicsComp(hand_on,q,qd,qdd)\n%-------------------------------------"
      "------------------------------------------------\n%   SETUP THE ARM\n%------------------------------------------"
      "-------------------------------------------    \n    DH_a = [0 0 0.045 -0.045 0 0 0];\n    DH_d = [0 0 .55 0 0.3"
      " 0 0.061];\n    DH_alpha = [-pi/2 pi/2 -pi/2 pi/2 -pi/2 pi/2 0];\n\n    m = [8.3936 4.8487 1.7251 2.17266212 0.3"
      "5655692 0.40915886 0.07548270];\n    \n    com = zeros(3,7);\n    com(:,1) = [0.3506e-3, 132.6795e-3, 0.6286e-3]"
      ";\n    com(:,2) = [-0.2230e-3, -21.3924e-3, 13.3754e-3];\n    com(:,3) = [-38.7565e-3, 217.9078e-3, 0.0252e-3];\n"
      "    com(:,4) = [0.00553408,0.00006822,0.11927695];\n    com(:,5) = [0.00005483,0.02886286,0.00148493];\n    com("
      ":,6) = [-0.00005923,-0.01686123,0.02419052];\n    com(:,7) = [ 0.00014836,0.00007252,-0.00335185];\n    \n    % "
      "Need Inertia matricies\n    I = zeros(3,3,7);\n    I(:,:,1) = [ 95157.4294e-6,   246.1404e-6,   -95.0183e-6 ;\n "
      "                  246.1404e-6, 92032.3524e-6,  -962.6725e-6 ;\n                   -95.0183e-6,  -962.6725e-6, 59"
      "290.5997e-6 ];\n    I(:,:,2) = [ 29326.8098e-6,   -43.3994e-6,  -129.2942e-6 ;\n                   -43.3994e-6, "
      "20781.5826e-6,  1348.6924e-6 ;\n                  -129.2942e-6,  1348.6924e-6, 22807.3271e-6 ];\n    I(:,:,3) = "
      "[ 56662.2970e-6, -2321.6892e-6,     8.2125e-6 ;\n                 -2321.6892e-6,  3158.0509e-6,   -16.6307e-6 ;\n"
      "                     8.2125e-6,   -16.6307e-6, 56806.6024e-6 ];\n    I(:,:,4) = [  0.01067491,  0.00004503, -0.0"
      "0135557 ;\n                  0.00004503,  0.01058659, -0.00011002 ;\n                 -0.00135557, -0.00011002, "
      " 0.00282036 ];\n    I(:,:,5) = [  0.00037112, -0.00000008, -0.00000003 ;\n                 -0.00000008,  0.00019"
      "434, -0.00001613 ;\n                 -0.00000003, -0.00001613,  0.00038209 ];\n    I(:,:,6) =  [  0.00054889,  0"
      ".00000019, -0.00000010 ;\n                   0.00000019,  0.00023846, -0.00004430 ;\n                  -0.000000"
      "10, -0.00004430,  0.00045133 ];\n    I(:,:,7) = [ 0.00003911, 0.00000019, 0.00000000 ;      % WAM without hand\n"
      "                 0.00000019, 0.00003877, 0.00000000 ;\n                 0.00000000, 0.00000000, 0.00007614 ];\n "
      "   \n    %Link Gear Ratio\n    % The differential drive mechanism was ignored here because it's not\n    % suppo"
      "rted by the robotic toolbox yet.\n    % Please refer to: http://www.me.unm.edu/~starr/research/WAM_MassParams_AA"
      "-00.pdf\n    G = zeros(7,1);\n    G(1) =  42.00;\n    G(2) =  28.25;\n    G(3) =  28.25;\n    G(4) =  18.00;\n  "
      "  G(5) =  9.70;\n    G(6) =  9.70;\n    G(7) =  14.93;\n    %Link Motor Inertia\n    Jm = zeros(7,1);\n    Jm(1)"
      " = 0.00011631;\n    Jm(2) = 0.00011831;\n    Jm(3) = 0.00011831;\n    Jm(4) = 0.00010686;\n    Jm(5) = 0.0000168"
      "5;\n    Jm(6) = 0.00001745;\n    Jm(7) = 0.00000142;\n             \n    if hand_on\n        hand_mass = 1.3731;"
      "\n        DH_d(7) = DH_d(7) + .0953; % Adding the distance to the hand frame for the Schunk Gripper\n        com"
      "(:,7) = ([0.001127;	-0.000211;	0.054851].*hand_mass + com(:,7).*m(7))/(hand_mass + m(7)); % Finding the combined"
      " center of mass\n        m(7) = m(7) + hand_mass; % Adding the mass of the hand\n        I(:,:,7) = [ .003167342"
      ",          0,         0;       % Approximate Inertia Tensor for Schunk Gripper\n                              0,"
      " .001128942,         0;\n                              0,          0, .00258007;];\n    end\n    \n%------------"
      "-------------------------------------------------------------------------\n%  END SETUP OF THE ARM\n%-----------"
      "--------------------------------------------------------------------------\n\n    z0 = [0;0;1];\n    grav = [0 0"
      " 9.81];\n	fext = zeros(6, 1);\n    n = 7;\n    FTsensor = zeros(6,1);\n    \n    tau = zeros(n,1);\n    \n    Fm"
      " = zeros(3,7);\n    Nm = zeros(3,7);\n    N = zeros(3,1);\n    pstarm = zeros(3,7);\n    Rm = zeros(3,3,7);\n   "
      " w = zeros(3,1);\n    wd = zeros(3,1);\n    v = zeros(3,1);\n    vd = grav(:);\n    \n    \n    %\n	% init some "
      "variables, compute the link rotation matrices\n	%\n    for j=1:n,\n        a = DH_a(j);\n        d = DH_d(j);\n "
      "       alpha = DH_alpha(j);\n        Tj = getTransformDH(a, d, alpha, q(j));\n        \n        pstar = [a; d*si"
      "n(alpha); d*cos(alpha)];\n        if j == 1,\n            pstar = eye(3) * pstar;\n            Tj = eye(4) * Tj;"
      "\n        end\n        pstarm(:,j) = pstar;\n        Rm(:,:,j) = Tj(1:3,1:3);\n    end\n    \n    %\n	%  the for"
      "ward recursion\n	%\n    for j=1:n,\n        Rt = Rm(:,:,j)';	% transpose!!\n        pstar = pstarm(:,j);\n      "
      "  r = com(:,j)';\n\n        %\n        % statement order is important here\n        %\n        % revolute axis\n"
      "        wd = Rt*(wd + z0*qdd(j) + cross(w,z0*qd(j)));\n        w = Rt*(w + z0*qd(j));\n        %v = cross(w,psta"
      "r) + Rt*v;\n        vd = cross(wd,pstar) + cross(w, cross(w,pstar)) + Rt*vd;\n\n        %vhat = cross(wd,r') + c"
      "ross(w,cross(w,r')) + vd;\n        vhat = cross(wd,r') + cross(w,cross(w,r')) + vd;\n        F = m(j)*vhat;\n   "
      "     N = I(1:3,1:3,j)*wd + cross(w,I(1:3,1:3,j)*w);\n        Fm(:,j) = F;\n        Nm(:,j) = N;\n    end\n    \n"
      "    \n    %\n	%  the backward recursion\n	%\n\n    fext = fext(:);\n    f = fext(1:3);		% force/moments on end o"
      "f arm\n    nn = fext(4:6);\n\n    for j=n:-1:1,\n        pstar = pstarm(:,j);\n\n        %\n        % order of t"
      "hese statements is important, since both\n        % nn and f are functions of previous f.\n        %\n        if"
      " j == n,\n            R = eye(3,3);\n        else\n            R = Rm(:,:,j+1);\n        end\n        r = com(:,"
      "j)';\n        \n        % The expected force/torque at the sensor.  Used for dynamic compensation\n        % of "
      "the gripper.\n        if j == n\n            FTsensor(1:3) = R*f + Fm(:,j);\n            FTsensor(4:6) = cross(r"
      "',Fm(:,j));\n        end\n        \n        nn = R*(nn + cross(R'*pstar,f)) + cross(pstar+r',Fm(:,j)) + Nm(:,j);"
      "\n        f = R*f + Fm(:,j);\n        \n        R = Rm(:,:,j);\n        % revolute\n        tau(j) = nn'*(R'*z0)"
      " + G(j)^2 * Jm(j)*qdd(j);% + abs(G(j)) * friction(link, qd(j));\n    end\n\nend\n\nfunction T = getTransformDH(a"
      ",d,alpha,q)\n    ct = cos(q);\n    st = sin(q);\n    cb = cos(alpha);\n    sb = sin(alpha);\n    \n    T = [ ct,"
      " -st*cb,  st*sb, a*ct;\n          st,  ct*cb, -ct*sb, a*st;\n          0, sb, cb, d;\n          0, 0, 0, 1 ];\ne"
      "nd"
      editorLayout	      "100 M4x1[376 150 1319 881]"
    }
  }
  data {
    id			    301
    ssIdNumber		    4
    name		    "hand_on"
    linkNode		    [299 0 302]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    302
    ssIdNumber		    5
    name		    "tau"
    linkNode		    [299 301 303]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    303
    ssIdNumber		    6
    name		    "q"
    linkNode		    [299 302 304]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    304
    ssIdNumber		    7
    name		    "qd"
    linkNode		    [299 303 305]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    305
    ssIdNumber		    8
    name		    "qdd"
    linkNode		    [299 304 306]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    306
    ssIdNumber		    9
    name		    "FTsensor"
    linkNode		    [299 305 0]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  junction {
    id			    307
    position		    [23.5747 49.5747 7]
    chart		    299
    linkNode		    [299 0 0]
    subviewer		    299
    ssIdNumber		    3
    type		    CONNECTIVE_JUNCTION
  }
  transition {
    id			    308
    labelString		    "{eML_blk_kernel();}"
    labelPosition	    [36.125 25.875 102.544 14.964]
    fontSize		    12
    src {
      intersection	      [0 0 1 0 23.5747 14.625 0 0]
    }
    dst {
      id		      307
      intersection	      [1 0 -1 0 23.5747 42.5747 0 0]
    }
    midPoint		    [23.5747 24.9468]
    chart		    299
    linkNode		    [299 0 0]
    dataLimits		    [23.575 23.575 14.625 34.575]
    subviewer		    299
    drawStyle		    SMART
    slide {
      sticky		      BOTH_STICK
    }
    executionOrder	    1
    ssIdNumber		    2
  }
  instance {
    id			    309
    name		    "Subsystem/Impedance Controller/Subsystem1/Dynamics Compensation4"
    machine		    1
    chart		    299
  }
  chart {
    id			    310
    name		    "Subsystem/Impedance Controller/Subsystem1/Dynamics Compensation5"
    windowPosition	    [414 326.75 213 385]
    viewLimits		    [0 156.75 0 153.75]
    screen		    [1 1 1280 1024 1.333333333333333]
    treeNode		    [0 311 0 0]
    firstTransition	    319
    firstJunction	    318
    viewObj		    310
    machine		    1
    ssIdHighWaterMark	    9
    decomposition	    CLUSTER_CHART
    type		    EML_CHART
    firstData		    312
    chartFileNumber	    25
    disableImplicitCasting  1
    eml {
      name		      "dynamicsComp"
    }
  }
  state {
    id			    311
    labelString		    "eML_blk_kernel()"
    position		    [18 64.5 118 66]
    fontSize		    12
    chart		    310
    treeNode		    [310 0 0 0]
    superState		    SUBCHART
    subviewer		    310
    ssIdNumber		    1
    type		    FUNC_STATE
    decomposition	    CLUSTER_STATE
    eml {
      isEML		      1
      script		      "function [tau, FTsensor] = dynamicsComp(hand_on,q,qd,qdd)\n%-------------------------------------"
      "------------------------------------------------\n%   SETUP THE ARM\n%------------------------------------------"
      "-------------------------------------------    \n    DH_a = [0 0 0.045 -0.045 0 0 0];\n    DH_d = [0 0 .55 0 0.3"
      " 0 0.061];\n    DH_alpha = [-pi/2 pi/2 -pi/2 pi/2 -pi/2 pi/2 0];\n\n    m = [8.3936 4.8487 1.7251 2.17266212 0.3"
      "5655692 0.40915886 0.07548270];\n    \n    com = zeros(3,7);\n    com(:,1) = [0.3506e-3, 132.6795e-3, 0.6286e-3]"
      ";\n    com(:,2) = [-0.2230e-3, -21.3924e-3, 13.3754e-3];\n    com(:,3) = [-38.7565e-3, 217.9078e-3, 0.0252e-3];\n"
      "    com(:,4) = [0.00553408,0.00006822,0.11927695];\n    com(:,5) = [0.00005483,0.02886286,0.00148493];\n    com("
      ":,6) = [-0.00005923,-0.01686123,0.02419052];\n    com(:,7) = [ 0.00014836,0.00007252,-0.00335185];\n    \n    % "
      "Need Inertia matricies\n    I = zeros(3,3,7);\n    I(:,:,1) = [ 95157.4294e-6,   246.1404e-6,   -95.0183e-6 ;\n "
      "                  246.1404e-6, 92032.3524e-6,  -962.6725e-6 ;\n                   -95.0183e-6,  -962.6725e-6, 59"
      "290.5997e-6 ];\n    I(:,:,2) = [ 29326.8098e-6,   -43.3994e-6,  -129.2942e-6 ;\n                   -43.3994e-6, "
      "20781.5826e-6,  1348.6924e-6 ;\n                  -129.2942e-6,  1348.6924e-6, 22807.3271e-6 ];\n    I(:,:,3) = "
      "[ 56662.2970e-6, -2321.6892e-6,     8.2125e-6 ;\n                 -2321.6892e-6,  3158.0509e-6,   -16.6307e-6 ;\n"
      "                     8.2125e-6,   -16.6307e-6, 56806.6024e-6 ];\n    I(:,:,4) = [  0.01067491,  0.00004503, -0.0"
      "0135557 ;\n                  0.00004503,  0.01058659, -0.00011002 ;\n                 -0.00135557, -0.00011002, "
      " 0.00282036 ];\n    I(:,:,5) = [  0.00037112, -0.00000008, -0.00000003 ;\n                 -0.00000008,  0.00019"
      "434, -0.00001613 ;\n                 -0.00000003, -0.00001613,  0.00038209 ];\n    I(:,:,6) =  [  0.00054889,  0"
      ".00000019, -0.00000010 ;\n                   0.00000019,  0.00023846, -0.00004430 ;\n                  -0.000000"
      "10, -0.00004430,  0.00045133 ];\n    I(:,:,7) = [ 0.00003911, 0.00000019, 0.00000000 ;      % WAM without hand\n"
      "                 0.00000019, 0.00003877, 0.00000000 ;\n                 0.00000000, 0.00000000, 0.00007614 ];\n "
      "   \n    %Link Gear Ratio\n    % The differential drive mechanism was ignored here because it's not\n    % suppo"
      "rted by the robotic toolbox yet.\n    % Please refer to: http://www.me.unm.edu/~starr/research/WAM_MassParams_AA"
      "-00.pdf\n    G = zeros(7,1);\n    G(1) =  42.00;\n    G(2) =  28.25;\n    G(3) =  28.25;\n    G(4) =  18.00;\n  "
      "  G(5) =  9.70;\n    G(6) =  9.70;\n    G(7) =  14.93;\n    %Link Motor Inertia\n    Jm = zeros(7,1);\n    Jm(1)"
      " = 0.00011631;\n    Jm(2) = 0.00011831;\n    Jm(3) = 0.00011831;\n    Jm(4) = 0.00010686;\n    Jm(5) = 0.0000168"
      "5;\n    Jm(6) = 0.00001745;\n    Jm(7) = 0.00000142;\n             \n    if hand_on\n        hand_mass = 1.3731;"
      "\n        DH_d(7) = DH_d(7) + .0953; % Adding the distance to the hand frame for the Schunk Gripper\n        com"
      "(:,7) = ([0.001127;	-0.000211;	0.054851].*hand_mass + com(:,7).*m(7))/(hand_mass + m(7)); % Finding the combined"
      " center of mass\n        m(7) = m(7) + hand_mass; % Adding the mass of the hand\n        I(:,:,7) = [ .003167342"
      ",          0,         0;       % Approximate Inertia Tensor for Schunk Gripper\n                              0,"
      " .001128942,         0;\n                              0,          0, .00258007;];\n    end\n    \n%------------"
      "-------------------------------------------------------------------------\n%  END SETUP OF THE ARM\n%-----------"
      "--------------------------------------------------------------------------\n\n    z0 = [0;0;1];\n    grav = [0 0"
      " 9.81];\n	fext = zeros(6, 1);\n    n = 7;\n    FTsensor = zeros(6,1);\n    \n    tau = zeros(n,1);\n    \n    Fm"
      " = zeros(3,7);\n    Nm = zeros(3,7);\n    N = zeros(3,1);\n    pstarm = zeros(3,7);\n    Rm = zeros(3,3,7);\n   "
      " w = zeros(3,1);\n    wd = zeros(3,1);\n    v = zeros(3,1);\n    vd = grav(:);\n    \n    \n    %\n	% init some "
      "variables, compute the link rotation matrices\n	%\n    for j=1:n,\n        a = DH_a(j);\n        d = DH_d(j);\n "
      "       alpha = DH_alpha(j);\n        Tj = getTransformDH(a, d, alpha, q(j));\n        \n        pstar = [a; d*si"
      "n(alpha); d*cos(alpha)];\n        if j == 1,\n            pstar = eye(3) * pstar;\n            Tj = eye(4) * Tj;"
      "\n        end\n        pstarm(:,j) = pstar;\n        Rm(:,:,j) = Tj(1:3,1:3);\n    end\n    \n    %\n	%  the for"
      "ward recursion\n	%\n    for j=1:n,\n        Rt = Rm(:,:,j)';	% transpose!!\n        pstar = pstarm(:,j);\n      "
      "  r = com(:,j)';\n\n        %\n        % statement order is important here\n        %\n        % revolute axis\n"
      "        wd = Rt*(wd + z0*qdd(j) + cross(w,z0*qd(j)));\n        w = Rt*(w + z0*qd(j));\n        %v = cross(w,psta"
      "r) + Rt*v;\n        vd = cross(wd,pstar) + cross(w, cross(w,pstar)) + Rt*vd;\n\n        %vhat = cross(wd,r') + c"
      "ross(w,cross(w,r')) + vd;\n        vhat = cross(wd,r') + cross(w,cross(w,r')) + vd;\n        F = m(j)*vhat;\n   "
      "     N = I(1:3,1:3,j)*wd + cross(w,I(1:3,1:3,j)*w);\n        Fm(:,j) = F;\n        Nm(:,j) = N;\n    end\n    \n"
      "    \n    %\n	%  the backward recursion\n	%\n\n    fext = fext(:);\n    f = fext(1:3);		% force/moments on end o"
      "f arm\n    nn = fext(4:6);\n\n    for j=n:-1:1,\n        pstar = pstarm(:,j);\n\n        %\n        % order of t"
      "hese statements is important, since both\n        % nn and f are functions of previous f.\n        %\n        if"
      " j == n,\n            R = eye(3,3);\n        else\n            R = Rm(:,:,j+1);\n        end\n        r = com(:,"
      "j)';\n        \n        % The expected force/torque at the sensor.  Used for dynamic compensation\n        % of "
      "the gripper.\n        if j == n\n            FTsensor(1:3) = R*f + Fm(:,j);\n            FTsensor(4:6) = cross(r"
      "',Fm(:,j));\n        end\n        \n        nn = R*(nn + cross(R'*pstar,f)) + cross(pstar+r',Fm(:,j)) + Nm(:,j);"
      "\n        f = R*f + Fm(:,j);\n        \n        R = Rm(:,:,j);\n        % revolute\n        tau(j) = nn'*(R'*z0)"
      " + G(j)^2 * Jm(j)*qdd(j);% + abs(G(j)) * friction(link, qd(j));\n    end\n\nend\n\nfunction T = getTransformDH(a"
      ",d,alpha,q)\n    ct = cos(q);\n    st = sin(q);\n    cb = cos(alpha);\n    sb = sin(alpha);\n    \n    T = [ ct,"
      " -st*cb,  st*sb, a*ct;\n          st,  ct*cb, -ct*sb, a*st;\n          0, sb, cb, d;\n          0, 0, 0, 1 ];\ne"
      "nd"
      editorLayout	      "100 M4x1[376 150 1319 881]"
    }
  }
  data {
    id			    312
    ssIdNumber		    4
    name		    "hand_on"
    linkNode		    [310 0 313]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    313
    ssIdNumber		    5
    name		    "tau"
    linkNode		    [310 312 314]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    314
    ssIdNumber		    6
    name		    "q"
    linkNode		    [310 313 315]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    315
    ssIdNumber		    7
    name		    "qd"
    linkNode		    [310 314 316]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    316
    ssIdNumber		    8
    name		    "qdd"
    linkNode		    [310 315 317]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    317
    ssIdNumber		    9
    name		    "FTsensor"
    linkNode		    [310 316 0]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  junction {
    id			    318
    position		    [23.5747 49.5747 7]
    chart		    310
    linkNode		    [310 0 0]
    subviewer		    310
    ssIdNumber		    3
    type		    CONNECTIVE_JUNCTION
  }
  transition {
    id			    319
    labelString		    "{eML_blk_kernel();}"
    labelPosition	    [36.125 25.875 102.544 14.964]
    fontSize		    12
    src {
      intersection	      [0 0 1 0 23.5747 14.625 0 0]
    }
    dst {
      id		      318
      intersection	      [1 0 -1 0 23.5747 42.5747 0 0]
    }
    midPoint		    [23.5747 24.9468]
    chart		    310
    linkNode		    [310 0 0]
    dataLimits		    [23.575 23.575 14.625 34.575]
    subviewer		    310
    drawStyle		    SMART
    slide {
      sticky		      BOTH_STICK
    }
    executionOrder	    1
    ssIdNumber		    2
  }
  instance {
    id			    320
    name		    "Subsystem/Impedance Controller/Subsystem1/Dynamics Compensation5"
    machine		    1
    chart		    310
  }
  chart {
    id			    321
    name		    "Subsystem/Impedance Controller/Subsystem1/Dynamics Compensation6"
    windowPosition	    [427.333 326.75 213 385]
    viewLimits		    [0 156.75 0 153.75]
    screen		    [1 1 1280 1024 1.333333333333333]
    treeNode		    [0 322 0 0]
    firstTransition	    330
    firstJunction	    329
    viewObj		    321
    machine		    1
    ssIdHighWaterMark	    9
    decomposition	    CLUSTER_CHART
    type		    EML_CHART
    firstData		    323
    chartFileNumber	    26
    disableImplicitCasting  1
    eml {
      name		      "dynamicsComp"
    }
  }
  state {
    id			    322
    labelString		    "eML_blk_kernel()"
    position		    [18 64.5 118 66]
    fontSize		    12
    chart		    321
    treeNode		    [321 0 0 0]
    superState		    SUBCHART
    subviewer		    321
    ssIdNumber		    1
    type		    FUNC_STATE
    decomposition	    CLUSTER_STATE
    eml {
      isEML		      1
      script		      "function [tau, FTsensor] = dynamicsComp(hand_on,q,qd,qdd)\n%-------------------------------------"
      "------------------------------------------------\n%   SETUP THE ARM\n%------------------------------------------"
      "-------------------------------------------    \n    DH_a = [0 0 0.045 -0.045 0 0 0];\n    DH_d = [0 0 .55 0 0.3"
      " 0 0.061];\n    DH_alpha = [-pi/2 pi/2 -pi/2 pi/2 -pi/2 pi/2 0];\n\n    m = [8.3936 4.8487 1.7251 2.17266212 0.3"
      "5655692 0.40915886 0.07548270];\n    \n    com = zeros(3,7);\n    com(:,1) = [0.3506e-3, 132.6795e-3, 0.6286e-3]"
      ";\n    com(:,2) = [-0.2230e-3, -21.3924e-3, 13.3754e-3];\n    com(:,3) = [-38.7565e-3, 217.9078e-3, 0.0252e-3];\n"
      "    com(:,4) = [0.00553408,0.00006822,0.11927695];\n    com(:,5) = [0.00005483,0.02886286,0.00148493];\n    com("
      ":,6) = [-0.00005923,-0.01686123,0.02419052];\n    com(:,7) = [ 0.00014836,0.00007252,-0.00335185];\n    \n    % "
      "Need Inertia matricies\n    I = zeros(3,3,7);\n    I(:,:,1) = [ 95157.4294e-6,   246.1404e-6,   -95.0183e-6 ;\n "
      "                  246.1404e-6, 92032.3524e-6,  -962.6725e-6 ;\n                   -95.0183e-6,  -962.6725e-6, 59"
      "290.5997e-6 ];\n    I(:,:,2) = [ 29326.8098e-6,   -43.3994e-6,  -129.2942e-6 ;\n                   -43.3994e-6, "
      "20781.5826e-6,  1348.6924e-6 ;\n                  -129.2942e-6,  1348.6924e-6, 22807.3271e-6 ];\n    I(:,:,3) = "
      "[ 56662.2970e-6, -2321.6892e-6,     8.2125e-6 ;\n                 -2321.6892e-6,  3158.0509e-6,   -16.6307e-6 ;\n"
      "                     8.2125e-6,   -16.6307e-6, 56806.6024e-6 ];\n    I(:,:,4) = [  0.01067491,  0.00004503, -0.0"
      "0135557 ;\n                  0.00004503,  0.01058659, -0.00011002 ;\n                 -0.00135557, -0.00011002, "
      " 0.00282036 ];\n    I(:,:,5) = [  0.00037112, -0.00000008, -0.00000003 ;\n                 -0.00000008,  0.00019"
      "434, -0.00001613 ;\n                 -0.00000003, -0.00001613,  0.00038209 ];\n    I(:,:,6) =  [  0.00054889,  0"
      ".00000019, -0.00000010 ;\n                   0.00000019,  0.00023846, -0.00004430 ;\n                  -0.000000"
      "10, -0.00004430,  0.00045133 ];\n    I(:,:,7) = [ 0.00003911, 0.00000019, 0.00000000 ;      % WAM without hand\n"
      "                 0.00000019, 0.00003877, 0.00000000 ;\n                 0.00000000, 0.00000000, 0.00007614 ];\n "
      "   \n    %Link Gear Ratio\n    % The differential drive mechanism was ignored here because it's not\n    % suppo"
      "rted by the robotic toolbox yet.\n    % Please refer to: http://www.me.unm.edu/~starr/research/WAM_MassParams_AA"
      "-00.pdf\n    G = zeros(7,1);\n    G(1) =  42.00;\n    G(2) =  28.25;\n    G(3) =  28.25;\n    G(4) =  18.00;\n  "
      "  G(5) =  9.70;\n    G(6) =  9.70;\n    G(7) =  14.93;\n    %Link Motor Inertia\n    Jm = zeros(7,1);\n    Jm(1)"
      " = 0.00011631;\n    Jm(2) = 0.00011831;\n    Jm(3) = 0.00011831;\n    Jm(4) = 0.00010686;\n    Jm(5) = 0.0000168"
      "5;\n    Jm(6) = 0.00001745;\n    Jm(7) = 0.00000142;\n             \n    if hand_on\n        hand_mass = 1.3731;"
      "\n        DH_d(7) = DH_d(7) + .0953; % Adding the distance to the hand frame for the Schunk Gripper\n        com"
      "(:,7) = ([0.001127;	-0.000211;	0.054851].*hand_mass + com(:,7).*m(7))/(hand_mass + m(7)); % Finding the combined"
      " center of mass\n        m(7) = m(7) + hand_mass; % Adding the mass of the hand\n        I(:,:,7) = [ .003167342"
      ",          0,         0;       % Approximate Inertia Tensor for Schunk Gripper\n                              0,"
      " .001128942,         0;\n                              0,          0, .00258007;];\n    end\n    \n%------------"
      "-------------------------------------------------------------------------\n%  END SETUP OF THE ARM\n%-----------"
      "--------------------------------------------------------------------------\n\n    z0 = [0;0;1];\n    grav = [0 0"
      " 9.81];\n	fext = zeros(6, 1);\n    n = 7;\n    FTsensor = zeros(6,1);\n    \n    tau = zeros(n,1);\n    \n    Fm"
      " = zeros(3,7);\n    Nm = zeros(3,7);\n    N = zeros(3,1);\n    pstarm = zeros(3,7);\n    Rm = zeros(3,3,7);\n   "
      " w = zeros(3,1);\n    wd = zeros(3,1);\n    v = zeros(3,1);\n    vd = grav(:);\n    \n    \n    %\n	% init some "
      "variables, compute the link rotation matrices\n	%\n    for j=1:n,\n        a = DH_a(j);\n        d = DH_d(j);\n "
      "       alpha = DH_alpha(j);\n        Tj = getTransformDH(a, d, alpha, q(j));\n        \n        pstar = [a; d*si"
      "n(alpha); d*cos(alpha)];\n        if j == 1,\n            pstar = eye(3) * pstar;\n            Tj = eye(4) * Tj;"
      "\n        end\n        pstarm(:,j) = pstar;\n        Rm(:,:,j) = Tj(1:3,1:3);\n    end\n    \n    %\n	%  the for"
      "ward recursion\n	%\n    for j=1:n,\n        Rt = Rm(:,:,j)';	% transpose!!\n        pstar = pstarm(:,j);\n      "
      "  r = com(:,j)';\n\n        %\n        % statement order is important here\n        %\n        % revolute axis\n"
      "        wd = Rt*(wd + z0*qdd(j) + cross(w,z0*qd(j)));\n        w = Rt*(w + z0*qd(j));\n        %v = cross(w,psta"
      "r) + Rt*v;\n        vd = cross(wd,pstar) + cross(w, cross(w,pstar)) + Rt*vd;\n\n        %vhat = cross(wd,r') + c"
      "ross(w,cross(w,r')) + vd;\n        vhat = cross(wd,r') + cross(w,cross(w,r')) + vd;\n        F = m(j)*vhat;\n   "
      "     N = I(1:3,1:3,j)*wd + cross(w,I(1:3,1:3,j)*w);\n        Fm(:,j) = F;\n        Nm(:,j) = N;\n    end\n    \n"
      "    \n    %\n	%  the backward recursion\n	%\n\n    fext = fext(:);\n    f = fext(1:3);		% force/moments on end o"
      "f arm\n    nn = fext(4:6);\n\n    for j=n:-1:1,\n        pstar = pstarm(:,j);\n\n        %\n        % order of t"
      "hese statements is important, since both\n        % nn and f are functions of previous f.\n        %\n        if"
      " j == n,\n            R = eye(3,3);\n        else\n            R = Rm(:,:,j+1);\n        end\n        r = com(:,"
      "j)';\n        \n        % The expected force/torque at the sensor.  Used for dynamic compensation\n        % of "
      "the gripper.\n        if j == n\n            FTsensor(1:3) = R*f + Fm(:,j);\n            FTsensor(4:6) = cross(r"
      "',Fm(:,j));\n        end\n        \n        nn = R*(nn + cross(R'*pstar,f)) + cross(pstar+r',Fm(:,j)) + Nm(:,j);"
      "\n        f = R*f + Fm(:,j);\n        \n        R = Rm(:,:,j);\n        % revolute\n        tau(j) = nn'*(R'*z0)"
      " + G(j)^2 * Jm(j)*qdd(j);% + abs(G(j)) * friction(link, qd(j));\n    end\n\nend\n\nfunction T = getTransformDH(a"
      ",d,alpha,q)\n    ct = cos(q);\n    st = sin(q);\n    cb = cos(alpha);\n    sb = sin(alpha);\n    \n    T = [ ct,"
      " -st*cb,  st*sb, a*ct;\n          st,  ct*cb, -ct*sb, a*st;\n          0, sb, cb, d;\n          0, 0, 0, 1 ];\ne"
      "nd"
      editorLayout	      "100 M4x1[376 150 1319 881]"
    }
  }
  data {
    id			    323
    ssIdNumber		    4
    name		    "hand_on"
    linkNode		    [321 0 324]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    324
    ssIdNumber		    5
    name		    "tau"
    linkNode		    [321 323 325]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    325
    ssIdNumber		    6
    name		    "q"
    linkNode		    [321 324 326]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    326
    ssIdNumber		    7
    name		    "qd"
    linkNode		    [321 325 327]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    327
    ssIdNumber		    8
    name		    "qdd"
    linkNode		    [321 326 328]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    328
    ssIdNumber		    9
    name		    "FTsensor"
    linkNode		    [321 327 0]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  junction {
    id			    329
    position		    [23.5747 49.5747 7]
    chart		    321
    linkNode		    [321 0 0]
    subviewer		    321
    ssIdNumber		    3
    type		    CONNECTIVE_JUNCTION
  }
  transition {
    id			    330
    labelString		    "{eML_blk_kernel();}"
    labelPosition	    [36.125 25.875 102.544 14.964]
    fontSize		    12
    src {
      intersection	      [0 0 1 0 23.5747 14.625 0 0]
    }
    dst {
      id		      329
      intersection	      [1 0 -1 0 23.5747 42.5747 0 0]
    }
    midPoint		    [23.5747 24.9468]
    chart		    321
    linkNode		    [321 0 0]
    dataLimits		    [23.575 23.575 14.625 34.575]
    subviewer		    321
    drawStyle		    SMART
    slide {
      sticky		      BOTH_STICK
    }
    executionOrder	    1
    ssIdNumber		    2
  }
  instance {
    id			    331
    name		    "Subsystem/Impedance Controller/Subsystem1/Dynamics Compensation6"
    machine		    1
    chart		    321
  }
  chart {
    id			    332
    name		    "Get Arm State/Get Gripper Status/Grasp Success1"
    windowPosition	    [360.667 326.75 213 385]
    viewLimits		    [0 156.75 0 153.75]
    screen		    [1 1 1280 1024 1.333333333333333]
    treeNode		    [0 333 0 0]
    firstTransition	    338
    firstJunction	    337
    viewObj		    332
    machine		    1
    toolbarMode		    LIBRARY_TOOLBAR
    ssIdHighWaterMark	    6
    decomposition	    CLUSTER_CHART
    type		    EML_CHART
    firstData		    334
    chartFileNumber	    27
    disableImplicitCasting  1
    eml {
      name		      "f"
    }
  }
  state {
    id			    333
    labelString		    "eML_blk_kernel()"
    position		    [18 64.5 118 66]
    fontSize		    12
    chart		    332
    treeNode		    [332 0 0 0]
    superState		    SUBCHART
    subviewer		    332
    ssIdNumber		    1
    type		    FUNC_STATE
    decomposition	    CLUSTER_STATE
    eml {
      isEML		      1
      script		      "function axis_blocked = f(isMoveFingerMessage, errorcode)\n%#eml\n\n    E_AXIS_BLOCKED = 29;\n\n "
      "   persistent errorcode_last;\n    \n    if isempty(errorcode_last)\n       errorcode_last = -1; \n    end\n\n  "
      "  axis_blocked = 0;\n    \n    % If this is a move finger message, whose error code is E_AXIS_BLOCKED and the la"
      "st \n    % error code was not E_AXIS_BLOCKED retun a 1\n    if isMoveFingerMessage && errorcode == E_AXIS_BLOCKE"
      "D && errorcode_last ~= E_AXIS_BLOCKED\n       axis_blocked = 1; \n       errorcode_last = double(errorcode);\n  "
      "  elseif ~isMoveFingerMessage\n        errorcode_last = -1;\n    end\nend\n"
      editorLayout	      "100 M4x1[111 62 1650 1012]"
      breakpoints	      "100 M[25]"
    }
  }
  data {
    id			    334
    ssIdNumber		    4
    name		    "isMoveFingerMessage"
    linkNode		    [332 0 335]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    335
    ssIdNumber		    5
    name		    "axis_blocked"
    linkNode		    [332 334 336]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    336
    ssIdNumber		    6
    name		    "errorcode"
    linkNode		    [332 335 0]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  junction {
    id			    337
    position		    [23.5747 49.5747 7]
    chart		    332
    linkNode		    [332 0 0]
    subviewer		    332
    ssIdNumber		    3
    type		    CONNECTIVE_JUNCTION
  }
  transition {
    id			    338
    labelString		    "{eML_blk_kernel();}"
    labelPosition	    [36.125 25.875 102.544 14.964]
    fontSize		    12
    src {
      intersection	      [0 0 1 0 23.5747 14.625 0 0]
    }
    dst {
      id		      337
      intersection	      [1 0 -1 0 23.5747 42.5747 0 0]
    }
    midPoint		    [23.5747 24.9468]
    chart		    332
    linkNode		    [332 0 0]
    dataLimits		    [23.575 23.575 14.625 34.575]
    subviewer		    332
    drawStyle		    SMART
    slide {
      sticky		      BOTH_STICK
    }
    executionOrder	    1
    ssIdNumber		    2
  }
  instance {
    id			    339
    name		    "Get Arm State/Get Gripper Status/Grasp Success1"
    machine		    1
    chart		    332
  }
  chart {
    id			    340
    name		    "Subsystem/Plan Arm Trajectory/Embedded\nMATLAB Function"
    windowPosition	    [387.333 326.75 213 385]
    viewLimits		    [0 156.75 0 153.75]
    screen		    [1 1 1280 1024 1.333333333333333]
    treeNode		    [0 341 0 0]
    firstTransition	    348
    firstJunction	    347
    viewObj		    340
    machine		    1
    toolbarMode		    LIBRARY_TOOLBAR
    ssIdHighWaterMark	    8
    decomposition	    CLUSTER_CHART
    type		    EML_CHART
    firstData		    342
    chartFileNumber	    28
    disableImplicitCasting  1
    eml {
      name		      "f"
    }
  }
  state {
    id			    341
    labelString		    "eML_blk_kernel()"
    position		    [18 64.5 118 66]
    fontSize		    12
    chart		    340
    treeNode		    [340 0 0 0]
    superState		    SUBCHART
    subviewer		    340
    ssIdNumber		    1
    type		    FUNC_STATE
    decomposition	    CLUSTER_STATE
    eml {
      isEML		      1
      script		      "function [Eout, Cout] = f(FTError, contact_or_not, contact_scenario)\n%#eml\n\n    persistent Est"
      "eps_remaining Csteps_remaining contact_or_not_first contact_scenario_first;\n    \n    Eout = zeros(3,1);\n    C"
      "out = zeros(2,1);\n\n    if isempty(Esteps_remaining)\n        Esteps_remaining = 0;\n    end\n    if isempty(Cs"
      "teps_remaining)\n        Csteps_remaining = 0;\n    end\n    if isempty(contact_or_not_first) || isempty(contact"
      "_scenario_first)\n       contact_or_not_first = 0;\n       contact_scenario_first = 0;\n    end\n    \n    if FT"
      "Error\n       Esteps_remaining = 2;\n    end\n    if Esteps_remaining > 0\n        Eout(1) = 1;\n        Eout(2)"
      " = contact_or_not;\n        Eout(3) = contact_scenario;\n        Esteps_remaining = Esteps_remaining - 1;\n    e"
      "lse\n        Eout(1) = 0;\n        Eout(2) = 0;\n        Eout(3) = 0;\n    end\n    \n    if contact_or_not > 0\n"
      "        Csteps_remaining = 20;\n        contact_or_not_first = contact_or_not;\n        contact_scenario_first ="
      " contact_scenario;\n    end\n    if Csteps_remaining > 0\n        Cout(1) = contact_or_not_first;\n        Cout("
      "2) = contact_scenario_first;\n        Csteps_remaining = Csteps_remaining - 1;\n    else\n        contact_or_not"
      "_first = 0;\n        contact_scenario_first = 0;\n        Cout(1) = 0;\n        Cout(2) = 0;\n    end\n    \nend"
      editorLayout	      "100 M4x1[86 59 1650 1012]"
    }
  }
  data {
    id			    342
    ssIdNumber		    4
    name		    "FTError"
    linkNode		    [340 0 343]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    343
    ssIdNumber		    5
    name		    "Eout"
    linkNode		    [340 342 344]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    344
    ssIdNumber		    6
    name		    "contact_or_not"
    linkNode		    [340 343 345]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    345
    ssIdNumber		    7
    name		    "contact_scenario"
    linkNode		    [340 344 346]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    346
    ssIdNumber		    8
    name		    "Cout"
    linkNode		    [340 345 0]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  junction {
    id			    347
    position		    [23.5747 49.5747 7]
    chart		    340
    linkNode		    [340 0 0]
    subviewer		    340
    ssIdNumber		    3
    type		    CONNECTIVE_JUNCTION
  }
  transition {
    id			    348
    labelString		    "{eML_blk_kernel();}"
    labelPosition	    [36.125 25.875 102.544 14.964]
    fontSize		    12
    src {
      intersection	      [0 0 1 0 23.5747 14.625 0 0]
    }
    dst {
      id		      347
      intersection	      [1 0 -1 0 23.5747 42.5747 0 0]
    }
    midPoint		    [23.5747 24.9468]
    chart		    340
    linkNode		    [340 0 0]
    dataLimits		    [23.575 23.575 14.625 34.575]
    subviewer		    340
    drawStyle		    SMART
    slide {
      sticky		      BOTH_STICK
    }
    executionOrder	    1
    ssIdNumber		    2
  }
  instance {
    id			    349
    name		    "Subsystem/Plan Arm Trajectory/Embedded\nMATLAB Function"
    machine		    1
    chart		    340
  }
  chart {
    id			    350
    name		    "Subsystem/Impedance Controller/Convert NaN to Zero1"
    windowPosition	    [347.556 197.542 213 385]
    viewLimits		    [0 156.75 0 153.75]
    screen		    [1 1 1280 1024 1.333333333333333]
    treeNode		    [0 351 0 0]
    firstTransition	    355
    firstJunction	    354
    viewObj		    350
    visible		    1
    machine		    1
    subviewS {
    }
    ssIdHighWaterMark	    5
    decomposition	    CLUSTER_CHART
    type		    EML_CHART
    firstData		    352
    chartFileNumber	    29
    disableImplicitCasting  1
    eml {
      name		      "fcn"
    }
  }
  state {
    id			    351
    labelString		    "eML_blk_kernel()"
    position		    [18 64.5 118 66]
    fontSize		    12
    chart		    350
    treeNode		    [350 0 0 0]
    superState		    SUBCHART
    subviewer		    350
    ssIdNumber		    1
    type		    FUNC_STATE
    decomposition	    CLUSTER_STATE
    eml {
      isEML		      1
      script		      "function y = fcn(u)\n%#eml\n\nu(isnan(u)) = 0; % convert NaN into 0!!!!\n\n%uMax = [15.0 25.0 8.0"
      " 8.0 2.0 3.0 2.0];\nuMax = [77.3 160.6 95.6 29.4 11.6 11.6 2.7]*.99;\n\nfor i = 1:7\n   if u(i) < -uMax(i)\n    "
      "   u(i) = -uMax(i);\n   end\n   if u(i) > uMax(i)\n       u(i) = uMax(i);\n   end\nend\n   \n\ny = u;"
      editorLayout	      "100 M4x1[293 453 1456 876]"
    }
  }
  data {
    id			    352
    ssIdNumber		    4
    name		    "u"
    linkNode		    [350 0 353]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    353
    ssIdNumber		    5
    name		    "y"
    linkNode		    [350 352 0]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  junction {
    id			    354
    position		    [23.5747 49.5747 7]
    chart		    350
    linkNode		    [350 0 0]
    subviewer		    350
    ssIdNumber		    3
    type		    CONNECTIVE_JUNCTION
  }
  transition {
    id			    355
    labelString		    "{eML_blk_kernel();}"
    labelPosition	    [36.125 25.875 102.544 14.964]
    fontSize		    12
    src {
      intersection	      [0 0 1 0 23.5747 14.625 0 0]
    }
    dst {
      id		      354
      intersection	      [1 0 -1 0 23.5747 42.5747 0 0]
    }
    midPoint		    [23.5747 24.9468]
    chart		    350
    linkNode		    [350 0 0]
    dataLimits		    [21.175 25.975 14.625 42.575]
    subviewer		    350
    drawStyle		    SMART
    slide {
      sticky		      BOTH_STICK
    }
    executionOrder	    1
    ssIdNumber		    2
  }
  instance {
    id			    356
    name		    "Subsystem/Impedance Controller/Convert NaN to Zero1"
    machine		    1
    chart		    350
  }
  chart {
    id			    357
    name		    "Subsystem/Limit taud"
    windowPosition	    [376 144.067 213 385]
    viewLimits		    [0 156.75 0 153.75]
    screen		    [1 1 1280 1024 1.333333333333333]
    treeNode		    [0 358 0 0]
    firstTransition	    362
    firstJunction	    361
    viewObj		    357
    machine		    1
    toolbarMode		    LIBRARY_TOOLBAR
    ssIdHighWaterMark	    5
    decomposition	    CLUSTER_CHART
    type		    EML_CHART
    firstData		    359
    chartFileNumber	    30
    disableImplicitCasting  1
    eml {
      name		      "fcn"
    }
  }
  state {
    id			    358
    labelString		    "eML_blk_kernel()"
    position		    [18 64.5 118 66]
    fontSize		    12
    chart		    357
    treeNode		    [357 0 0 0]
    superState		    SUBCHART
    subviewer		    357
    ssIdNumber		    1
    type		    FUNC_STATE
    decomposition	    CLUSTER_STATE
    eml {
      isEML		      1
      script		      "function y = fcn(u)\ncheck = u>[2000 2000 2000 2000 2000 2000 2000]';\n\nerror = sum(check)>0;\n\n"
      "if error\n    y = 1;\nelse\n    y = 0;\nend"
      editorLayout	      "100 M4x1[248 160 1456 876]"
    }
  }
  data {
    id			    359
    ssIdNumber		    4
    name		    "u"
    linkNode		    [357 0 360]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    360
    ssIdNumber		    5
    name		    "y"
    linkNode		    [357 359 0]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  junction {
    id			    361
    position		    [23.5747 49.5747 7]
    chart		    357
    linkNode		    [357 0 0]
    subviewer		    357
    ssIdNumber		    3
    type		    CONNECTIVE_JUNCTION
  }
  transition {
    id			    362
    labelString		    "{eML_blk_kernel();}"
    labelPosition	    [36.125 25.875 102.544 14.964]
    fontSize		    12
    src {
      intersection	      [0 0 1 0 23.5747 14.625 0 0]
    }
    dst {
      id		      361
      intersection	      [1 0 -1 0 23.5747 42.5747 0 0]
    }
    midPoint		    [23.5747 24.9468]
    chart		    357
    linkNode		    [357 0 0]
    dataLimits		    [23.575 23.575 14.625 34.575]
    subviewer		    357
    drawStyle		    SMART
    slide {
      sticky		      BOTH_STICK
    }
    executionOrder	    1
    ssIdNumber		    2
  }
  instance {
    id			    363
    name		    "Subsystem/Limit taud"
    machine		    1
    chart		    357
  }
  chart {
    id			    364
    name		    "Subsystem/Plan Arm Trajectory/Embedded\nMATLAB Function1"
    windowPosition	    [374 326.75 213 385]
    viewLimits		    [0 156.75 0 153.75]
    screen		    [1 1 1280 1024 1.333333333333333]
    treeNode		    [0 365 0 0]
    firstTransition	    371
    firstJunction	    370
    viewObj		    364
    machine		    1
    toolbarMode		    LIBRARY_TOOLBAR
    ssIdHighWaterMark	    10
    decomposition	    CLUSTER_CHART
    type		    EML_CHART
    firstData		    366
    chartFileNumber	    31
    disableImplicitCasting  1
    eml {
      name		      "f"
    }
  }
  state {
    id			    365
    labelString		    "eML_blk_kernel()"
    position		    [18 64.5 118 66]
    fontSize		    12
    chart		    364
    treeNode		    [364 0 0 0]
    superState		    SUBCHART
    subviewer		    364
    ssIdNumber		    1
    type		    FUNC_STATE
    decomposition	    CLUSTER_STATE
    eml {
      isEML		      1
      script		      "function ImpErrOut  = f(InContact, FTerr,ImpErr)\n%#eml\n    \n    ImpErr = double(ImpErr) || dou"
      "ble(FTerr) || double(InContact);\n\n    if ImpErr\n        ImpErrOut = 1;\n    else\n        ImpErrOut = 0;\n   "
      " end\n\nend"
      editorLayout	      "100 M4x1[111 62 1650 1012]"
    }
  }
  data {
    id			    366
    ssIdNumber		    10
    name		    "InContact"
    linkNode		    [364 0 367]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    367
    ssIdNumber		    9
    name		    "FTerr"
    linkNode		    [364 366 368]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
	isSigned		1
	wordLength		"16"
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    368
    ssIdNumber		    4
    name		    "ImpErr"
    linkNode		    [364 367 369]
    scope		    INPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
    }
    dataType		    "Inherit: Same as Simulink"
  }
  data {
    id			    369
    ssIdNumber		    5
    name		    "ImpErrOut"
    linkNode		    [364 368 0]
    scope		    OUTPUT_DATA
    machine		    1
    props {
      array {
	size			"-1"
      }
      type {
	method			SF_INHERITED_TYPE
	primitive		SF_DOUBLE_TYPE
      }
      complexity	      SF_COMPLEX_INHERITED
      frame		      SF_FRAME_NO
    }
    dataType		    "Inherit: Same as Simulink"
  }
  junction {
    id			    370
    position		    [23.5747 49.5747 7]
    chart		    364
    linkNode		    [364 0 0]
    subviewer		    364
    ssIdNumber		    3
    type		    CONNECTIVE_JUNCTION
  }
  transition {
    id			    371
    labelString		    "{eML_blk_kernel();}"
    labelPosition	    [36.125 25.875 102.544 14.964]
    fontSize		    12
    src {
      intersection	      [0 0 1 0 23.5747 14.625 0 0]
    }
    dst {
      id		      370
      intersection	      [1 0 -1 0 23.5747 42.5747 0 0]
    }
    midPoint		    [23.5747 24.9468]
    chart		    364
    linkNode		    [364 0 0]
    dataLimits		    [23.575 23.575 14.625 34.575]
    subviewer		    364
    drawStyle		    SMART
    slide {
      sticky		      BOTH_STICK
    }
    executionOrder	    1
    ssIdNumber		    2
  }
  instance {
    id			    372
    name		    "Subsystem/Plan Arm Trajectory/Embedded\nMATLAB Function1"
    machine		    1
    chart		    364
  }
  target {
    id			    373
    name		    "sfun"
    codeFlags		    ""
    machine		    1
    linkNode		    [1 0 374]
  }
  target {
    id			    374
    name		    "rtw"
    codeFlags		    " comments=1 statebitsets=1 databitsets=1 emitlogicalops=1 elseifdetection=1 constantfolding=1 redu"
    "ndantloadelimination=0 preservenames=0 preservenameswithparent=0 exportcharts=0"
    machine		    1
    linkNode		    [1 373 0]
  }
}
